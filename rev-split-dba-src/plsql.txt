
OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE               1 Package CORE
IRPTOW     CORE                           PACKAGE               2   IS
IRPTOW     CORE                           PACKAGE               3 -- Purpose:
IRPTOW     CORE                           PACKAGE               4 --
IRPTOW     CORE                           PACKAGE               5 -- MODIFICATION HISTORY
IRPTOW     CORE                           PACKAGE               6 -- Person      Date    Comments
IRPTOW     CORE                           PACKAGE               7 -- ---------   ------  ------------------------------------------
IRPTOW     CORE                           PACKAGE               8
IRPTOW     CORE                           PACKAGE               9 -- add_partition is a wrapper for ptn_add_split
IRPTOW     CORE                           PACKAGE              10 FUNCTION version
IRPTOW     CORE                           PACKAGE              11         RETURN VARCHAR2;
IRPTOW     CORE                           PACKAGE              12
IRPTOW     CORE                           PACKAGE              13 PROCEDURE add_partition
IRPTOW     CORE                           PACKAGE              14         ( p_tbl         IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              15           p_basedt      IN DATE      DEFAULT NULL,
IRPTOW     CORE                           PACKAGE              16           p_nbr_periods IN NUMBER    DEFAULT NULL,
IRPTOW     CORE                           PACKAGE              17           p_targetdt    IN DATE      DEFAULT NULL );
IRPTOW     CORE                           PACKAGE              18
IRPTOW     CORE                           PACKAGE              19 PROCEDURE ptn_add_split
IRPTOW     CORE                           PACKAGE              20         ( p_tbl    IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              21           p_basedt IN DATE,
IRPTOW     CORE                           PACKAGE              22           p_maxval IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              23           p_mask   IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              24           p_tbs    IN VARCHAR2 );
IRPTOW     CORE                           PACKAGE              25
IRPTOW     CORE                           PACKAGE              26 PROCEDURE ptn_drop
IRPTOW     CORE                           PACKAGE              27         ( tbl        IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              28           p_dropdate IN DATE );
IRPTOW     CORE                           PACKAGE              29
IRPTOW     CORE                           PACKAGE              30 PROCEDURE ptn_drop_index
IRPTOW     CORE                           PACKAGE              31         ( tbl        IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              32           p_dropdate IN DATE );
IRPTOW     CORE                           PACKAGE              33
IRPTOW     CORE                           PACKAGE              34 PROCEDURE ptn_exchange
IRPTOW     CORE                           PACKAGE              35         ( source_tbl IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              36           target_tbl IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              37           target_ptn IN VARCHAR2);
IRPTOW     CORE                           PACKAGE              38
IRPTOW     CORE                           PACKAGE              39 FUNCTION max_ptn_name
IRPTOW     CORE                           PACKAGE              40         ( obj IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              41           obj_type IN VARCHAR2 DEFAULT 'TABLE' )
IRPTOW     CORE                           PACKAGE              42         RETURN  VARCHAR2;
IRPTOW     CORE                           PACKAGE              43
IRPTOW     CORE                           PACKAGE              44 FUNCTION ptn_tbs
IRPTOW     CORE                           PACKAGE              45         ( ptn IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              46           obj_type IN VARCHAR2 DEFAULT 'TABLE' )
IRPTOW     CORE                           PACKAGE              47         RETURN  VARCHAR2;
IRPTOW     CORE                           PACKAGE              48
IRPTOW     CORE                           PACKAGE              49 FUNCTION ptn_tbs_available
IRPTOW     CORE                           PACKAGE              50         ( tbl IN VARCHAR2 )
IRPTOW     CORE                           PACKAGE              51         RETURN  VARCHAR2;
IRPTOW     CORE                           PACKAGE              52
IRPTOW     CORE                           PACKAGE              53 FUNCTION safe_drop_date
IRPTOW     CORE                           PACKAGE              54         ( p_basedate     IN DATE,
IRPTOW     CORE                           PACKAGE              55           p_period_count IN NUMBER,
IRPTOW     CORE                           PACKAGE              56           p_period       IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              57           p_strategy     IN VARCHAR2 DEFAULT 'DEFERRED' )
IRPTOW     CORE                           PACKAGE              58         RETURN DATE;
IRPTOW     CORE                           PACKAGE              59
IRPTOW     CORE                           PACKAGE              60 Function      SYSPARM_DT
IRPTOW     CORE                           PACKAGE              61     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE              62      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE              63 RETURN  date;
IRPTOW     CORE                           PACKAGE              64
IRPTOW     CORE                           PACKAGE              65 Function      SYSPARM_NBR
IRPTOW     CORE                           PACKAGE              66     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE              67      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE              68 RETURN  number;
IRPTOW     CORE                           PACKAGE              69
IRPTOW     CORE                           PACKAGE              70 Function      SYSPARM_STR
IRPTOW     CORE                           PACKAGE              71     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE              72      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE              73 RETURN  varchar2;
IRPTOW     CORE                           PACKAGE              74
IRPTOW     CORE                           PACKAGE              75 FUNCTION last_word
IRPTOW     CORE                           PACKAGE              76         ( str IN VARCHAR2,
IRPTOW     CORE                           PACKAGE              77           delim IN VARCHAR2 )
IRPTOW     CORE                           PACKAGE              78         RETURN  VARCHAR2;
IRPTOW     CORE                           PACKAGE              79
IRPTOW     CORE                           PACKAGE              80 END; -- Package Specification CORE
IRPTOW     DBMS_DDL                       PACKAGE               1 package dbms_ddl AUTHID CURRENT_USER is
IRPTOW     DBMS_DDL                       PACKAGE               2   ------------
IRPTOW     DBMS_DDL                       PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_DDL                       PACKAGE               4   --
IRPTOW     DBMS_DDL                       PACKAGE               5   --  This package provides access to some SQL DDL statements from
IRPTOW     DBMS_DDL                       PACKAGE               6   --  stored procedures.
IRPTOW     DBMS_DDL                       PACKAGE               7   --  It also provides some special administration operations that are
IRPTOW     DBMS_DDL                       PACKAGE               8   --  not available as DDLs.
IRPTOW     DBMS_DDL                       PACKAGE               9
IRPTOW     DBMS_DDL                       PACKAGE              10   ----------------------------
IRPTOW     DBMS_DDL                       PACKAGE              11   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_DDL                       PACKAGE              12   --
IRPTOW     DBMS_DDL                       PACKAGE              13   procedure alter_compile(type varchar2, schema varchar2, name varchar2);
IRPTOW     DBMS_DDL                       PACKAGE              14   --  Equivalent to SQL "ALTER PROCEDURE|FUNCTION|PACKAGE [<schema>.]
IRPTOW     DBMS_DDL                       PACKAGE              15   --    <name> COMPILE [BODY]".  If the named object is this package,
IRPTOW     DBMS_DDL                       PACKAGE              16   --    or any packages upon which it depends (currently "standard" or
IRPTOW     DBMS_DDL                       PACKAGE              17   --    "dbms_standard") then the procedure simply returns (since these

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_DDL                       PACKAGE              18   --    packages are clearly successfully compiled).
IRPTOW     DBMS_DDL                       PACKAGE              19   --  Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE              20   --    type
IRPTOW     DBMS_DDL                       PACKAGE              21   --      Must be one of "PROCEDURE", "FUNCTION", "PACKAGE", "PACKAGE
IRPTOW     DBMS_DDL                       PACKAGE              22   --      BODY" or "TRIGGER".
IRPTOW     DBMS_DDL                       PACKAGE              23   --    schema
IRPTOW     DBMS_DDL                       PACKAGE              24   --      The schema name.  If NULL then use current schema.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE              25   --    name
IRPTOW     DBMS_DDL                       PACKAGE              26   --      The name of the object.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE              27   --  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE              28   --    ORA-20000: Insufficient privileges or object does not exist.
IRPTOW     DBMS_DDL                       PACKAGE              29   --    ORA-20001: Remote object, cannot compile.
IRPTOW     DBMS_DDL                       PACKAGE              30   --    ORA-20002: Bad value for object type.  Should be one of PACKAGE,
IRPTOW     DBMS_DDL                       PACKAGE              31   --      PACKAGE BODY, PROCEDURE, FUNCTION, or TRIGGER.
IRPTOW     DBMS_DDL                       PACKAGE              32   procedure analyze_object
IRPTOW     DBMS_DDL                       PACKAGE              33     (type varchar2, schema varchar2, name varchar2, method varchar2,
IRPTOW     DBMS_DDL                       PACKAGE              34      estimate_rows number default null,
IRPTOW     DBMS_DDL                       PACKAGE              35      estimate_percent number default null, method_opt varchar2 default null,
IRPTOW     DBMS_DDL                       PACKAGE              36      partname varchar2 default null);
IRPTOW     DBMS_DDL                       PACKAGE              37   --  Equivalent to SQL "ANALYZE TABLE|CLUSTER|INDEX [<schema>.]<name>
IRPTOW     DBMS_DDL                       PACKAGE              38   --    [<method>] STATISTICS [SAMPLE <n> [ROWS|PERCENT]]"
IRPTOW     DBMS_DDL                       PACKAGE              39   --  Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE              40   --    type
IRPTOW     DBMS_DDL                       PACKAGE              41   --      One of 'TABLE', 'CLUSTER' or 'INDEX'.  If none of these, the
IRPTOW     DBMS_DDL                       PACKAGE              42   --      procedure just returns.
IRPTOW     DBMS_DDL                       PACKAGE              43   --    schema
IRPTOW     DBMS_DDL                       PACKAGE              44   --      schema of object to analyze.  NULL means current schema.  Case
IRPTOW     DBMS_DDL                       PACKAGE              45   --      sensitive.
IRPTOW     DBMS_DDL                       PACKAGE              46   --    name
IRPTOW     DBMS_DDL                       PACKAGE              47   --      name of object to analyze.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE              48   --    method
IRPTOW     DBMS_DDL                       PACKAGE              49   --      One of 'ESTIMATE', 'COMPUTE' or 'DELETE'. If 'ESTIMATE' then either
IRPTOW     DBMS_DDL                       PACKAGE              50   --      estimate_rows or estimate_percent must be non-zero.
IRPTOW     DBMS_DDL                       PACKAGE              51   --    estimate_rows
IRPTOW     DBMS_DDL                       PACKAGE              52   --      Number of rows to estimate
IRPTOW     DBMS_DDL                       PACKAGE              53   --    estimate_percent
IRPTOW     DBMS_DDL                       PACKAGE              54   --      Percentage of rows to estimate.  If estimate_rows is specified
IRPTOW     DBMS_DDL                       PACKAGE              55   --      than ignore this parameter.
IRPTOW     DBMS_DDL                       PACKAGE              56   --    method_opt
IRPTOW     DBMS_DDL                       PACKAGE              57   --      method options of the following format
IRPTOW     DBMS_DDL                       PACKAGE              58   --      [ FOR TABLE ]
IRPTOW     DBMS_DDL                       PACKAGE              59   --      [ FOR ALL [INDEXED] COLUMNS] [SIZE n]
IRPTOW     DBMS_DDL                       PACKAGE              60   --      [ FOR ALL INDEXES ]
IRPTOW     DBMS_DDL                       PACKAGE              61   --    partname
IRPTOW     DBMS_DDL                       PACKAGE              62   --      specific partition to be analyzed.
IRPTOW     DBMS_DDL                       PACKAGE              63   --  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE              64   --    ORA-20000: Insufficient privileges or object does not exist.
IRPTOW     DBMS_DDL                       PACKAGE              65   --    ORA-20001: Bad value for object type.  Should be one of TABLE, INDEX
IRPTOW     DBMS_DDL                       PACKAGE              66   --      or CLUSTER.
IRPTOW     DBMS_DDL                       PACKAGE              67   --    ORA-20002: METHOD must be one of COMPUTE,ESTIMATE or DELETE
IRPTOW     DBMS_DDL                       PACKAGE              68   procedure alter_table_referenceable
IRPTOW     DBMS_DDL                       PACKAGE              69     (table_name varchar2, table_schema varchar2 default null,
IRPTOW     DBMS_DDL                       PACKAGE              70      affected_schema varchar2 default null);
IRPTOW     DBMS_DDL                       PACKAGE              71   --  Alter the given object table table_schema.table_name so it becomes the
IRPTOW     DBMS_DDL                       PACKAGE              72   --  referenceable table for the given schema affected_schema.
IRPTOW     DBMS_DDL                       PACKAGE              73   --  This is equivalent to SQL "ALTER TABLE [<table_schema>.]<table_name>
IRPTOW     DBMS_DDL                       PACKAGE              74   --  REFERENCEABLE FOR <affected_schema>" which is currently not supported or
IRPTOW     DBMS_DDL                       PACKAGE              75   --  available as a DDL statement.
IRPTOW     DBMS_DDL                       PACKAGE              76   --
IRPTOW     DBMS_DDL                       PACKAGE              77   --  When you create an object table, it automatically becomes referenceable,
IRPTOW     DBMS_DDL                       PACKAGE              78   --  unless you use the OID AS clause when creating the table.
IRPTOW     DBMS_DDL                       PACKAGE              79   --  The OID AS clause allows you to create an object table and to assign
IRPTOW     DBMS_DDL                       PACKAGE              80   --  to the new table the same EOID as another object table of the same type.
IRPTOW     DBMS_DDL                       PACKAGE              81   --  After you create a new table using the OID AS clause, you end up with
IRPTOW     DBMS_DDL                       PACKAGE              82   --  two object table with the same EOID; the new table is not referenceable,
IRPTOW     DBMS_DDL                       PACKAGE              83   --  the original one is.  All references that used to point to the objects
IRPTOW     DBMS_DDL                       PACKAGE              84   --  in the original table still reference the same objects in the same
IRPTOW     DBMS_DDL                       PACKAGE              85   --  original table.
IRPTOW     DBMS_DDL                       PACKAGE              86   --
IRPTOW     DBMS_DDL                       PACKAGE              87   --  If you execute this procedure on the new table, it will make the new
IRPTOW     DBMS_DDL                       PACKAGE              88   --  table the referenceable table replacing the original one; thus, those
IRPTOW     DBMS_DDL                       PACKAGE              89   --  references now point to the objects in the new table instead of the
IRPTOW     DBMS_DDL                       PACKAGE              90   --  original table.
IRPTOW     DBMS_DDL                       PACKAGE              91   --
IRPTOW     DBMS_DDL                       PACKAGE              92   --  For example, the following steps recreate an object table that needs
IRPTOW     DBMS_DDL                       PACKAGE              93   --  to be reorganized for some reasons:
IRPTOW     DBMS_DDL                       PACKAGE              94   --    CREATE TABLE EMP_NEW OF EMPLOYEE OID AS EMP;
IRPTOW     DBMS_DDL                       PACKAGE              95   --    INSERT INTO EMP_NEW (SYS_NC_OID$, EMP_NEW)
IRPTOW     DBMS_DDL                       PACKAGE              96   --      SELECT SYS_NC_OID$, EMP FROM EMP;
IRPTOW     DBMS_DDL                       PACKAGE              97   --    EXECUTE DBMS_DDL.ALTER_TABLE_REFERENCEABLE('EMP_NEW');
IRPTOW     DBMS_DDL                       PACKAGE              98   --      -- table_schema defaults to NULL, thus use the current schema, and
IRPTOW     DBMS_DDL                       PACKAGE              99   --      -- affected_schema defaults to NULL, thus use PUBLIC, which means
IRPTOW     DBMS_DDL                       PACKAGE             100   --      -- all schemas will be affected
IRPTOW     DBMS_DDL                       PACKAGE             101   --    RENAME EMP TO EMP_OLD;
IRPTOW     DBMS_DDL                       PACKAGE             102   --    RENAME EMP_NEW TO EMP;
IRPTOW     DBMS_DDL                       PACKAGE             103   --
IRPTOW     DBMS_DDL                       PACKAGE             104   --  The affected schema can be PUBLIC or a particular schema.  If it is
IRPTOW     DBMS_DDL                       PACKAGE             105   --  PUBLIC, all schemas are affected.  If it is a particular schema, only
IRPTOW     DBMS_DDL                       PACKAGE             106   --  that schema is affected.
IRPTOW     DBMS_DDL                       PACKAGE             107   --
IRPTOW     DBMS_DDL                       PACKAGE             108   --  The user that executes this procedure must own the new table (i.e.,
IRPTOW     DBMS_DDL                       PACKAGE             109   --  the schema is the same as the user), and the affected schema must be the
IRPTOW     DBMS_DDL                       PACKAGE             110   --  same as the user or PUBLIC. If the affected schema is PUBLIC, then the
IRPTOW     DBMS_DDL                       PACKAGE             111   --  user must own the old mapping table for PUBLIC as well.
IRPTOW     DBMS_DDL                       PACKAGE             112   --
IRPTOW     DBMS_DDL                       PACKAGE             113   --  If the user executing this procedure has ALTER ANY TABLE and SELECT ANY
IRPTOW     DBMS_DDL                       PACKAGE             114   --  TABLE and DROP ANY TABLE privileges, the user doesn't have to own the

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_DDL                       PACKAGE             115   --  tables, and the affected schema can be any valid schema or PUBLIC.
IRPTOW     DBMS_DDL                       PACKAGE             116   --
IRPTOW     DBMS_DDL                       PACKAGE             117   --  Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE             118   --    table_name
IRPTOW     DBMS_DDL                       PACKAGE             119   --      The name of the table to be altered.  Cannot be a synonym.
IRPTOW     DBMS_DDL                       PACKAGE             120   --      Must not be NULL.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             121   --    table_schema
IRPTOW     DBMS_DDL                       PACKAGE             122   --      The name of the schema owning the table to be altered.
IRPTOW     DBMS_DDL                       PACKAGE             123   --      If NULL then the current schema is used.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             124   --    affected_schema
IRPTOW     DBMS_DDL                       PACKAGE             125   --      The name of the schema affected by this alteration.
IRPTOW     DBMS_DDL                       PACKAGE             126   --      If NULL then PUBLIC is used.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             127   --  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE             128   --    ORA-20000: insufficient privileges, invalid schema name
IRPTOW     DBMS_DDL                       PACKAGE             129   --               or table does not exist,
IRPTOW     DBMS_DDL                       PACKAGE             130   procedure alter_table_not_referenceable
IRPTOW     DBMS_DDL                       PACKAGE             131     (table_name varchar2, table_schema varchar2 default null,
IRPTOW     DBMS_DDL                       PACKAGE             132      affected_schema varchar2 default null);
IRPTOW     DBMS_DDL                       PACKAGE             133   --  Alter the given object table table_schema.table_name so it becomes not
IRPTOW     DBMS_DDL                       PACKAGE             134   --  the default referenceable table for the schema affected_schema.
IRPTOW     DBMS_DDL                       PACKAGE             135   --  This is equivalent to SQL "ALTER TABLE [<table_schema>.]<table_name>
IRPTOW     DBMS_DDL                       PACKAGE             136   --  NOT REFERENCEABLE FOR <affected_schema>"
IRPTOW     DBMS_DDL                       PACKAGE             137   --  which is currently not supported or available as a DDL statement.
IRPTOW     DBMS_DDL                       PACKAGE             138   --  This procedure simply reverts for the affected schema to the default
IRPTOW     DBMS_DDL                       PACKAGE             139   --  table referenceable for PUBLIC; i.e., it simply undoes the previous
IRPTOW     DBMS_DDL                       PACKAGE             140   --  alter_table_referenceable call for this specific schema.
IRPTOW     DBMS_DDL                       PACKAGE             141   --
IRPTOW     DBMS_DDL                       PACKAGE             142   --  The affected schema must a particular schema (cannot be PUBLIC).
IRPTOW     DBMS_DDL                       PACKAGE             143   --
IRPTOW     DBMS_DDL                       PACKAGE             144   --  The user that executes this procedure must own the table (i.e.,
IRPTOW     DBMS_DDL                       PACKAGE             145   --  the schema is the same as the user), and the affected schema must be
IRPTOW     DBMS_DDL                       PACKAGE             146   --  the same as the user.
IRPTOW     DBMS_DDL                       PACKAGE             147   --
IRPTOW     DBMS_DDL                       PACKAGE             148   --  If the user executing this procedure has ALTER ANY TABLE and SELECT ANY
IRPTOW     DBMS_DDL                       PACKAGE             149   --  TABLE and DROP ANY TABLE privileges, the user doesn't have to own the
IRPTOW     DBMS_DDL                       PACKAGE             150   --  table and the affected schema can be any valid schema.
IRPTOW     DBMS_DDL                       PACKAGE             151   --
IRPTOW     DBMS_DDL                       PACKAGE             152   --  Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE             153   --    table_name
IRPTOW     DBMS_DDL                       PACKAGE             154   --      The name of the table to be altered.  Cannot be a synonym.
IRPTOW     DBMS_DDL                       PACKAGE             155   --      Must not be NULL.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             156   --    table_schema
IRPTOW     DBMS_DDL                       PACKAGE             157   --      The name of the schema owning the table to be altered.
IRPTOW     DBMS_DDL                       PACKAGE             158   --      If NULL then the current schema is used.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             159   --    affected_schema
IRPTOW     DBMS_DDL                       PACKAGE             160   --      The name of the schema affected by this alteration.
IRPTOW     DBMS_DDL                       PACKAGE             161   --      If NULL then the current schema is used.  Case sensitive.
IRPTOW     DBMS_DDL                       PACKAGE             162   --  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE             163   --    ORA-20000: insufficient privileges, invalid schema name or
IRPTOW     DBMS_DDL                       PACKAGE             164   --               table does not exist,
IRPTOW     DBMS_DDL                       PACKAGE             165
IRPTOW     DBMS_DDL                       PACKAGE             166   PROCEDURE set_trigger_firing_property(trig_owner    IN VARCHAR2,
IRPTOW     DBMS_DDL                       PACKAGE             167                                         trig_name     IN VARCHAR2,
IRPTOW     DBMS_DDL                       PACKAGE             168                                         fire_once     IN BOOLEAN);
IRPTOW     DBMS_DDL                       PACKAGE             169   --- ------------------------------------------------------------------------
IRPTOW     DBMS_DDL                       PACKAGE             170   --- Any changes to the data dictionary will be committed without
IRPTOW     DBMS_DDL                       PACKAGE             171   --- interfering user's transaction flow.
IRPTOW     DBMS_DDL                       PACKAGE             172   ---
IRPTOW     DBMS_DDL                       PACKAGE             173   ---   Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE             174   ---     trig_owner
IRPTOW     DBMS_DDL                       PACKAGE             175   ---       owner of the trigger.
IRPTOW     DBMS_DDL                       PACKAGE             176   ---     trig_name
IRPTOW     DBMS_DDL                       PACKAGE             177   ---       name of the trigger.
IRPTOW     DBMS_DDL                       PACKAGE             178   ---     fire_once
IRPTOW     DBMS_DDL                       PACKAGE             179   ---       If TRUE, set a bit to indicate that this trigger will only be
IRPTOW     DBMS_DDL                       PACKAGE             180   ---       fired once (in one place) and won't be fired due to
IRPTOW     DBMS_DDL                       PACKAGE             181   ---       data synchronization done by Oracle.
IRPTOW     DBMS_DDL                       PACKAGE             182   ---       Otherwise, set the bit to FALSE and the trigger will always
IRPTOW     DBMS_DDL                       PACKAGE             183   ---       be fired, subject to its enable/disable property, regardless
IRPTOW     DBMS_DDL                       PACKAGE             184   ---       of whether it's in data synchronization done by Oracle.
IRPTOW     DBMS_DDL                       PACKAGE             185   ---  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE             186   ---     ORA-04072: invalid type.
IRPTOW     DBMS_DDL                       PACKAGE             187   ---     ORA-23308: object %s.%s does not exist or is invalid.
IRPTOW     DBMS_DDL                       PACKAGE             188   ---     ORA-01031: insufficient privilege.
IRPTOW     DBMS_DDL                       PACKAGE             189
IRPTOW     DBMS_DDL                       PACKAGE             190   FUNCTION is_trigger_fire_once(trig_owner    IN VARCHAR2,
IRPTOW     DBMS_DDL                       PACKAGE             191                                 trig_name     IN VARCHAR2) RETURN BOOLEAN;
IRPTOW     DBMS_DDL                       PACKAGE             192   --- ------------------------------------------------------------------------
IRPTOW     DBMS_DDL                       PACKAGE             193   --- return TRUE iff the given trigger should be fired once (one place) only.
IRPTOW     DBMS_DDL                       PACKAGE             194   ---
IRPTOW     DBMS_DDL                       PACKAGE             195   ---   Input arguments:
IRPTOW     DBMS_DDL                       PACKAGE             196   ---     trig_owner
IRPTOW     DBMS_DDL                       PACKAGE             197   ---       owner of the trigger.
IRPTOW     DBMS_DDL                       PACKAGE             198   ---     trig_name
IRPTOW     DBMS_DDL                       PACKAGE             199   ---       name of the trigger.
IRPTOW     DBMS_DDL                       PACKAGE             200   ---  Exceptions:
IRPTOW     DBMS_DDL                       PACKAGE             201   ---     ORA-04072: invalid type.
IRPTOW     DBMS_DDL                       PACKAGE             202   ---     ORA-23308: object %s.%s does not exist or is invalid.
IRPTOW     DBMS_DDL                       PACKAGE             203
IRPTOW     DBMS_DDL                       PACKAGE             204   FUNCTION is_trigger_fire_once_internal(trig_owner    IN VARCHAR2,
IRPTOW     DBMS_DDL                       PACKAGE             205                                          trig_name     IN VARCHAR2)
IRPTOW     DBMS_DDL                       PACKAGE             206     RETURN BINARY_INTEGER;
IRPTOW     DBMS_DDL                       PACKAGE             207   --- ------------------------------------------------------------------------
IRPTOW     DBMS_DDL                       PACKAGE             208   --- For internal use only.
IRPTOW     DBMS_DDL                       PACKAGE             209
IRPTOW     DBMS_DDL                       PACKAGE             210 end;
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               1 package dbms_pclxutil as

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               2   ------------
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               4   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               5   --  a package that provides intra-partition parallelism for creating
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               6   --  partition-wise local index.
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               7   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               8   --  SECURITY
IRPTOW     DBMS_PCLXUTIL                  PACKAGE               9   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              10   --  The execution privilege is granted to PUBLIC. The procedure
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              11   --  build_part_index in this package run under the caller security.
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              12   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              13
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              14   ----------------------------
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              15
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              16   ----------------------------
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              17
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              18   type JobList is table of number;
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              19
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              20   procedure build_part_index (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              21      jobs_per_batch in number default 1,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              22      procs_per_job  in number default 1,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              23      tab_name       in varchar2 default null,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              24      idx_name       in varchar2 default null,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              25      force_opt      in boolean default FALSE);
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              26   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              27   -- jobs_per_batch: #jobs to be created (1 <= job_count <= #partitions)
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              28   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              29   -- procs_per_job:  #slaves per job (1 <= degree <= max_slaves)
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              30   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              31   -- tab_name:       name of the partitioned table (an exception is
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              32   --                 raised if the table does not exist or not
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              33   --                 partitioned)
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              34   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              35   -- idx_name:       name given to the local index (an exception is
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              36   --                 raised if a local index is not created on the
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              37   --                 table tab_name)
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              38   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              39   -- force_opt:      if TRUE force rebuild of all partitioned indices;
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              40   --                 otherwise rebuild only the partitions marked
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              41   --                 'UNUSABLE'
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              42   --
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              43
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              44   function calc_default_slaves (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              45       default_str    in varchar2) return number;
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              46
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              47   procedure wait_till_queue_ready (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              48      job_count      in number,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              49      current_jobs   in out JobList);
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              50
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              51   procedure update_queue_status (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              52      this_job       in number,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              53      current_jobs   in out JobList);
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              54
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              55   procedure submit_job (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              56      job_count      in number,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              57      current_jobs   in out JobList,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              58      idx_name       in varchar2,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              59      part_name      in varchar2,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              60      slaves         in number,
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              61      composite      in boolean);
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              62
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              63   procedure clean_my_queue (
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              64      current_jobs   in JobList);
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              65
IRPTOW     DBMS_PCLXUTIL                  PACKAGE              66 end dbms_pclxutil;
IRPTOW     DBMS_ROWID                     PACKAGE               1 package dbms_rowid is
IRPTOW     DBMS_ROWID                     PACKAGE               2   ------------
IRPTOW     DBMS_ROWID                     PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_ROWID                     PACKAGE               4   --
IRPTOW     DBMS_ROWID                     PACKAGE               5   --  This package provides procedures to create ROWIDs and to interpret
IRPTOW     DBMS_ROWID                     PACKAGE               6   --  their contents
IRPTOW     DBMS_ROWID                     PACKAGE               7
IRPTOW     DBMS_ROWID                     PACKAGE               8   --  SECURITY
IRPTOW     DBMS_ROWID                     PACKAGE               9   --
IRPTOW     DBMS_ROWID                     PACKAGE              10   --  The execution privilege is granted to PUBLIC. Procedures in this
IRPTOW     DBMS_ROWID                     PACKAGE              11   --  package run under the caller security.
IRPTOW     DBMS_ROWID                     PACKAGE              12
IRPTOW     DBMS_ROWID                     PACKAGE              13
IRPTOW     DBMS_ROWID                     PACKAGE              14   ----------------------------
IRPTOW     DBMS_ROWID                     PACKAGE              15
IRPTOW     DBMS_ROWID                     PACKAGE              16   ----------------------------
IRPTOW     DBMS_ROWID                     PACKAGE              17
IRPTOW     DBMS_ROWID                     PACKAGE              18   --  ROWID TYPES:
IRPTOW     DBMS_ROWID                     PACKAGE              19   --
IRPTOW     DBMS_ROWID                     PACKAGE              20   --   RESTRICTED - Restricted ROWID
IRPTOW     DBMS_ROWID                     PACKAGE              21   --
IRPTOW     DBMS_ROWID                     PACKAGE              22   --   EXTENDED   - Extended ROWID
IRPTOW     DBMS_ROWID                     PACKAGE              23   --
IRPTOW     DBMS_ROWID                     PACKAGE              24   rowid_type_restricted constant integer := 0;
IRPTOW     DBMS_ROWID                     PACKAGE              25   rowid_type_extended   constant integer := 1;
IRPTOW     DBMS_ROWID                     PACKAGE              26
IRPTOW     DBMS_ROWID                     PACKAGE              27   --  ROWID VERIFICATION RESULTS:
IRPTOW     DBMS_ROWID                     PACKAGE              28   --
IRPTOW     DBMS_ROWID                     PACKAGE              29   --   VALID   - Valid ROWID
IRPTOW     DBMS_ROWID                     PACKAGE              30   --
IRPTOW     DBMS_ROWID                     PACKAGE              31   --   INVALID - Invalid ROWID
IRPTOW     DBMS_ROWID                     PACKAGE              32   --

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_ROWID                     PACKAGE              33   rowid_is_valid   constant integer := 0;
IRPTOW     DBMS_ROWID                     PACKAGE              34   rowid_is_invalid constant integer := 1;
IRPTOW     DBMS_ROWID                     PACKAGE              35
IRPTOW     DBMS_ROWID                     PACKAGE              36   --  OBJECT TYPES:
IRPTOW     DBMS_ROWID                     PACKAGE              37   --
IRPTOW     DBMS_ROWID                     PACKAGE              38   --   UNDEFINED - Object Number not defined (for restricted ROWIDs)
IRPTOW     DBMS_ROWID                     PACKAGE              39   --
IRPTOW     DBMS_ROWID                     PACKAGE              40   rowid_object_undefined constant integer := 0;
IRPTOW     DBMS_ROWID                     PACKAGE              41
IRPTOW     DBMS_ROWID                     PACKAGE              42   --  ROWID CONVERSION TYPES:
IRPTOW     DBMS_ROWID                     PACKAGE              43   --
IRPTOW     DBMS_ROWID                     PACKAGE              44   --   INTERNAL - convert to/from column of ROWID type
IRPTOW     DBMS_ROWID                     PACKAGE              45   --
IRPTOW     DBMS_ROWID                     PACKAGE              46   --   EXTERNAL - convert to/from string format
IRPTOW     DBMS_ROWID                     PACKAGE              47   --
IRPTOW     DBMS_ROWID                     PACKAGE              48   rowid_convert_internal constant integer := 0;
IRPTOW     DBMS_ROWID                     PACKAGE              49   rowid_convert_external constant integer := 1;
IRPTOW     DBMS_ROWID                     PACKAGE              50
IRPTOW     DBMS_ROWID                     PACKAGE              51   --  EXCEPTIONS:
IRPTOW     DBMS_ROWID                     PACKAGE              52   --
IRPTOW     DBMS_ROWID                     PACKAGE              53   -- ROWID_INVALID  - invalid rowid format
IRPTOW     DBMS_ROWID                     PACKAGE              54   --
IRPTOW     DBMS_ROWID                     PACKAGE              55   -- ROWID_BAD_BLOCK - block is beyond end of file
IRPTOW     DBMS_ROWID                     PACKAGE              56   --
IRPTOW     DBMS_ROWID                     PACKAGE              57   ROWID_INVALID exception;
IRPTOW     DBMS_ROWID                     PACKAGE              58      pragma exception_init(ROWID_INVALID, -1410);
IRPTOW     DBMS_ROWID                     PACKAGE              59   ROWID_BAD_BLOCK exception;
IRPTOW     DBMS_ROWID                     PACKAGE              60      pragma exception_init(ROWID_BAD_BLOCK, -28516);
IRPTOW     DBMS_ROWID                     PACKAGE              61
IRPTOW     DBMS_ROWID                     PACKAGE              62   --  PROCEDURES AND FUNCTIONS:
IRPTOW     DBMS_ROWID                     PACKAGE              63   --
IRPTOW     DBMS_ROWID                     PACKAGE              64
IRPTOW     DBMS_ROWID                     PACKAGE              65   --
IRPTOW     DBMS_ROWID                     PACKAGE              66   -- ROWID_CREATE constructs a ROWID from its constituents:
IRPTOW     DBMS_ROWID                     PACKAGE              67   --
IRPTOW     DBMS_ROWID                     PACKAGE              68   -- rowid_type - type (restricted/extended)
IRPTOW     DBMS_ROWID                     PACKAGE              69   -- object_number - data object number (rowid_object_undefined for restricted)
IRPTOW     DBMS_ROWID                     PACKAGE              70   -- relative_fno - relative file number
IRPTOW     DBMS_ROWID                     PACKAGE              71   -- block_number - block number in this file
IRPTOW     DBMS_ROWID                     PACKAGE              72   -- file_number - file number in this block
IRPTOW     DBMS_ROWID                     PACKAGE              73   --
IRPTOW     DBMS_ROWID                     PACKAGE              74   function rowid_create(rowid_type IN number,
IRPTOW     DBMS_ROWID                     PACKAGE              75                         object_number IN number,
IRPTOW     DBMS_ROWID                     PACKAGE              76                         relative_fno IN number,
IRPTOW     DBMS_ROWID                     PACKAGE              77                         block_number IN number,
IRPTOW     DBMS_ROWID                     PACKAGE              78                         row_number IN number)
IRPTOW     DBMS_ROWID                     PACKAGE              79 			return rowid;
IRPTOW     DBMS_ROWID                     PACKAGE              80   pragma RESTRICT_REFERENCES(rowid_create,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE              81
IRPTOW     DBMS_ROWID                     PACKAGE              82   --
IRPTOW     DBMS_ROWID                     PACKAGE              83   -- ROWID_INFO breaks ROWID into its components and returns them:
IRPTOW     DBMS_ROWID                     PACKAGE              84   --
IRPTOW     DBMS_ROWID                     PACKAGE              85   -- rowid_in - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE              86   -- rowid_type - type (restricted/extended)
IRPTOW     DBMS_ROWID                     PACKAGE              87   -- object_number - data object number (rowid_object_undefined for restricted)
IRPTOW     DBMS_ROWID                     PACKAGE              88   -- relative_fno - relative file number
IRPTOW     DBMS_ROWID                     PACKAGE              89   -- block_number - block number in this file
IRPTOW     DBMS_ROWID                     PACKAGE              90   -- file_number - file number in this block
IRPTOW     DBMS_ROWID                     PACKAGE              91   --
IRPTOW     DBMS_ROWID                     PACKAGE              92   procedure rowid_info( rowid_in IN rowid,
IRPTOW     DBMS_ROWID                     PACKAGE              93 			rowid_type OUT number,
IRPTOW     DBMS_ROWID                     PACKAGE              94                         object_number OUT number,
IRPTOW     DBMS_ROWID                     PACKAGE              95                         relative_fno OUT number,
IRPTOW     DBMS_ROWID                     PACKAGE              96                         block_number OUT number,
IRPTOW     DBMS_ROWID                     PACKAGE              97                         row_number OUT number);
IRPTOW     DBMS_ROWID                     PACKAGE              98   pragma RESTRICT_REFERENCES(rowid_info,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE              99
IRPTOW     DBMS_ROWID                     PACKAGE             100   --
IRPTOW     DBMS_ROWID                     PACKAGE             101   -- ROWID_TYPE returns the type of a ROWID (restricted/extended_nopart,..)
IRPTOW     DBMS_ROWID                     PACKAGE             102   --
IRPTOW     DBMS_ROWID                     PACKAGE             103   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             104   --
IRPTOW     DBMS_ROWID                     PACKAGE             105   function rowid_type(row_id IN rowid)
IRPTOW     DBMS_ROWID                     PACKAGE             106 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             107   pragma RESTRICT_REFERENCES(rowid_type,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             108
IRPTOW     DBMS_ROWID                     PACKAGE             109   --
IRPTOW     DBMS_ROWID                     PACKAGE             110   -- ROWID_OBJECT extracts the data object number from a ROWID.
IRPTOW     DBMS_ROWID                     PACKAGE             111   -- ROWID_OBJECT_UNDEFINED is returned for restricted rowids.
IRPTOW     DBMS_ROWID                     PACKAGE             112   --
IRPTOW     DBMS_ROWID                     PACKAGE             113   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             114   --
IRPTOW     DBMS_ROWID                     PACKAGE             115   function rowid_object(row_id IN rowid)
IRPTOW     DBMS_ROWID                     PACKAGE             116 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             117   pragma RESTRICT_REFERENCES(rowid_object,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             118
IRPTOW     DBMS_ROWID                     PACKAGE             119   --
IRPTOW     DBMS_ROWID                     PACKAGE             120   -- ROWID_RELATIVE_FNO extracts the relative file number from a ROWID.
IRPTOW     DBMS_ROWID                     PACKAGE             121   --
IRPTOW     DBMS_ROWID                     PACKAGE             122   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             123   --
IRPTOW     DBMS_ROWID                     PACKAGE             124   function rowid_relative_fno(row_id IN rowid)
IRPTOW     DBMS_ROWID                     PACKAGE             125 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             126   pragma RESTRICT_REFERENCES(rowid_relative_fno,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             127
IRPTOW     DBMS_ROWID                     PACKAGE             128   --
IRPTOW     DBMS_ROWID                     PACKAGE             129   -- ROWID_BLOCK_NUMBER extracts the block number from a ROWID.

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_ROWID                     PACKAGE             130   --
IRPTOW     DBMS_ROWID                     PACKAGE             131   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             132   --
IRPTOW     DBMS_ROWID                     PACKAGE             133   function rowid_block_number(row_id IN rowid)
IRPTOW     DBMS_ROWID                     PACKAGE             134 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             135   pragma RESTRICT_REFERENCES(rowid_block_number,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             136
IRPTOW     DBMS_ROWID                     PACKAGE             137   --
IRPTOW     DBMS_ROWID                     PACKAGE             138   -- ROWID_ROW_NUMBER extracts the row number from a ROWID.
IRPTOW     DBMS_ROWID                     PACKAGE             139   --
IRPTOW     DBMS_ROWID                     PACKAGE             140   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             141   --
IRPTOW     DBMS_ROWID                     PACKAGE             142   function rowid_row_number(row_id IN rowid)
IRPTOW     DBMS_ROWID                     PACKAGE             143 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             144   pragma RESTRICT_REFERENCES(rowid_row_number,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             145
IRPTOW     DBMS_ROWID                     PACKAGE             146   --
IRPTOW     DBMS_ROWID                     PACKAGE             147   -- ROWID_TO_ABSOLUTE_FNO extracts the relative file number from a ROWID,
IRPTOW     DBMS_ROWID                     PACKAGE             148   -- which addresses a row in a given table
IRPTOW     DBMS_ROWID                     PACKAGE             149   --
IRPTOW     DBMS_ROWID                     PACKAGE             150   -- row_id - ROWID to be interpreted
IRPTOW     DBMS_ROWID                     PACKAGE             151   --
IRPTOW     DBMS_ROWID                     PACKAGE             152   -- schema_name - name of the schema which contains the table
IRPTOW     DBMS_ROWID                     PACKAGE             153   --
IRPTOW     DBMS_ROWID                     PACKAGE             154   -- object_name - table name
IRPTOW     DBMS_ROWID                     PACKAGE             155   --
IRPTOW     DBMS_ROWID                     PACKAGE             156   function rowid_to_absolute_fno(row_id IN rowid,
IRPTOW     DBMS_ROWID                     PACKAGE             157 				 schema_name IN varchar2,
IRPTOW     DBMS_ROWID                     PACKAGE             158 				 object_name IN varchar2)
IRPTOW     DBMS_ROWID                     PACKAGE             159 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             160   pragma RESTRICT_REFERENCES(rowid_to_absolute_fno,WNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             161
IRPTOW     DBMS_ROWID                     PACKAGE             162   --
IRPTOW     DBMS_ROWID                     PACKAGE             163   -- ROWID_TO_EXTENDED translates the restricted ROWID which addresses
IRPTOW     DBMS_ROWID                     PACKAGE             164   -- a row in a given table to the extended format. Later, it may be removed
IRPTOW     DBMS_ROWID                     PACKAGE             165   -- from this package into a different place
IRPTOW     DBMS_ROWID                     PACKAGE             166   --
IRPTOW     DBMS_ROWID                     PACKAGE             167   -- old_rowid - ROWID to be converted
IRPTOW     DBMS_ROWID                     PACKAGE             168   --
IRPTOW     DBMS_ROWID                     PACKAGE             169   -- schema_name - name of the schema which contains the table (OPTIONAL)
IRPTOW     DBMS_ROWID                     PACKAGE             170   --
IRPTOW     DBMS_ROWID                     PACKAGE             171   -- object_name - table name (OPTIONAL)
IRPTOW     DBMS_ROWID                     PACKAGE             172   --
IRPTOW     DBMS_ROWID                     PACKAGE             173   -- conversion_type - rowid_convert_internal/external_convert_external
IRPTOW     DBMS_ROWID                     PACKAGE             174   --                   (whether old_rowid was stored in a column of ROWID
IRPTOW     DBMS_ROWID                     PACKAGE             175   --                    type, or the character string)
IRPTOW     DBMS_ROWID                     PACKAGE             176   --
IRPTOW     DBMS_ROWID                     PACKAGE             177   function rowid_to_extended(old_rowid IN rowid,
IRPTOW     DBMS_ROWID                     PACKAGE             178                              schema_name IN varchar2,
IRPTOW     DBMS_ROWID                     PACKAGE             179                              object_name IN varchar2,
IRPTOW     DBMS_ROWID                     PACKAGE             180                              conversion_type IN integer)
IRPTOW     DBMS_ROWID                     PACKAGE             181 			return rowid;
IRPTOW     DBMS_ROWID                     PACKAGE             182   pragma RESTRICT_REFERENCES(rowid_to_extended,WNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             183
IRPTOW     DBMS_ROWID                     PACKAGE             184   --
IRPTOW     DBMS_ROWID                     PACKAGE             185   -- ROWID_TO_RESTRICTED translates the extnded ROWID into a restricted format
IRPTOW     DBMS_ROWID                     PACKAGE             186   --
IRPTOW     DBMS_ROWID                     PACKAGE             187   -- old_rowid - ROWID to be converted
IRPTOW     DBMS_ROWID                     PACKAGE             188   --
IRPTOW     DBMS_ROWID                     PACKAGE             189   -- conversion_type - internal/external (IN)
IRPTOW     DBMS_ROWID                     PACKAGE             190   --
IRPTOW     DBMS_ROWID                     PACKAGE             191   -- conversion_type - rowid_convert_internal/external_convert_external
IRPTOW     DBMS_ROWID                     PACKAGE             192   --                   (whether returned rowid will be stored in a column of
IRPTOW     DBMS_ROWID                     PACKAGE             193   --                    ROWID type, or the character string)
IRPTOW     DBMS_ROWID                     PACKAGE             194   --
IRPTOW     DBMS_ROWID                     PACKAGE             195   function rowid_to_restricted(old_rowid IN rowid,
IRPTOW     DBMS_ROWID                     PACKAGE             196                                conversion_type IN integer)
IRPTOW     DBMS_ROWID                     PACKAGE             197 			return rowid;
IRPTOW     DBMS_ROWID                     PACKAGE             198   pragma RESTRICT_REFERENCES(rowid_to_restricted,WNDS,RNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             199
IRPTOW     DBMS_ROWID                     PACKAGE             200   --
IRPTOW     DBMS_ROWID                     PACKAGE             201   -- ROWID_VERIFY verifies the ROWID. It returns rowid_valid or rowid_invalid
IRPTOW     DBMS_ROWID                     PACKAGE             202   -- value depending on whether a given ROWID is valid or not.
IRPTOW     DBMS_ROWID                     PACKAGE             203   --
IRPTOW     DBMS_ROWID                     PACKAGE             204   -- rowid_in - ROWID to be verified
IRPTOW     DBMS_ROWID                     PACKAGE             205   --
IRPTOW     DBMS_ROWID                     PACKAGE             206   -- schema_name - name of the schema which contains the table
IRPTOW     DBMS_ROWID                     PACKAGE             207   --
IRPTOW     DBMS_ROWID                     PACKAGE             208   -- object_name - table name
IRPTOW     DBMS_ROWID                     PACKAGE             209   --
IRPTOW     DBMS_ROWID                     PACKAGE             210   -- conversion_type - rowid_convert_internal/external_convert_external
IRPTOW     DBMS_ROWID                     PACKAGE             211   --                   (whether old_rowid was stored in a column of ROWID
IRPTOW     DBMS_ROWID                     PACKAGE             212   --                    type, or the character string)
IRPTOW     DBMS_ROWID                     PACKAGE             213   --
IRPTOW     DBMS_ROWID                     PACKAGE             214   function rowid_verify(rowid_in IN rowid,
IRPTOW     DBMS_ROWID                     PACKAGE             215                         schema_name IN varchar2,
IRPTOW     DBMS_ROWID                     PACKAGE             216                         object_name IN varchar2,
IRPTOW     DBMS_ROWID                     PACKAGE             217                         conversion_type IN integer)
IRPTOW     DBMS_ROWID                     PACKAGE             218 			return number;
IRPTOW     DBMS_ROWID                     PACKAGE             219   pragma RESTRICT_REFERENCES(rowid_verify,WNDS,WNPS,RNPS);
IRPTOW     DBMS_ROWID                     PACKAGE             220
IRPTOW     DBMS_ROWID                     PACKAGE             221 end;
IRPTOW     DBMS_SESSION                   PACKAGE               1 package dbms_session AUTHID CURRENT_USER is
IRPTOW     DBMS_SESSION                   PACKAGE               2   ------------
IRPTOW     DBMS_SESSION                   PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_SESSION                   PACKAGE               4   --
IRPTOW     DBMS_SESSION                   PACKAGE               5   --  This package provides access to SQL "alter session" statements, and

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE               6   --  other session information from, stored procedures.
IRPTOW     DBMS_SESSION                   PACKAGE               7
IRPTOW     DBMS_SESSION                   PACKAGE               8   ----------------------------
IRPTOW     DBMS_SESSION                   PACKAGE               9   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_SESSION                   PACKAGE              10   --
IRPTOW     DBMS_SESSION                   PACKAGE              11   procedure set_role(role_cmd varchar2);
IRPTOW     DBMS_SESSION                   PACKAGE              12   --  Equivalent to SQL "SET ROLE ...".
IRPTOW     DBMS_SESSION                   PACKAGE              13   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE              14   --    role_cmd
IRPTOW     DBMS_SESSION                   PACKAGE              15   --      This text is appended to "set role " and then executed as SQL.
IRPTOW     DBMS_SESSION                   PACKAGE              16   procedure set_sql_trace(sql_trace boolean);
IRPTOW     DBMS_SESSION                   PACKAGE              17   --  Equivalent to SQL "ALTER SESSION SET SQL_TRACE ..."
IRPTOW     DBMS_SESSION                   PACKAGE              18   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE              19   --    sql_trace
IRPTOW     DBMS_SESSION                   PACKAGE              20   --      TRUE or FALSE.  Turns tracing on or off.
IRPTOW     DBMS_SESSION                   PACKAGE              21   procedure set_nls(param varchar2, value varchar2);
IRPTOW     DBMS_SESSION                   PACKAGE              22   --  Equivalent to SQL "ALTER SESSION SET <nls_parameter> = <value>"
IRPTOW     DBMS_SESSION                   PACKAGE              23   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE              24   --    param
IRPTOW     DBMS_SESSION                   PACKAGE              25   --      The NLS parameter. The parameter name must begin with 'NLS'.
IRPTOW     DBMS_SESSION                   PACKAGE              26   --    value
IRPTOW     DBMS_SESSION                   PACKAGE              27   --      The value to set the parameter to.  If the parameter is a
IRPTOW     DBMS_SESSION                   PACKAGE              28   --      text literal then it will need embedded single-quotes.  For
IRPTOW     DBMS_SESSION                   PACKAGE              29   --      example "set_nls('nls_date_format','''DD-MON-YY''')"
IRPTOW     DBMS_SESSION                   PACKAGE              30   procedure close_database_link(dblink varchar2);
IRPTOW     DBMS_SESSION                   PACKAGE              31   --  Equivalent to SQL "ALTER SESSION CLOSE DATABASE LINK <name>"
IRPTOW     DBMS_SESSION                   PACKAGE              32   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE              33   --    name
IRPTOW     DBMS_SESSION                   PACKAGE              34   --      The name of the database link to close.
IRPTOW     DBMS_SESSION                   PACKAGE              35   procedure reset_package;
IRPTOW     DBMS_SESSION                   PACKAGE              36   --  Deinstantiate all packages in this session.  In other words, free
IRPTOW     DBMS_SESSION                   PACKAGE              37   --    all package state.  This is the situation at the beginning of
IRPTOW     DBMS_SESSION                   PACKAGE              38   --    a session.
IRPTOW     DBMS_SESSION                   PACKAGE              39
IRPTOW     DBMS_SESSION                   PACKAGE              40   --------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE              41   --  action_flags (bit flags) for MODIFY_PACKAGE_STATE  procedure ---
IRPTOW     DBMS_SESSION                   PACKAGE              42   --------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE              43   FREE_ALL_RESOURCES   constant PLS_INTEGER := 1;
IRPTOW     DBMS_SESSION                   PACKAGE              44   REINITIALIZE         constant PLS_INTEGER := 2;
IRPTOW     DBMS_SESSION                   PACKAGE              45
IRPTOW     DBMS_SESSION                   PACKAGE              46   procedure modify_package_state(action_flags IN PLS_INTEGER);
IRPTOW     DBMS_SESSION                   PACKAGE              47   --  The MODIFY_PACKAGE_STATE procedure can be used to perform
IRPTOW     DBMS_SESSION                   PACKAGE              48   --  various actions (as specified by the 'action_flags' parameter)
IRPTOW     DBMS_SESSION                   PACKAGE              49   --  on the session state of ALL PL/SQL program units active in the
IRPTOW     DBMS_SESSION                   PACKAGE              50   --  session. This takes effect only after the PL/SQL call that
IRPTOW     DBMS_SESSION                   PACKAGE              51   --  made the current invokation finishes running.
IRPTOW     DBMS_SESSION                   PACKAGE              52   --
IRPTOW     DBMS_SESSION                   PACKAGE              53   --  Parameter(s):
IRPTOW     DBMS_SESSION                   PACKAGE              54   --   action_flags:
IRPTOW     DBMS_SESSION                   PACKAGE              55   --     Determines what action is taken on the program units.
IRPTOW     DBMS_SESSION                   PACKAGE              56   --     The following action_flags are supported:
IRPTOW     DBMS_SESSION                   PACKAGE              57   --
IRPTOW     DBMS_SESSION                   PACKAGE              58   --     * DBMS_SESSION.FREE_ALL_RESOURCES:
IRPTOW     DBMS_SESSION                   PACKAGE              59   --         This frees all the memory associated with each of the
IRPTOW     DBMS_SESSION                   PACKAGE              60   --         previously run PL/SQL programs from the session, and,
IRPTOW     DBMS_SESSION                   PACKAGE              61   --         consequently, clears the current values of any package
IRPTOW     DBMS_SESSION                   PACKAGE              62   --         globals and closes any cached cursors. On subsequent use,
IRPTOW     DBMS_SESSION                   PACKAGE              63   --         the PL/SQL program units are re-instantiated and package
IRPTOW     DBMS_SESSION                   PACKAGE              64   --         globals are reinitialized. This is essentially the
IRPTOW     DBMS_SESSION                   PACKAGE              65   --         same as DBMS_SESSION.RESET_PACKAGE() interface.
IRPTOW     DBMS_SESSION                   PACKAGE              66   --
IRPTOW     DBMS_SESSION                   PACKAGE              67   --     * DBMS_SESSION.REINITIALIZE:
IRPTOW     DBMS_SESSION                   PACKAGE              68   --         In terms of program semantics, the DBMS_SESSION.REINITIALIZE
IRPTOW     DBMS_SESSION                   PACKAGE              69   --         flag is similar to the DBMS_SESSION.FREE_ALL_RESOURCES flag
IRPTOW     DBMS_SESSION                   PACKAGE              70   --         in that both have the effect of re-initializing all packages.
IRPTOW     DBMS_SESSION                   PACKAGE              71   --
IRPTOW     DBMS_SESSION                   PACKAGE              72   --         However, DBMS_SESSION.REINITIALIZE should exhibit much better
IRPTOW     DBMS_SESSION                   PACKAGE              73   --         performance than the DBMS_SESSION.FREE_ALL_RESOURCES option
IRPTOW     DBMS_SESSION                   PACKAGE              74   --         because:
IRPTOW     DBMS_SESSION                   PACKAGE              75   --
IRPTOW     DBMS_SESSION                   PACKAGE              76   --           - packages are reinitialized without actually being freed
IRPTOW     DBMS_SESSION                   PACKAGE              77   --           and recreated from scratch. Instead the package memory gets
IRPTOW     DBMS_SESSION                   PACKAGE              78   --           reused.
IRPTOW     DBMS_SESSION                   PACKAGE              79   --
IRPTOW     DBMS_SESSION                   PACKAGE              80   --           - any open cursors are closed, semantically speaking. However,
IRPTOW     DBMS_SESSION                   PACKAGE              81   --           the cursor resource is not actually freed. It is simply
IRPTOW     DBMS_SESSION                   PACKAGE              82   --           returned to the PL/SQL cursor cache. And more importantly,
IRPTOW     DBMS_SESSION                   PACKAGE              83   --           the cursor cache is not flushed. Hence, cursors
IRPTOW     DBMS_SESSION                   PACKAGE              84   --           corresponding to frequently accessed static SQL in PL/SQL
IRPTOW     DBMS_SESSION                   PACKAGE              85   --           will remain cached in the PL/SQL cursor cache and the
IRPTOW     DBMS_SESSION                   PACKAGE              86   --           application will not incur the overhead of opening, parsing
IRPTOW     DBMS_SESSION                   PACKAGE              87   --           and closing a new cursor for those statements on subsequent use.
IRPTOW     DBMS_SESSION                   PACKAGE              88   --
IRPTOW     DBMS_SESSION                   PACKAGE              89   --           - the session memory for PL/SQL modules without global state
IRPTOW     DBMS_SESSION                   PACKAGE              90   --           (such as types, stored-procedures) will not be freed and
IRPTOW     DBMS_SESSION                   PACKAGE              91   --           recreated.
IRPTOW     DBMS_SESSION                   PACKAGE              92   --
IRPTOW     DBMS_SESSION                   PACKAGE              93   --
IRPTOW     DBMS_SESSION                   PACKAGE              94   --  Usage Example:
IRPTOW     DBMS_SESSION                   PACKAGE              95   --    begin
IRPTOW     DBMS_SESSION                   PACKAGE              96   --      dbms_session.modify_package_state(DBMS_SESSION.REINITIALIZE);
IRPTOW     DBMS_SESSION                   PACKAGE              97   --    end;
IRPTOW     DBMS_SESSION                   PACKAGE              98   --
IRPTOW     DBMS_SESSION                   PACKAGE              99
IRPTOW     DBMS_SESSION                   PACKAGE             100   function unique_session_id return varchar2;
IRPTOW     DBMS_SESSION                   PACKAGE             101   pragma restrict_references(unique_session_id,WNDS,RNDS,WNPS);
IRPTOW     DBMS_SESSION                   PACKAGE             102   --  Return an identifier that is unique for all sessions currently

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE             103   --    connected to this database.  Multiple calls to this function
IRPTOW     DBMS_SESSION                   PACKAGE             104   --    during the same session will always return the same result.
IRPTOW     DBMS_SESSION                   PACKAGE             105   --  Output arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             106   --    unique_session_id
IRPTOW     DBMS_SESSION                   PACKAGE             107   --      can return up to 24 bytes.
IRPTOW     DBMS_SESSION                   PACKAGE             108   function is_role_enabled(rolename varchar2) return boolean;
IRPTOW     DBMS_SESSION                   PACKAGE             109   --  Determine if the named role is enabled for this session.
IRPTOW     DBMS_SESSION                   PACKAGE             110   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             111   --    rolename
IRPTOW     DBMS_SESSION                   PACKAGE             112   --      Name of the role.
IRPTOW     DBMS_SESSION                   PACKAGE             113   --  Output arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             114   --    is_role_enabled
IRPTOW     DBMS_SESSION                   PACKAGE             115   --      TRUE or FALSE depending on whether the role is enabled.
IRPTOW     DBMS_SESSION                   PACKAGE             116   function is_session_alive(uniqueid varchar2) return boolean;
IRPTOW     DBMS_SESSION                   PACKAGE             117   --  Determine if the specified session is alive.
IRPTOW     DBMS_SESSION                   PACKAGE             118   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             119   --    uniqueid
IRPTOW     DBMS_SESSION                   PACKAGE             120   --      Uniqueid of the session.
IRPTOW     DBMS_SESSION                   PACKAGE             121   --  Output arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             122   --    is_session_alive
IRPTOW     DBMS_SESSION                   PACKAGE             123   --      TRUE or FALSE depending on whether the session is alive.
IRPTOW     DBMS_SESSION                   PACKAGE             124   procedure set_close_cached_open_cursors(close_cursors boolean);
IRPTOW     DBMS_SESSION                   PACKAGE             125   --  Equivalent to SQL "ALTER SESSION SET CLOSE_CACHED_OPEN_CURSORS ..."
IRPTOW     DBMS_SESSION                   PACKAGE             126   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             127   --    close_cursors
IRPTOW     DBMS_SESSION                   PACKAGE             128   --      TRUE or FALSE.  Turns close_cached_open_cursors on or off.
IRPTOW     DBMS_SESSION                   PACKAGE             129   procedure free_unused_user_memory;
IRPTOW     DBMS_SESSION                   PACKAGE             130   --  Procedure for users to reclaim unused memory after performing operations
IRPTOW     DBMS_SESSION                   PACKAGE             131   --  requiring large amounts of memory (where large is >100K).  Note that
IRPTOW     DBMS_SESSION                   PACKAGE             132   --  this procedure should only be used in cases where memory is at a
IRPTOW     DBMS_SESSION                   PACKAGE             133   --  premium.
IRPTOW     DBMS_SESSION                   PACKAGE             134   --
IRPTOW     DBMS_SESSION                   PACKAGE             135   --  Examples operations using lots of memory are:
IRPTOW     DBMS_SESSION                   PACKAGE             136   --
IRPTOW     DBMS_SESSION                   PACKAGE             137   --     o  large sorts where entire sort_area_size is used and
IRPTOW     DBMS_SESSION                   PACKAGE             138   --        sort_area_size is hundreds of KB
IRPTOW     DBMS_SESSION                   PACKAGE             139   --     o  compiling large PL/SQL packages/procedures/functions
IRPTOW     DBMS_SESSION                   PACKAGE             140   --     o  storing hundreds of KB of data within PL/SQL indexed tables
IRPTOW     DBMS_SESSION                   PACKAGE             141   --
IRPTOW     DBMS_SESSION                   PACKAGE             142   --  One can monitor user memory by tracking the statistics
IRPTOW     DBMS_SESSION                   PACKAGE             143   --  "session uga memory" and "session pga memory" in the
IRPTOW     DBMS_SESSION                   PACKAGE             144   --  v$sesstat/v$statname fixed views.  Monitoring these statistics will
IRPTOW     DBMS_SESSION                   PACKAGE             145   --  also show how much memory this procedure has freed.
IRPTOW     DBMS_SESSION                   PACKAGE             146   --
IRPTOW     DBMS_SESSION                   PACKAGE             147   --  The behavior of this procedure depends upon the configuration of the
IRPTOW     DBMS_SESSION                   PACKAGE             148   --  server operating on behalf of the client:
IRPTOW     DBMS_SESSION                   PACKAGE             149   --
IRPTOW     DBMS_SESSION                   PACKAGE             150   --     o  dedicated server - returns unused PGA memory and session memory
IRPTOW     DBMS_SESSION                   PACKAGE             151   --          to the OS (session memory is allocated from the PGA in this
IRPTOW     DBMS_SESSION                   PACKAGE             152   --          configuration)
IRPTOW     DBMS_SESSION                   PACKAGE             153   --     o  MTS server       - returns unused session memory to the
IRPTOW     DBMS_SESSION                   PACKAGE             154   --          shared_pool (session memory is allocated from the shared_pool
IRPTOW     DBMS_SESSION                   PACKAGE             155   --          in this configuration)
IRPTOW     DBMS_SESSION                   PACKAGE             156   --
IRPTOW     DBMS_SESSION                   PACKAGE             157   --  In order to free memory using this procedure, the memory must
IRPTOW     DBMS_SESSION                   PACKAGE             158   --  not be in use.
IRPTOW     DBMS_SESSION                   PACKAGE             159   --
IRPTOW     DBMS_SESSION                   PACKAGE             160   --  Once an operation allocates memory, only the same type of operation can
IRPTOW     DBMS_SESSION                   PACKAGE             161   --  reuse the allocated memory.  For example, once memory is allocated
IRPTOW     DBMS_SESSION                   PACKAGE             162   --  for sort, even if the sort is complete and the memory is no longer
IRPTOW     DBMS_SESSION                   PACKAGE             163   --  in use, only another sort can reuse the sort-allocated memory.  For
IRPTOW     DBMS_SESSION                   PACKAGE             164   --  both sort and compilation, after the operation is complete, the memory
IRPTOW     DBMS_SESSION                   PACKAGE             165   --  is no longer in use and the user can invoke this procedure to free the
IRPTOW     DBMS_SESSION                   PACKAGE             166   --  unused memory.
IRPTOW     DBMS_SESSION                   PACKAGE             167   --
IRPTOW     DBMS_SESSION                   PACKAGE             168   --  An indexed table implicitly allocates memory to store values assigned
IRPTOW     DBMS_SESSION                   PACKAGE             169   --  to the indexed table's elements.  Thus, the more elements in an indexed
IRPTOW     DBMS_SESSION                   PACKAGE             170   --  table, the more memory the RDBMS allocates to the indexed table.  As
IRPTOW     DBMS_SESSION                   PACKAGE             171   --  long as there are elements within the indexed table, the memory
IRPTOW     DBMS_SESSION                   PACKAGE             172   --  associated with an indexed table is in use.
IRPTOW     DBMS_SESSION                   PACKAGE             173   --
IRPTOW     DBMS_SESSION                   PACKAGE             174   --  The scope of indexed tables determines how long their memory is in use.
IRPTOW     DBMS_SESSION                   PACKAGE             175   --  Indexed tables declared globally are indexed tables declared in packages
IRPTOW     DBMS_SESSION                   PACKAGE             176   --  or package bodies.  They allocate memory from session memory.  For an
IRPTOW     DBMS_SESSION                   PACKAGE             177   --  indexed table declared globally, the memory will remain in use
IRPTOW     DBMS_SESSION                   PACKAGE             178   --  for the lifetime of a user's login (lifetime of a user's session),
IRPTOW     DBMS_SESSION                   PACKAGE             179   --  and is freed after the user disconnects from ORACLE.
IRPTOW     DBMS_SESSION                   PACKAGE             180   --
IRPTOW     DBMS_SESSION                   PACKAGE             181   --  Indexed tables declared locally are indexed tables declared within
IRPTOW     DBMS_SESSION                   PACKAGE             182   --  functions, procedures, or anonymous blocks.  These indexed tables
IRPTOW     DBMS_SESSION                   PACKAGE             183   --  allocate memory from PGA memory.  For an indexed table declared
IRPTOW     DBMS_SESSION                   PACKAGE             184   --  locally, the memory will remain in use for as long as the user is still
IRPTOW     DBMS_SESSION                   PACKAGE             185   --  executing the procedure, function, or anonymous block in which the
IRPTOW     DBMS_SESSION                   PACKAGE             186   --  indexed table is declared.  After the procedure, function, or anonymous
IRPTOW     DBMS_SESSION                   PACKAGE             187   --  block is finished executing, the memory is then available for other
IRPTOW     DBMS_SESSION                   PACKAGE             188   --  locally declared indexed tables to use (i.e., the memory is no longer
IRPTOW     DBMS_SESSION                   PACKAGE             189   --  in use).
IRPTOW     DBMS_SESSION                   PACKAGE             190   --
IRPTOW     DBMS_SESSION                   PACKAGE             191   --  Assigning an uninitialized, "empty," indexed table to an existing index
IRPTOW     DBMS_SESSION                   PACKAGE             192   --  table is a method to explicitly re-initialize the indexed table and the
IRPTOW     DBMS_SESSION                   PACKAGE             193   --  memory associated with the indexed table.  After this operation,
IRPTOW     DBMS_SESSION                   PACKAGE             194   --  the memory associated with the indexed table will no longer be in use,
IRPTOW     DBMS_SESSION                   PACKAGE             195   --  making it available to be freed by calling this procedure.  This method
IRPTOW     DBMS_SESSION                   PACKAGE             196   --  is particularly useful on indexed tables declared globally which can grow
IRPTOW     DBMS_SESSION                   PACKAGE             197   --  during the lifetime of a user's session, as long as the user no
IRPTOW     DBMS_SESSION                   PACKAGE             198   --  longer needs the contents of the indexed table.
IRPTOW     DBMS_SESSION                   PACKAGE             199   --

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE             200   --  The memory rules associated with an indexed table's scope still apply;
IRPTOW     DBMS_SESSION                   PACKAGE             201   --  this method and this procedure, however, allow users to
IRPTOW     DBMS_SESSION                   PACKAGE             202   --  intervene and to explictly free the memory associated with an
IRPTOW     DBMS_SESSION                   PACKAGE             203   --  indexed table.
IRPTOW     DBMS_SESSION                   PACKAGE             204   --
IRPTOW     DBMS_SESSION                   PACKAGE             205   --  The PL/SQL fragment below illustrates the method and the use
IRPTOW     DBMS_SESSION                   PACKAGE             206   --  of procedure free_unused_user_memory.
IRPTOW     DBMS_SESSION                   PACKAGE             207   --
IRPTOW     DBMS_SESSION                   PACKAGE             208   --  create package foobar
IRPTOW     DBMS_SESSION                   PACKAGE             209   --     type number_idx_tbl is table of number indexed by binary_integer;
IRPTOW     DBMS_SESSION                   PACKAGE             210   --
IRPTOW     DBMS_SESSION                   PACKAGE             211   --     store1_table  number_idx_tbl;     --  PL/SQL indexed table
IRPTOW     DBMS_SESSION                   PACKAGE             212   --     store2_table  number_idx_tbl;     --  PL/SQL indexed table
IRPTOW     DBMS_SESSION                   PACKAGE             213   --     store3_table  number_idx_tbl;     --  PL/SQL indexed table
IRPTOW     DBMS_SESSION                   PACKAGE             214   --     ...
IRPTOW     DBMS_SESSION                   PACKAGE             215   --  end;            --  end of foobar
IRPTOW     DBMS_SESSION                   PACKAGE             216   --
IRPTOW     DBMS_SESSION                   PACKAGE             217   --  declare
IRPTOW     DBMS_SESSION                   PACKAGE             218   --     ...
IRPTOW     DBMS_SESSION                   PACKAGE             219   --     empty_table   number_idx_tbl;     --  uninitialized ("empty") version
IRPTOW     DBMS_SESSION                   PACKAGE             220   --
IRPTOW     DBMS_SESSION                   PACKAGE             221   --  begin
IRPTOW     DBMS_SESSION                   PACKAGE             222   --     for i in 1..1000000 loop
IRPTOW     DBMS_SESSION                   PACKAGE             223   --       store1_table(i) := i;           --  load data
IRPTOW     DBMS_SESSION                   PACKAGE             224   --     end loop;
IRPTOW     DBMS_SESSION                   PACKAGE             225   --     ...
IRPTOW     DBMS_SESSION                   PACKAGE             226   --     store1_table := empty_table;      --  "truncate" the indexed table
IRPTOW     DBMS_SESSION                   PACKAGE             227   --     ...
IRPTOW     DBMS_SESSION                   PACKAGE             228   --     -
IRPTOW     DBMS_SESSION                   PACKAGE             229   --     dbms_session.free_unused_user_memory;  -- give memory back to system
IRPTOW     DBMS_SESSION                   PACKAGE             230   --
IRPTOW     DBMS_SESSION                   PACKAGE             231   --     store1_table(1) := 100;           --  index tables still declared;
IRPTOW     DBMS_SESSION                   PACKAGE             232   --     store2_table(2) := 200;           --  but truncated.
IRPTOW     DBMS_SESSION                   PACKAGE             233   --     ...
IRPTOW     DBMS_SESSION                   PACKAGE             234   --  end;
IRPTOW     DBMS_SESSION                   PACKAGE             235   --
IRPTOW     DBMS_SESSION                   PACKAGE             236   --  Performance Implication:
IRPTOW     DBMS_SESSION                   PACKAGE             237   --     This routine should be used infrequently and judiciously.
IRPTOW     DBMS_SESSION                   PACKAGE             238   --
IRPTOW     DBMS_SESSION                   PACKAGE             239   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             240   --     n/a
IRPTOW     DBMS_SESSION                   PACKAGE             241   procedure set_context(namespace varchar2, attribute varchar2, value varchar2, username varchar2 default null, client_id varchar2 default null);
IRPTOW     DBMS_SESSION                   PACKAGE             242   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             243   --    namespace
IRPTOW     DBMS_SESSION                   PACKAGE             244   --      Name of the namespace to use for the application context
IRPTOW     DBMS_SESSION                   PACKAGE             245   --    attribute
IRPTOW     DBMS_SESSION                   PACKAGE             246   --      Name of the attribute to be set
IRPTOW     DBMS_SESSION                   PACKAGE             247   --    value
IRPTOW     DBMS_SESSION                   PACKAGE             248   --      Value to be set
IRPTOW     DBMS_SESSION                   PACKAGE             249   --    username
IRPTOW     DBMS_SESSION                   PACKAGE             250   --      username attribute for application context . default value is null.
IRPTOW     DBMS_SESSION                   PACKAGE             251   --    client_id
IRPTOW     DBMS_SESSION                   PACKAGE             252   --      client identifier that identifies a user session for which we need
IRPTOW     DBMS_SESSION                   PACKAGE             253   --      to set this context.
IRPTOW     DBMS_SESSION                   PACKAGE             254   --
IRPTOW     DBMS_SESSION                   PACKAGE             255   --
IRPTOW     DBMS_SESSION                   PACKAGE             256   procedure set_identifier(client_id varchar2);
IRPTOW     DBMS_SESSION                   PACKAGE             257   --    Input parameters:
IRPTOW     DBMS_SESSION                   PACKAGE             258   --    client_id
IRPTOW     DBMS_SESSION                   PACKAGE             259   --      client identifier being set for this session .
IRPTOW     DBMS_SESSION                   PACKAGE             260   --
IRPTOW     DBMS_SESSION                   PACKAGE             261   --
IRPTOW     DBMS_SESSION                   PACKAGE             262   procedure clear_context(namespace varchar2 ,client_id varchar2 , attribute varchar2 default null );
IRPTOW     DBMS_SESSION                   PACKAGE             263   -- Input parameters:
IRPTOW     DBMS_SESSION                   PACKAGE             264   --   namespace
IRPTOW     DBMS_SESSION                   PACKAGE             265   --     namespace where the application context is to be cleared
IRPTOW     DBMS_SESSION                   PACKAGE             266   --   client_id
IRPTOW     DBMS_SESSION                   PACKAGE             267   --      all ns contexts associated with this client id are cleared.
IRPTOW     DBMS_SESSION                   PACKAGE             268   --   attribute
IRPTOW     DBMS_SESSION                   PACKAGE             269   --     attribute to clear .
IRPTOW     DBMS_SESSION                   PACKAGE             270
IRPTOW     DBMS_SESSION                   PACKAGE             271   --
IRPTOW     DBMS_SESSION                   PACKAGE             272   procedure clear_identifier;
IRPTOW     DBMS_SESSION                   PACKAGE             273   -- Input parameters:
IRPTOW     DBMS_SESSION                   PACKAGE             274   --   none
IRPTOW     DBMS_SESSION                   PACKAGE             275   --
IRPTOW     DBMS_SESSION                   PACKAGE             276   TYPE AppCtxRecTyp IS RECORD ( namespace varchar2(30), attribute varchar2(30),
IRPTOW     DBMS_SESSION                   PACKAGE             277       value varchar2(4000));
IRPTOW     DBMS_SESSION                   PACKAGE             278   TYPE AppCtxTabTyp IS TABLE OF AppCtxRecTyp INDEX BY BINARY_INTEGER;
IRPTOW     DBMS_SESSION                   PACKAGE             279   procedure list_context(list OUT AppCtxTabTyp, lsize OUT number);
IRPTOW     DBMS_SESSION                   PACKAGE             280   --  Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             281   --    list
IRPTOW     DBMS_SESSION                   PACKAGE             282   --      buffer to store a list of application context set in current
IRPTOW     DBMS_SESSION                   PACKAGE             283   --      session
IRPTOW     DBMS_SESSION                   PACKAGE             284   --  Output arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             285   --    list
IRPTOW     DBMS_SESSION                   PACKAGE             286   --      contains a list of of (namespace,attribute,values) set in current
IRPTOW     DBMS_SESSION                   PACKAGE             287   --      session
IRPTOW     DBMS_SESSION                   PACKAGE             288   --    size
IRPTOW     DBMS_SESSION                   PACKAGE             289   --      returns the number of entries in the buffer returned
IRPTOW     DBMS_SESSION                   PACKAGE             290   procedure switch_current_consumer_group(new_consumer_group IN VARCHAR2,
IRPTOW     DBMS_SESSION                   PACKAGE             291                                           old_consumer_group OUT VARCHAR2,
IRPTOW     DBMS_SESSION                   PACKAGE             292 					  initial_group_on_error IN BOOLEAN);
IRPTOW     DBMS_SESSION                   PACKAGE             293   -- Input arguments:
IRPTOW     DBMS_SESSION                   PACKAGE             294   -- new_consumer_group
IRPTOW     DBMS_SESSION                   PACKAGE             295   --    name of consumer group to switch to
IRPTOW     DBMS_SESSION                   PACKAGE             296   -- old_consumer_group

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_SESSION                   PACKAGE             297   --    name of the consumer group just switched out from
IRPTOW     DBMS_SESSION                   PACKAGE             298   -- initial_group_on_error
IRPTOW     DBMS_SESSION                   PACKAGE             299   --   If TRUE, sets the current consumer group of the invoker to his/her
IRPTOW     DBMS_SESSION                   PACKAGE             300   --   initial consumer group in the event of an error.
IRPTOW     DBMS_SESSION                   PACKAGE             301   --
IRPTOW     DBMS_SESSION                   PACKAGE             302 end;
IRPTOW     DBMS_SPACE                     PACKAGE               1 package dbms_space is
IRPTOW     DBMS_SPACE                     PACKAGE               2   ------------
IRPTOW     DBMS_SPACE                     PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_SPACE                     PACKAGE               4   --
IRPTOW     DBMS_SPACE                     PACKAGE               5   --  This package provides segment space information not currently
IRPTOW     DBMS_SPACE                     PACKAGE               6   --  available through the standard views.
IRPTOW     DBMS_SPACE                     PACKAGE               7
IRPTOW     DBMS_SPACE                     PACKAGE               8   --  SECURITY
IRPTOW     DBMS_SPACE                     PACKAGE               9   --
IRPTOW     DBMS_SPACE                     PACKAGE              10   --  The execution privilege is granted to PUBLIC. Procedures in this
IRPTOW     DBMS_SPACE                     PACKAGE              11   --  package run under the caller security. The user must have ANALYZE
IRPTOW     DBMS_SPACE                     PACKAGE              12   --  privilege on the object.
IRPTOW     DBMS_SPACE                     PACKAGE              13
IRPTOW     DBMS_SPACE                     PACKAGE              14
IRPTOW     DBMS_SPACE                     PACKAGE              15   ----------------------------
IRPTOW     DBMS_SPACE                     PACKAGE              16
IRPTOW     DBMS_SPACE                     PACKAGE              17   ----------------------------
IRPTOW     DBMS_SPACE                     PACKAGE              18   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_SPACE                     PACKAGE              19   --
IRPTOW     DBMS_SPACE                     PACKAGE              20   procedure unused_space(segment_owner IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              21                          segment_name IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              22                          segment_type IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              23                          total_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              24                          total_bytes OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              25                          unused_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              26                          unused_bytes OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              27                          last_used_extent_file_id OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              28                          last_used_extent_block_id OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              29                          last_used_block OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              30                          partition_name IN varchar2 DEFAULT NULL
IRPTOW     DBMS_SPACE                     PACKAGE              31                          );
IRPTOW     DBMS_SPACE                     PACKAGE              32   pragma restrict_references(unused_space,WNDS);
IRPTOW     DBMS_SPACE                     PACKAGE              33
IRPTOW     DBMS_SPACE                     PACKAGE              34   --  Returns information about unused space in an object (table, index,
IRPTOW     DBMS_SPACE                     PACKAGE              35   --    or cluster).
IRPTOW     DBMS_SPACE                     PACKAGE              36   --  Input arguments:
IRPTOW     DBMS_SPACE                     PACKAGE              37   --   segment_owner
IRPTOW     DBMS_SPACE                     PACKAGE              38   --	  schema name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              39   --   segment_name
IRPTOW     DBMS_SPACE                     PACKAGE              40   --	  object name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              41   --   partition_name
IRPTOW     DBMS_SPACE                     PACKAGE              42   --	  partition name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              43   --   segment_type
IRPTOW     DBMS_SPACE                     PACKAGE              44   --	  type of the segment to be analyzed (TABLE, INDEX, or CLUSTER)
IRPTOW     DBMS_SPACE                     PACKAGE              45   --  Output arguments:
IRPTOW     DBMS_SPACE                     PACKAGE              46   --   total_blocks
IRPTOW     DBMS_SPACE                     PACKAGE              47   --	  total number of blocks in the segment
IRPTOW     DBMS_SPACE                     PACKAGE              48   --   total_bytes
IRPTOW     DBMS_SPACE                     PACKAGE              49   --	  the same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE              50   --   unused_blocks
IRPTOW     DBMS_SPACE                     PACKAGE              51   --	  number of blocks which are not used
IRPTOW     DBMS_SPACE                     PACKAGE              52   --   unused_bytes
IRPTOW     DBMS_SPACE                     PACKAGE              53   --	  the same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE              54   --   last_used_extent_file_id
IRPTOW     DBMS_SPACE                     PACKAGE              55   --	  the file ID of the last extent which contains data
IRPTOW     DBMS_SPACE                     PACKAGE              56   --   last_used_extent_block_id
IRPTOW     DBMS_SPACE                     PACKAGE              57   --	  the block ID of the last extent which contains data
IRPTOW     DBMS_SPACE                     PACKAGE              58   --   last_used_block
IRPTOW     DBMS_SPACE                     PACKAGE              59   --	  the last block within this extent which contains data
IRPTOW     DBMS_SPACE                     PACKAGE              60   procedure free_blocks (segment_owner IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              61                          segment_name IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              62                          segment_type IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              63                          freelist_group_id IN number,
IRPTOW     DBMS_SPACE                     PACKAGE              64                          free_blks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              65                          scan_limit IN number DEFAULT NULL,
IRPTOW     DBMS_SPACE                     PACKAGE              66                          partition_name IN varchar2 DEFAULT NULL
IRPTOW     DBMS_SPACE                     PACKAGE              67                          );
IRPTOW     DBMS_SPACE                     PACKAGE              68   pragma restrict_references(free_blocks,WNDS);
IRPTOW     DBMS_SPACE                     PACKAGE              69
IRPTOW     DBMS_SPACE                     PACKAGE              70   --  Returns information about free blocks in an object (table, index,
IRPTOW     DBMS_SPACE                     PACKAGE              71   --    or cluster).
IRPTOW     DBMS_SPACE                     PACKAGE              72   --  Input arguments:
IRPTOW     DBMS_SPACE                     PACKAGE              73   --   segment_owner
IRPTOW     DBMS_SPACE                     PACKAGE              74   --	  schema name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              75   --   segment_name
IRPTOW     DBMS_SPACE                     PACKAGE              76   --	  name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              77   --   partition_name
IRPTOW     DBMS_SPACE                     PACKAGE              78   --	  partition name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE              79   --   segment_type
IRPTOW     DBMS_SPACE                     PACKAGE              80   --	  type of the segment to be analyzed (TABLE, INDEX, or CLUSTER)
IRPTOW     DBMS_SPACE                     PACKAGE              81   --   freelist_group_id
IRPTOW     DBMS_SPACE                     PACKAGE              82   --	  freelist group (instance) whose free list size is to be computed
IRPTOW     DBMS_SPACE                     PACKAGE              83   --   scan_limit (optional)
IRPTOW     DBMS_SPACE                     PACKAGE              84   --	  maximum number of free blocks to read
IRPTOW     DBMS_SPACE                     PACKAGE              85   --  Output arguments:
IRPTOW     DBMS_SPACE                     PACKAGE              86   --   free_blks
IRPTOW     DBMS_SPACE                     PACKAGE              87   --	  count of free blocks for the specified group
IRPTOW     DBMS_SPACE                     PACKAGE              88
IRPTOW     DBMS_SPACE                     PACKAGE              89   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_SPACE                     PACKAGE              90   --
IRPTOW     DBMS_SPACE                     PACKAGE              91   procedure space_usage(segment_owner IN varchar2,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_SPACE                     PACKAGE              92 		         segment_name IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              93                          segment_type IN varchar2,
IRPTOW     DBMS_SPACE                     PACKAGE              94                          unformatted_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              95                          unformatted_bytes OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              96                          fs1_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              97                          fs1_bytes  OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              98                          fs2_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE              99                          fs2_bytes  OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             100                          fs3_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             101                          fs3_bytes  OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             102                          fs4_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             103                          fs4_bytes  OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             104                          full_blocks OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             105                          full_bytes OUT number,
IRPTOW     DBMS_SPACE                     PACKAGE             106                          partition_name IN varchar2 DEFAULT NULL
IRPTOW     DBMS_SPACE                     PACKAGE             107                          );
IRPTOW     DBMS_SPACE                     PACKAGE             108   pragma restrict_references(space_usage,WNDS);
IRPTOW     DBMS_SPACE                     PACKAGE             109
IRPTOW     DBMS_SPACE                     PACKAGE             110   --  Returns information about space occupation in an object (table, index,
IRPTOW     DBMS_SPACE                     PACKAGE             111   --    or cluster).
IRPTOW     DBMS_SPACE                     PACKAGE             112   --  Input arguments:
IRPTOW     DBMS_SPACE                     PACKAGE             113   --   segment_owner
IRPTOW     DBMS_SPACE                     PACKAGE             114   --      schema name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE             115   --   segment_name
IRPTOW     DBMS_SPACE                     PACKAGE             116   --      object name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE             117   --   partition_name
IRPTOW     DBMS_SPACE                     PACKAGE             118   --      partition name of the segment to be analyzed
IRPTOW     DBMS_SPACE                     PACKAGE             119   --   segment_type
IRPTOW     DBMS_SPACE                     PACKAGE             120   --      type of the segment to be analyzed (TABLE, INDEX, or CLUSTER)
IRPTOW     DBMS_SPACE                     PACKAGE             121   --  Output arguments:
IRPTOW     DBMS_SPACE                     PACKAGE             122   --   unformatted_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             123   --      total number of blocks that are unformatted
IRPTOW     DBMS_SPACE                     PACKAGE             124   --   unformatted_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             125   --      the same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             126   --   fs1_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             127   --      number of blocks that have atleast 0 to 25% free space.
IRPTOW     DBMS_SPACE                     PACKAGE             128   --   fs1_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             129   --      same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             130   --   fs2_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             131   --      number of blocks that have atleast 25% to 50% free space.
IRPTOW     DBMS_SPACE                     PACKAGE             132   --   fs2_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             133   --      same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             134   --   fs3_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             135   --      number of blocks that have atleast 50% to 75% free space.
IRPTOW     DBMS_SPACE                     PACKAGE             136   --   fs3_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             137   --      same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             138   --   fs4_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             139   --      number of blocks that have atleast 75% to 100% free space.
IRPTOW     DBMS_SPACE                     PACKAGE             140   --   fs4_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             141   --      same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             142   --   full_blocks
IRPTOW     DBMS_SPACE                     PACKAGE             143   --      total number of blocks that are full in the segment
IRPTOW     DBMS_SPACE                     PACKAGE             144   --   full_bytes
IRPTOW     DBMS_SPACE                     PACKAGE             145   --      the same as above, expressed in bytes
IRPTOW     DBMS_SPACE                     PACKAGE             146
IRPTOW     DBMS_SPACE                     PACKAGE             147 end;
IRPTOW     DBMS_TRANSACTION               PACKAGE               1 package dbms_transaction AUTHID CURRENT_USER is
IRPTOW     DBMS_TRANSACTION               PACKAGE               2
IRPTOW     DBMS_TRANSACTION               PACKAGE               3   ------------
IRPTOW     DBMS_TRANSACTION               PACKAGE               4   --  OVERVIEW
IRPTOW     DBMS_TRANSACTION               PACKAGE               5   --
IRPTOW     DBMS_TRANSACTION               PACKAGE               6   --  This package provides access to SQL transaction statements from
IRPTOW     DBMS_TRANSACTION               PACKAGE               7   --  stored procedures.
IRPTOW     DBMS_TRANSACTION               PACKAGE               8   --  It also provids functions for monitoring transaction activities
IRPTOW     DBMS_TRANSACTION               PACKAGE               9   --  (transaction ids and ordering of steps of transactions )
IRPTOW     DBMS_TRANSACTION               PACKAGE              10
IRPTOW     DBMS_TRANSACTION               PACKAGE              11   ----------------------------
IRPTOW     DBMS_TRANSACTION               PACKAGE              12   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_TRANSACTION               PACKAGE              13   --
IRPTOW     DBMS_TRANSACTION               PACKAGE              14   procedure read_only;
IRPTOW     DBMS_TRANSACTION               PACKAGE              15   --  Equivalent to SQL "SET TRANSACTION READ ONLY"
IRPTOW     DBMS_TRANSACTION               PACKAGE              16   procedure read_write;
IRPTOW     DBMS_TRANSACTION               PACKAGE              17   --  Equivalent to SQL "SET TRANSACTION READ WRITE"
IRPTOW     DBMS_TRANSACTION               PACKAGE              18   procedure advise_rollback;
IRPTOW     DBMS_TRANSACTION               PACKAGE              19   --  Equivalent to SQL "ALTER SESSION ADVISE ROLLBACK"
IRPTOW     DBMS_TRANSACTION               PACKAGE              20   procedure advise_nothing;
IRPTOW     DBMS_TRANSACTION               PACKAGE              21   --  Equivalent to SQL "ALTER SESSION ADVISE NOTHING"
IRPTOW     DBMS_TRANSACTION               PACKAGE              22   procedure advise_commit;
IRPTOW     DBMS_TRANSACTION               PACKAGE              23   --  Equivalent to SQL "ALTER SESSION ADVISE COMMIT"
IRPTOW     DBMS_TRANSACTION               PACKAGE              24   procedure use_rollback_segment(rb_name varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              25   --  Equivalent to SQL "SET TRANSACTION USE ROLLBACK SEGMENT <rb_seg_name>"
IRPTOW     DBMS_TRANSACTION               PACKAGE              26   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              27   --    rb_name
IRPTOW     DBMS_TRANSACTION               PACKAGE              28   --      Name of rollback segment to use.
IRPTOW     DBMS_TRANSACTION               PACKAGE              29   procedure commit_comment(cmnt varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              30   --  Equivalent to SQL "COMMIT COMMENT <text>"
IRPTOW     DBMS_TRANSACTION               PACKAGE              31   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              32   --    cmnt
IRPTOW     DBMS_TRANSACTION               PACKAGE              33   --      Comment to assoicate with this comment.
IRPTOW     DBMS_TRANSACTION               PACKAGE              34   procedure commit_force(xid varchar2, scn varchar2 default null);
IRPTOW     DBMS_TRANSACTION               PACKAGE              35   --  Equivalent to SQL "COMMIT FORCE <text>, <number>"
IRPTOW     DBMS_TRANSACTION               PACKAGE              36   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              37   --    xid
IRPTOW     DBMS_TRANSACTION               PACKAGE              38   --      Local or global transaction id.
IRPTOW     DBMS_TRANSACTION               PACKAGE              39   --    scn
IRPTOW     DBMS_TRANSACTION               PACKAGE              40   --      System change number.
IRPTOW     DBMS_TRANSACTION               PACKAGE              41   procedure commit;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_TRANSACTION               PACKAGE              42     pragma interface (C, commit);                          -- 1 (see psdicd.c)
IRPTOW     DBMS_TRANSACTION               PACKAGE              43   --  Equivalent to SQL "COMMIT".  Here for completeness.  This is
IRPTOW     DBMS_TRANSACTION               PACKAGE              44   --    already implemented as part of PL/SQL.
IRPTOW     DBMS_TRANSACTION               PACKAGE              45   procedure savepoint(savept varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              46     pragma interface (C, savepoint);			   -- 2 (see psdicd.c)
IRPTOW     DBMS_TRANSACTION               PACKAGE              47   --  Equivalent to SQL "SAVEPOINT <savepoint_name>".  Here for
IRPTOW     DBMS_TRANSACTION               PACKAGE              48   --    completeness. This is already implemented as part of PL/SQL.
IRPTOW     DBMS_TRANSACTION               PACKAGE              49   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              50   --    savept
IRPTOW     DBMS_TRANSACTION               PACKAGE              51   --      Savepoint identifier.
IRPTOW     DBMS_TRANSACTION               PACKAGE              52   procedure rollback;
IRPTOW     DBMS_TRANSACTION               PACKAGE              53     pragma interface (C, rollback);			   -- 3 (see psdicd.c)
IRPTOW     DBMS_TRANSACTION               PACKAGE              54   --  Equivalent to SQL "ROLLBACK".  Here for completeness. This is
IRPTOW     DBMS_TRANSACTION               PACKAGE              55   --    already implemented as part of PL/SQL.
IRPTOW     DBMS_TRANSACTION               PACKAGE              56   procedure rollback_savepoint(savept varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              57     pragma interface (C, rollback_savepoint);		   -- 4 (see psdicd.c)
IRPTOW     DBMS_TRANSACTION               PACKAGE              58   --  Equivalent to SQL "ROLLBACK TO SAVEPOINT <savepoint_name>".  Here for
IRPTOW     DBMS_TRANSACTION               PACKAGE              59   --    completeness. This is already implemented as part of PL/SQL.
IRPTOW     DBMS_TRANSACTION               PACKAGE              60   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              61   --    savept
IRPTOW     DBMS_TRANSACTION               PACKAGE              62   --      Savepoint identifier.
IRPTOW     DBMS_TRANSACTION               PACKAGE              63   procedure rollback_force(xid varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              64   --  Equivalent to SQL "ROLLBACK FORCE <text>"
IRPTOW     DBMS_TRANSACTION               PACKAGE              65   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE              66   --    xid
IRPTOW     DBMS_TRANSACTION               PACKAGE              67   --      Local or global transaction id.
IRPTOW     DBMS_TRANSACTION               PACKAGE              68   procedure begin_discrete_transaction;
IRPTOW     DBMS_TRANSACTION               PACKAGE              69     pragma interface (C, begin_discrete_transaction);      -- 5 (see psdicd.c)
IRPTOW     DBMS_TRANSACTION               PACKAGE              70   --  Set "discrete transaction mode" for this transaction.
IRPTOW     DBMS_TRANSACTION               PACKAGE              71   --  Exceptions:
IRPTOW     DBMS_TRANSACTION               PACKAGE              72   --    ORA-08175 will be generated if a transaction attempts an operation
IRPTOW     DBMS_TRANSACTION               PACKAGE              73   --      which cannot be performed as a discrete transaction.  If this
IRPTOW     DBMS_TRANSACTION               PACKAGE              74   --      exception is encountered, rollback and retry the transaction.
IRPTOW     DBMS_TRANSACTION               PACKAGE              75
IRPTOW     DBMS_TRANSACTION               PACKAGE              76   --    ORA-08176 will be generated if a transaction encounters data changed
IRPTOW     DBMS_TRANSACTION               PACKAGE              77   --      by an operation that does not generate rollback data : create index,
IRPTOW     DBMS_TRANSACTION               PACKAGE              78   --      direct load or discrete transaction.  If this exception is
IRPTOW     DBMS_TRANSACTION               PACKAGE              79   --      encountered, retry the operation that received the exception.
IRPTOW     DBMS_TRANSACTION               PACKAGE              80   --
IRPTOW     DBMS_TRANSACTION               PACKAGE              81   DISCRETE_TRANSACTION_FAILED exception;
IRPTOW     DBMS_TRANSACTION               PACKAGE              82     pragma exception_init(DISCRETE_TRANSACTION_FAILED, -8175);
IRPTOW     DBMS_TRANSACTION               PACKAGE              83
IRPTOW     DBMS_TRANSACTION               PACKAGE              84   CONSISTENT_READ_FAILURE exception;
IRPTOW     DBMS_TRANSACTION               PACKAGE              85     pragma exception_init(CONSISTENT_READ_FAILURE, -8176);
IRPTOW     DBMS_TRANSACTION               PACKAGE              86
IRPTOW     DBMS_TRANSACTION               PACKAGE              87   procedure purge_mixed(xid varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE              88   --  When indoubt transactions are forced to commit or rollback (instead of
IRPTOW     DBMS_TRANSACTION               PACKAGE              89   --    letting automatic recovery resolve their outcomes), there is a
IRPTOW     DBMS_TRANSACTION               PACKAGE              90   --    possibility that a transaction can have a mixed outcome: some sites
IRPTOW     DBMS_TRANSACTION               PACKAGE              91   --    commit, and others rollback.  Such inconsistency cannot be resolved
IRPTOW     DBMS_TRANSACTION               PACKAGE              92   --    automatically by ORACLE; however, ORACLE will flag entries in
IRPTOW     DBMS_TRANSACTION               PACKAGE              93   --    DBA_2PC_PENDING by setting the MIXED column to a value of 'yes'.
IRPTOW     DBMS_TRANSACTION               PACKAGE              94   --    ORACLE will never automatically delete information about a mixed
IRPTOW     DBMS_TRANSACTION               PACKAGE              95   --    outcome transaction.  When the application or DBA is sure all
IRPTOW     DBMS_TRANSACTION               PACKAGE              96   --    inconsistencies that might have arisen as a result of the mixed
IRPTOW     DBMS_TRANSACTION               PACKAGE              97   --    transaction have been resolved, this procedure can be used to
IRPTOW     DBMS_TRANSACTION               PACKAGE              98   --    delete the information about a given mixed outcome transaction.
IRPTOW     DBMS_TRANSACTION               PACKAGE              99   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE             100   --    xid
IRPTOW     DBMS_TRANSACTION               PACKAGE             101   --      This must be set to the value of the LOCAL_TRAN_ID column in
IRPTOW     DBMS_TRANSACTION               PACKAGE             102   --      the DBA_2PC_PENDING table.
IRPTOW     DBMS_TRANSACTION               PACKAGE             103
IRPTOW     DBMS_TRANSACTION               PACKAGE             104   procedure purge_lost_db_entry(xid varchar2);
IRPTOW     DBMS_TRANSACTION               PACKAGE             105   --  When a failure occurs during commit processing, automatic recovery will
IRPTOW     DBMS_TRANSACTION               PACKAGE             106   --    consistently resolve the results at all sites involved in the
IRPTOW     DBMS_TRANSACTION               PACKAGE             107   --    transaction.  However, if the remote database is destroyed or
IRPTOW     DBMS_TRANSACTION               PACKAGE             108   --    recreated before recovery completes, then the entries used to
IRPTOW     DBMS_TRANSACTION               PACKAGE             109   --    control recovery in DBA_2PC_PENDING and associated tables will never
IRPTOW     DBMS_TRANSACTION               PACKAGE             110   --    be removed, and recovery will periodically retry.  Procedure
IRPTOW     DBMS_TRANSACTION               PACKAGE             111   --    purge_lost_db_entry allows removal of such transactions from the
IRPTOW     DBMS_TRANSACTION               PACKAGE             112   --    local site.
IRPTOW     DBMS_TRANSACTION               PACKAGE             113
IRPTOW     DBMS_TRANSACTION               PACKAGE             114   --  WARNING: purge_lost_db_entry should ONLY be used when the other
IRPTOW     DBMS_TRANSACTION               PACKAGE             115   --  database is lost or has been recreated.  Any other use may leave the
IRPTOW     DBMS_TRANSACTION               PACKAGE             116   --  other database in an unrecoverable or inconsistent state.
IRPTOW     DBMS_TRANSACTION               PACKAGE             117
IRPTOW     DBMS_TRANSACTION               PACKAGE             118   --    Before automatic recovery runs, the transaction may show
IRPTOW     DBMS_TRANSACTION               PACKAGE             119   --    up in DBA_2PC_PENDING as state "collecting", "committed", or
IRPTOW     DBMS_TRANSACTION               PACKAGE             120   --    "prepared".  If the DBA has forced an in-doubt transaction to have
IRPTOW     DBMS_TRANSACTION               PACKAGE             121   --    a particular result by using "commit force" or "rollback force",
IRPTOW     DBMS_TRANSACTION               PACKAGE             122   --    then states "forced commit" or "forced rollback" may also appear.
IRPTOW     DBMS_TRANSACTION               PACKAGE             123   --    Automatic recovery will normally delete entries in any of these
IRPTOW     DBMS_TRANSACTION               PACKAGE             124   --    states.  The only exception is when recovery finds a forced
IRPTOW     DBMS_TRANSACTION               PACKAGE             125   --    transaction which is in a state inconsistent with other sites in the
IRPTOW     DBMS_TRANSACTION               PACKAGE             126   --    transaction;  in this case, the entry will be left in the table
IRPTOW     DBMS_TRANSACTION               PACKAGE             127   --    and the MIXED column will have a value 'yes'.
IRPTOW     DBMS_TRANSACTION               PACKAGE             128
IRPTOW     DBMS_TRANSACTION               PACKAGE             129   --    However, under certain conditions, it may not be possible for
IRPTOW     DBMS_TRANSACTION               PACKAGE             130   --    automatic recovery to run.  For example, a remote database may have
IRPTOW     DBMS_TRANSACTION               PACKAGE             131   --    been permanently lost.  Even if it is recreated, it will get a new
IRPTOW     DBMS_TRANSACTION               PACKAGE             132   --    database id, so that recovery cannot identify it (a possible symptom
IRPTOW     DBMS_TRANSACTION               PACKAGE             133   --    is ORA-02062).  In this case, the DBA may use the procedure
IRPTOW     DBMS_TRANSACTION               PACKAGE             134   --    purge_lost_db_entry to clean up the entries in any state other
IRPTOW     DBMS_TRANSACTION               PACKAGE             135   --    than "prepared".  The DBA does not need to be in any particular
IRPTOW     DBMS_TRANSACTION               PACKAGE             136   --    hurry to resolve these entries, since they will not be holding any
IRPTOW     DBMS_TRANSACTION               PACKAGE             137   --    database resources.
IRPTOW     DBMS_TRANSACTION               PACKAGE             138

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_TRANSACTION               PACKAGE             139   --    The following table indicates what the various states indicate about
IRPTOW     DBMS_TRANSACTION               PACKAGE             140   --    the transaction and what the DBA actions should be:
IRPTOW     DBMS_TRANSACTION               PACKAGE             141
IRPTOW     DBMS_TRANSACTION               PACKAGE             142   --    State       State of     State of     Normal Alternative
IRPTOW     DBMS_TRANSACTION               PACKAGE             143   --    Column      Global       Local        DBA    DBA
IRPTOW     DBMS_TRANSACTION               PACKAGE             144   --                Transaction  Transaction  Action Action
IRPTOW     DBMS_TRANSACTION               PACKAGE             145   --    ----------  ------------ ------------ ------ ---------------
IRPTOW     DBMS_TRANSACTION               PACKAGE             146   --    collecting  rolled back  rolled back  none   purge_lost_db_entry (1)
IRPTOW     DBMS_TRANSACTION               PACKAGE             147   --    committed   committed    committed    none   purge_lost_db_entry (1)
IRPTOW     DBMS_TRANSACTION               PACKAGE             148   --    prepared    unknown      prepared     none   force commit or rollback
IRPTOW     DBMS_TRANSACTION               PACKAGE             149   --    forced      unknown      committed    none   purge_lost_db_entry (1)
IRPTOW     DBMS_TRANSACTION               PACKAGE             150   --      commit
IRPTOW     DBMS_TRANSACTION               PACKAGE             151   --    forced      unknown      rolled back  none   purge_lost_db_entry (1)
IRPTOW     DBMS_TRANSACTION               PACKAGE             152   --      rollback
IRPTOW     DBMS_TRANSACTION               PACKAGE             153   --    forced      mixed        committed    (2)
IRPTOW     DBMS_TRANSACTION               PACKAGE             154   --      commit
IRPTOW     DBMS_TRANSACTION               PACKAGE             155   --      (mixed)
IRPTOW     DBMS_TRANSACTION               PACKAGE             156   --    forced      mixed        rolled back  (2)
IRPTOW     DBMS_TRANSACTION               PACKAGE             157   --      rollback
IRPTOW     DBMS_TRANSACTION               PACKAGE             158   --      (mixed)
IRPTOW     DBMS_TRANSACTION               PACKAGE             159
IRPTOW     DBMS_TRANSACTION               PACKAGE             160   --    Note 1: Use only if significant reconfiguration has occurred so that
IRPTOW     DBMS_TRANSACTION               PACKAGE             161   --      automatic recovery cannot resolve the transaction.  Examples are
IRPTOW     DBMS_TRANSACTION               PACKAGE             162   --      total loss of the remote database, reconfiguration in software
IRPTOW     DBMS_TRANSACTION               PACKAGE             163   --      resulting in loss of two-phase commit capability, or loss of
IRPTOW     DBMS_TRANSACTION               PACKAGE             164   --      information from an external transaction coordinator such as a TP
IRPTOW     DBMS_TRANSACTION               PACKAGE             165   --      Monitor.
IRPTOW     DBMS_TRANSACTION               PACKAGE             166   --    Note 2: Examine and take any manual action to remove inconsistencies,
IRPTOW     DBMS_TRANSACTION               PACKAGE             167   --      then use the procedure purge_mixed.
IRPTOW     DBMS_TRANSACTION               PACKAGE             168   --  Input arguments:
IRPTOW     DBMS_TRANSACTION               PACKAGE             169   --    xid
IRPTOW     DBMS_TRANSACTION               PACKAGE             170   --      This must be set to the value of the LOCAL_TRAN_ID column in
IRPTOW     DBMS_TRANSACTION               PACKAGE             171   --      the DBA_2PC_PENDING table.
IRPTOW     DBMS_TRANSACTION               PACKAGE             172
IRPTOW     DBMS_TRANSACTION               PACKAGE             173   FUNCTION local_transaction_id(create_transaction BOOLEAN := FALSE)
IRPTOW     DBMS_TRANSACTION               PACKAGE             174     RETURN VARCHAR2;
IRPTOW     DBMS_TRANSACTION               PACKAGE             175   --  Return local (to instance) unique identfier for current transaction
IRPTOW     DBMS_TRANSACTION               PACKAGE             176   --  Return null if there is no current transction.
IRPTOW     DBMS_TRANSACTION               PACKAGE             177   --  Input parameters:
IRPTOW     DBMS_TRANSACTION               PACKAGE             178   --     create_transaction
IRPTOW     DBMS_TRANSACTION               PACKAGE             179   --       If true , start a transaciton if one is not currently
IRPTOW     DBMS_TRANSACTION               PACKAGE             180   --       active.
IRPTOW     DBMS_TRANSACTION               PACKAGE             181   --
IRPTOW     DBMS_TRANSACTION               PACKAGE             182   FUNCTION step_id RETURN NUMBER;
IRPTOW     DBMS_TRANSACTION               PACKAGE             183   --  Return local (to local transaction ) unique positive integer that orders
IRPTOW     DBMS_TRANSACTION               PACKAGE             184   --  The DML operations of a transaction.
IRPTOW     DBMS_TRANSACTION               PACKAGE             185   --  Input parmaeters:
IRPTOW     DBMS_TRANSACTION               PACKAGE             186
IRPTOW     DBMS_TRANSACTION               PACKAGE             187 end;
IRPTOW     DBMS_UTILITY                   PACKAGE               1 package dbms_utility is
IRPTOW     DBMS_UTILITY                   PACKAGE               2   ------------
IRPTOW     DBMS_UTILITY                   PACKAGE               3   --  OVERVIEW
IRPTOW     DBMS_UTILITY                   PACKAGE               4   --
IRPTOW     DBMS_UTILITY                   PACKAGE               5   --  This package provides various utility routines.
IRPTOW     DBMS_UTILITY                   PACKAGE               6
IRPTOW     DBMS_UTILITY                   PACKAGE               7   ----------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE               8   --  PL/SQL TABLES
IRPTOW     DBMS_UTILITY                   PACKAGE               9   --
IRPTOW     DBMS_UTILITY                   PACKAGE              10   type uncl_array IS table of VARCHAR2(227) index by BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              11   --  Lists of "USER"."NAME"."COLUMN"@LINK should be stored here
IRPTOW     DBMS_UTILITY                   PACKAGE              12
IRPTOW     DBMS_UTILITY                   PACKAGE              13   type name_array IS table of VARCHAR2(30) index by BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              14   --  Lists of NAME should be stored here
IRPTOW     DBMS_UTILITY                   PACKAGE              15
IRPTOW     DBMS_UTILITY                   PACKAGE              16   type lname_array IS table of VARCHAR2(4000) index by BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              17   --  Lists of Long NAME should be stored here, it includes fully
IRPTOW     DBMS_UTILITY                   PACKAGE              18   --  qualified attribute names.
IRPTOW     DBMS_UTILITY                   PACKAGE              19
IRPTOW     DBMS_UTILITY                   PACKAGE              20   type maxname_array IS table of VARCHAR2(32767) index by BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              21   --  Lists of large VARCHAR2s should be stored here
IRPTOW     DBMS_UTILITY                   PACKAGE              22
IRPTOW     DBMS_UTILITY                   PACKAGE              23   type dblink_array IS table of VARCHAR2(128) index by BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              24   --  Lists of database links should be stored here
IRPTOW     DBMS_UTILITY                   PACKAGE              25
IRPTOW     DBMS_UTILITY                   PACKAGE              26   TYPE index_table_type IS TABLE OF BINARY_INTEGER INDEX BY BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              27   --  order in which objects should be generated is returned here
IRPTOW     DBMS_UTILITY                   PACKAGE              28
IRPTOW     DBMS_UTILITY                   PACKAGE              29   TYPE number_array IS TABLE OF NUMBER INDEX BY BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              30   --  order in which objects should be generated is returned here for users.
IRPTOW     DBMS_UTILITY                   PACKAGE              31   TYPE instance_record IS RECORD (
IRPTOW     DBMS_UTILITY                   PACKAGE              32        inst_number   NUMBER,
IRPTOW     DBMS_UTILITY                   PACKAGE              33        inst_name     VARCHAR2(60));
IRPTOW     DBMS_UTILITY                   PACKAGE              34
IRPTOW     DBMS_UTILITY                   PACKAGE              35   TYPE instance_table IS TABLE OF instance_record INDEX BY BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE              36   -- list of active instance number and instance name
IRPTOW     DBMS_UTILITY                   PACKAGE              37   -- the starting index of instance_table is 1
IRPTOW     DBMS_UTILITY                   PACKAGE              38   -- instance_table is dense
IRPTOW     DBMS_UTILITY                   PACKAGE              39
IRPTOW     DBMS_UTILITY                   PACKAGE              40   SUBTYPE maxraw IS RAW(32767);
IRPTOW     DBMS_UTILITY                   PACKAGE              41
IRPTOW     DBMS_UTILITY                   PACKAGE              42   ----------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE              43   --  PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_UTILITY                   PACKAGE              44   --
IRPTOW     DBMS_UTILITY                   PACKAGE              45   procedure compile_schema(schema varchar2, compile_all boolean default TRUE);
IRPTOW     DBMS_UTILITY                   PACKAGE              46   --  Compile all procedures, functions, packages and triggers in the specified
IRPTOW     DBMS_UTILITY                   PACKAGE              47   --  schema.  After calling this procedure you should select from view
IRPTOW     DBMS_UTILITY                   PACKAGE              48   --  ALL_OBJECTS for items with status of 'INVALID' to see if all objects

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE              49   --  were successfully compiled.  You may use the command "SHOW ERRORS
IRPTOW     DBMS_UTILITY                   PACKAGE              50   --  <type> <schema>.<name>" to see the errors assocated with 'INVALID'
IRPTOW     DBMS_UTILITY                   PACKAGE              51   --  objects.
IRPTOW     DBMS_UTILITY                   PACKAGE              52   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE              53   --    schema
IRPTOW     DBMS_UTILITY                   PACKAGE              54   --      Name of the schema.
IRPTOW     DBMS_UTILITY                   PACKAGE              55   --    compile_all
IRPTOW     DBMS_UTILITY                   PACKAGE              56   --      This is a boolean flag that indicates whether we should compile all
IRPTOW     DBMS_UTILITY                   PACKAGE              57   --      schema objects or not, regardless of whether the object is currently
IRPTOW     DBMS_UTILITY                   PACKAGE              58   --      flagged as valid or not. The default is to support the previous
IRPTOW     DBMS_UTILITY                   PACKAGE              59   --      compile_schema() behaviour and compile ALL objects.
IRPTOW     DBMS_UTILITY                   PACKAGE              60   --  Exceptions:
IRPTOW     DBMS_UTILITY                   PACKAGE              61   --    ORA-20000: Insufficient privileges for some object in this schema.
IRPTOW     DBMS_UTILITY                   PACKAGE              62   --    ORA-20001: Cannot recompile SYS objects.
IRPTOW     DBMS_UTILITY                   PACKAGE              63   --    ORA-20002: Maximum iterations exceeded.
IRPTOW     DBMS_UTILITY                   PACKAGE              64   --               Some objects may not have been recompiled
IRPTOW     DBMS_UTILITY                   PACKAGE              65   --  Notes:
IRPTOW     DBMS_UTILITY                   PACKAGE              66   --   1) When this procedure is executed it determines an upper limit to
IRPTOW     DBMS_UTILITY                   PACKAGE              67   --      the number of objects that need to be recompiled and then iterates
IRPTOW     DBMS_UTILITY                   PACKAGE              68   --      around the objects to be recompiled. Should this upper limit be
IRPTOW     DBMS_UTILITY                   PACKAGE              69   --      exceeded then the last exception will be raised and in this case
IRPTOW     DBMS_UTILITY                   PACKAGE              70   --      you can just re-execute the procedure again. Should this fail with
IRPTOW     DBMS_UTILITY                   PACKAGE              71   --      the same error then this may indicate an object that persistently
IRPTOW     DBMS_UTILITY                   PACKAGE              72   --      fails for some reason.
IRPTOW     DBMS_UTILITY                   PACKAGE              73   procedure analyze_schema(schema varchar2, method varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE              74     estimate_rows number default null,
IRPTOW     DBMS_UTILITY                   PACKAGE              75     estimate_percent number default null, method_opt varchar2 default null);
IRPTOW     DBMS_UTILITY                   PACKAGE              76   --  Analyze all the tables, clusters and indexes in a schema.
IRPTOW     DBMS_UTILITY                   PACKAGE              77   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE              78   --    schema
IRPTOW     DBMS_UTILITY                   PACKAGE              79   --      Name of the schema.
IRPTOW     DBMS_UTILITY                   PACKAGE              80   --    method, estimate_rows, estimate_percent, method_opt
IRPTOW     DBMS_UTILITY                   PACKAGE              81   --      See the descriptions above in sql_ddl.analyze.object.
IRPTOW     DBMS_UTILITY                   PACKAGE              82   --  Exceptions:
IRPTOW     DBMS_UTILITY                   PACKAGE              83   --    ORA-20000: Insufficient privileges for some object in this schema.
IRPTOW     DBMS_UTILITY                   PACKAGE              84   procedure analyze_database(method varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE              85     estimate_rows number default null,
IRPTOW     DBMS_UTILITY                   PACKAGE              86     estimate_percent number default null, method_opt varchar2 default null);
IRPTOW     DBMS_UTILITY                   PACKAGE              87   --  Analyze all the tables, clusters and indexes in a database.
IRPTOW     DBMS_UTILITY                   PACKAGE              88   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE              89   --    method, estimate_rows, estimate_percent, method_opt
IRPTOW     DBMS_UTILITY                   PACKAGE              90   --      See the descriptions above in sql_ddl.analyze.object.
IRPTOW     DBMS_UTILITY                   PACKAGE              91   --  Exceptions:
IRPTOW     DBMS_UTILITY                   PACKAGE              92   --    ORA-20000: Insufficient privileges for some object in this database.
IRPTOW     DBMS_UTILITY                   PACKAGE              93   function format_error_stack return varchar2;
IRPTOW     DBMS_UTILITY                   PACKAGE              94     pragma interface (C, format_error_stack);		    -- 1 (see psdicd.c)
IRPTOW     DBMS_UTILITY                   PACKAGE              95   --  Format the current error stack.  This can be used in exception
IRPTOW     DBMS_UTILITY                   PACKAGE              96   --    handlers to look at the full error stack.
IRPTOW     DBMS_UTILITY                   PACKAGE              97   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE              98   --    format_error_stack
IRPTOW     DBMS_UTILITY                   PACKAGE              99   --      Returns the error stack.  May be up to 2000 bytes.
IRPTOW     DBMS_UTILITY                   PACKAGE             100   function format_call_stack return varchar2;
IRPTOW     DBMS_UTILITY                   PACKAGE             101     pragma restrict_references(format_call_stack,WNDS);
IRPTOW     DBMS_UTILITY                   PACKAGE             102     pragma interface (C, format_call_stack);		    -- 2 (see psdicd.c)
IRPTOW     DBMS_UTILITY                   PACKAGE             103   --  Format the current call stack.  This can be used an any stored
IRPTOW     DBMS_UTILITY                   PACKAGE             104   --    procedure or trigger to access the call stack.  This can be
IRPTOW     DBMS_UTILITY                   PACKAGE             105   --    useful for debugging.
IRPTOW     DBMS_UTILITY                   PACKAGE             106   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             107   --    format_call_stack
IRPTOW     DBMS_UTILITY                   PACKAGE             108   --      Returns the call stack.  May be up to 2000 bytes.
IRPTOW     DBMS_UTILITY                   PACKAGE             109   function is_cluster_database return boolean;
IRPTOW     DBMS_UTILITY                   PACKAGE             110   --  Find out if this database is running in cluster database mode.
IRPTOW     DBMS_UTILITY                   PACKAGE             111   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             112   --    is_cluster_database
IRPTOW     DBMS_UTILITY                   PACKAGE             113   --      TRUE if this instance was started in cluster database mode,
IRPTOW     DBMS_UTILITY                   PACKAGE             114   --      FALSE otherwise.
IRPTOW     DBMS_UTILITY                   PACKAGE             115   function get_time return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             116   --  Find out the current time in 100th's of a second.
IRPTOW     DBMS_UTILITY                   PACKAGE             117   --  Output argukments:
IRPTOW     DBMS_UTILITY                   PACKAGE             118   --    get_time
IRPTOW     DBMS_UTILITY                   PACKAGE             119   --      The time is the number of 100th's of a second from some
IRPTOW     DBMS_UTILITY                   PACKAGE             120   --      arbitrary epoch.
IRPTOW     DBMS_UTILITY                   PACKAGE             121   function get_parameter_value(parnam in     varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             122 		               intval in out binary_integer,
IRPTOW     DBMS_UTILITY                   PACKAGE             123 		               strval in out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             124                                listno in     binary_integer default 1)
IRPTOW     DBMS_UTILITY                   PACKAGE             125     return binary_integer;
IRPTOW     DBMS_UTILITY                   PACKAGE             126   --  Gets value of specified init.ora parameter.
IRPTOW     DBMS_UTILITY                   PACKAGE             127   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             128   --    parnam
IRPTOW     DBMS_UTILITY                   PACKAGE             129   --      Parameter name
IRPTOW     DBMS_UTILITY                   PACKAGE             130   --    listno
IRPTOW     DBMS_UTILITY                   PACKAGE             131   --      List item number. If we are retrieving the parameter values for
IRPTOW     DBMS_UTILITY                   PACKAGE             132   --      a parameter that can be specified multiple times to accumulate
IRPTOW     DBMS_UTILITY                   PACKAGE             133   --      values (Eg rollback_segments) then this can be used to get each
IRPTOW     DBMS_UTILITY                   PACKAGE             134   --      individual parameter. Eg, if we have the following :
IRPTOW     DBMS_UTILITY                   PACKAGE             135   --
IRPTOW     DBMS_UTILITY                   PACKAGE             136   --          rollback_segments = rbs1
IRPTOW     DBMS_UTILITY                   PACKAGE             137   --          rollback_segments = rbs2
IRPTOW     DBMS_UTILITY                   PACKAGE             138   --
IRPTOW     DBMS_UTILITY                   PACKAGE             139   --      then use a value of 1 to get "rbs1" and a value of 2 to get "rbs2".
IRPTOW     DBMS_UTILITY                   PACKAGE             140   --
IRPTOW     DBMS_UTILITY                   PACKAGE             141   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             142   --    intval
IRPTOW     DBMS_UTILITY                   PACKAGE             143   --      Value of an integer parameter or value length of a string parameter
IRPTOW     DBMS_UTILITY                   PACKAGE             144   --    strval
IRPTOW     DBMS_UTILITY                   PACKAGE             145   --      Value of a string parameter

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE             146   --  Returns:
IRPTOW     DBMS_UTILITY                   PACKAGE             147   --    partyp
IRPTOW     DBMS_UTILITY                   PACKAGE             148   --      Parameter type
IRPTOW     DBMS_UTILITY                   PACKAGE             149   --        0 if parameter is an integer/boolean parameter
IRPTOW     DBMS_UTILITY                   PACKAGE             150   --        1 if parameter is a  string/file parameter
IRPTOW     DBMS_UTILITY                   PACKAGE             151   --  Notes
IRPTOW     DBMS_UTILITY                   PACKAGE             152   --    1. Certain parameters can store values much larger than can be
IRPTOW     DBMS_UTILITY                   PACKAGE             153   --       returned by this function. When this function is requested to
IRPTOW     DBMS_UTILITY                   PACKAGE             154   --       retrieve the setting for such parameters and "unsupported parameter"
IRPTOW     DBMS_UTILITY                   PACKAGE             155   --       exception will be raised. The "shared_pool_size" parameter is one
IRPTOW     DBMS_UTILITY                   PACKAGE             156   --       such parameter.
IRPTOW     DBMS_UTILITY                   PACKAGE             157   -- Example usage:
IRPTOW     DBMS_UTILITY                   PACKAGE             158   -- DECLARE
IRPTOW     DBMS_UTILITY                   PACKAGE             159   --   parnam VARCHAR2(256);
IRPTOW     DBMS_UTILITY                   PACKAGE             160   --   intval BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE             161   --   strval VARCHAR2(256);
IRPTOW     DBMS_UTILITY                   PACKAGE             162   --   partyp BINARY_INTEGER;
IRPTOW     DBMS_UTILITY                   PACKAGE             163   -- BEGIN
IRPTOW     DBMS_UTILITY                   PACKAGE             164   --   partyp := dbms_utility.get_parameter_value('max_dump_file_size',
IRPTOW     DBMS_UTILITY                   PACKAGE             165   --                                               intval, strval);
IRPTOW     DBMS_UTILITY                   PACKAGE             166   --   dbms_output.put('parameter value is: ');
IRPTOW     DBMS_UTILITY                   PACKAGE             167   --   IF partyp = 1 THEN
IRPTOW     DBMS_UTILITY                   PACKAGE             168   --     dbms_output.put_line(strval);
IRPTOW     DBMS_UTILITY                   PACKAGE             169   --   ELSE
IRPTOW     DBMS_UTILITY                   PACKAGE             170   --     dbms_output.put_line(intval);
IRPTOW     DBMS_UTILITY                   PACKAGE             171   --   END IF;
IRPTOW     DBMS_UTILITY                   PACKAGE             172   --   IF partyp = 1 THEN
IRPTOW     DBMS_UTILITY                   PACKAGE             173   --     dbms_output.put('parameter value length is: ');
IRPTOW     DBMS_UTILITY                   PACKAGE             174   --     dbms_output.put_line(intval);
IRPTOW     DBMS_UTILITY                   PACKAGE             175   --   END IF;
IRPTOW     DBMS_UTILITY                   PACKAGE             176   --   dbms_output.put('parameter type is: ');
IRPTOW     DBMS_UTILITY                   PACKAGE             177   --   IF partyp = 1 THEN
IRPTOW     DBMS_UTILITY                   PACKAGE             178   --     dbms_output.put_line('string');
IRPTOW     DBMS_UTILITY                   PACKAGE             179   --   ELSE
IRPTOW     DBMS_UTILITY                   PACKAGE             180   --     dbms_output.put_line('integer');
IRPTOW     DBMS_UTILITY                   PACKAGE             181   --   END IF;
IRPTOW     DBMS_UTILITY                   PACKAGE             182   -- END;
IRPTOW     DBMS_UTILITY                   PACKAGE             183   procedure name_resolve(name in varchar2, context in number,
IRPTOW     DBMS_UTILITY                   PACKAGE             184     schema out varchar2, part1 out varchar2, part2 out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             185     dblink out varchar2, part1_type out number, object_number out number);
IRPTOW     DBMS_UTILITY                   PACKAGE             186   --  Resolve the given name.  Do synonym translation if necessary.  Do
IRPTOW     DBMS_UTILITY                   PACKAGE             187   --    authorization checking.
IRPTOW     DBMS_UTILITY                   PACKAGE             188   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             189   --    name
IRPTOW     DBMS_UTILITY                   PACKAGE             190   --      The name of the object.  This can be of the form [[a.]b.]c[@d]
IRPTOW     DBMS_UTILITY                   PACKAGE             191   --      where a,b,c are SQL identifier and d is a dblink.  No syntax
IRPTOW     DBMS_UTILITY                   PACKAGE             192   --      checking is performed on the dblink.  If a dblink is specified,
IRPTOW     DBMS_UTILITY                   PACKAGE             193   --      of the name resolves to something with a dblink, then object
IRPTOW     DBMS_UTILITY                   PACKAGE             194   --      is not resolved, but the schema, part1, part2 and dblink out
IRPTOW     DBMS_UTILITY                   PACKAGE             195   --      arguments are filled in.  a,b and c may be delimted identifiers,
IRPTOW     DBMS_UTILITY                   PACKAGE             196   --      and may contain NLS characters (single and multi-byte).
IRPTOW     DBMS_UTILITY                   PACKAGE             197   --    context
IRPTOW     DBMS_UTILITY                   PACKAGE             198   --	  Must be an integer between 0 and 8.
IRPTOW     DBMS_UTILITY                   PACKAGE             199   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             200   --    schema
IRPTOW     DBMS_UTILITY                   PACKAGE             201   --      The schema of the object.  If no schema is specified in 'name'
IRPTOW     DBMS_UTILITY                   PACKAGE             202   --      then the schema is determined by resolving the name.
IRPTOW     DBMS_UTILITY                   PACKAGE             203   --    part1
IRPTOW     DBMS_UTILITY                   PACKAGE             204   --      The first part of the name.  The type of this name is specified
IRPTOW     DBMS_UTILITY                   PACKAGE             205   --      part1_type (synonym, procedure or package).
IRPTOW     DBMS_UTILITY                   PACKAGE             206   --    part2
IRPTOW     DBMS_UTILITY                   PACKAGE             207   --      If this is non-null, then this is a procedure name within the
IRPTOW     DBMS_UTILITY                   PACKAGE             208   --      package indicated by part1.
IRPTOW     DBMS_UTILITY                   PACKAGE             209   --    dblink
IRPTOW     DBMS_UTILITY                   PACKAGE             210   --      If this is non-null then a database link was either specified
IRPTOW     DBMS_UTILITY                   PACKAGE             211   --      as part of 'name' or 'name' was a synonym which resolved to
IRPTOW     DBMS_UTILITY                   PACKAGE             212   --      something with a database link.  In this later case, part1_type
IRPTOW     DBMS_UTILITY                   PACKAGE             213   --      will indicate a synonym.
IRPTOW     DBMS_UTILITY                   PACKAGE             214   --    part1_type
IRPTOW     DBMS_UTILITY                   PACKAGE             215   --      The type of part1 is
IRPTOW     DBMS_UTILITY                   PACKAGE             216   --        5 - synonym
IRPTOW     DBMS_UTILITY                   PACKAGE             217   --        7 - procedure (top level)
IRPTOW     DBMS_UTILITY                   PACKAGE             218   --        8 - function (top level)
IRPTOW     DBMS_UTILITY                   PACKAGE             219   --        9 - package
IRPTOW     DBMS_UTILITY                   PACKAGE             220   --      If a synonym, it means that 'name' is a synonym that translats
IRPTOW     DBMS_UTILITY                   PACKAGE             221   --      to something with a database link.  In this case, if further
IRPTOW     DBMS_UTILITY                   PACKAGE             222   --      name translation is desired, then you must call the
IRPTOW     DBMS_UTILITY                   PACKAGE             223   --      dbms_utility.name_resolve procedure on this remote node.
IRPTOW     DBMS_UTILITY                   PACKAGE             224   --    object_number
IRPTOW     DBMS_UTILITY                   PACKAGE             225   --      If non-null then 'name' was successfully resolved and this is the
IRPTOW     DBMS_UTILITY                   PACKAGE             226   --      object number which it resolved to.
IRPTOW     DBMS_UTILITY                   PACKAGE             227   --  Exceptions:
IRPTOW     DBMS_UTILITY                   PACKAGE             228   --    All errors are handled by raising exceptions.  A wide variety of
IRPTOW     DBMS_UTILITY                   PACKAGE             229   --    exceptions are possible, based on the various syntax error that
IRPTOW     DBMS_UTILITY                   PACKAGE             230   --    are possible when specifying object names.
IRPTOW     DBMS_UTILITY                   PACKAGE             231   procedure name_tokenize( name    in  varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             232 		           a       out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             233 		           b       out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             234 	                   c       out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             235 		           dblink  out varchar2,
IRPTOW     DBMS_UTILITY                   PACKAGE             236                            nextpos out binary_integer);
IRPTOW     DBMS_UTILITY                   PACKAGE             237   --  Call the parser to parse the given name as "a [. b [. c ]][@ dblink ]".
IRPTOW     DBMS_UTILITY                   PACKAGE             238   --  Strip doublequotes, or convert to uppercase if there are no quotes.
IRPTOW     DBMS_UTILITY                   PACKAGE             239   --    Ignore comments of all sorts.  Do no semantic analysis.  Leave any
IRPTOW     DBMS_UTILITY                   PACKAGE             240   --      missing values as null.
IRPTOW     DBMS_UTILITY                   PACKAGE             241   --  For each of a,b,c,dblink, tell where the following token starts
IRPTOW     DBMS_UTILITY                   PACKAGE             242   --    in anext,bnext,cnext,dnext respectively.

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE             243   PROCEDURE comma_to_table( list   IN  VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             244                             tablen OUT BINARY_INTEGER,
IRPTOW     DBMS_UTILITY                   PACKAGE             245                             tab    OUT uncl_array);
IRPTOW     DBMS_UTILITY                   PACKAGE             246   --  Convert a comma-separated list of names into a PL/SQL table of names
IRPTOW     DBMS_UTILITY                   PACKAGE             247   --  This uses name_tokenize to figure out what are names and what are commas
IRPTOW     DBMS_UTILITY                   PACKAGE             248
IRPTOW     DBMS_UTILITY                   PACKAGE             249   PROCEDURE comma_to_table( list   IN  VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             250                             tablen OUT BINARY_INTEGER,
IRPTOW     DBMS_UTILITY                   PACKAGE             251                             tab    OUT lname_array);
IRPTOW     DBMS_UTILITY                   PACKAGE             252   --  Convert a comma-separated list of names into a PL/SQL table of names
IRPTOW     DBMS_UTILITY                   PACKAGE             253   --  This uses aname_parse to figure out what are names and what are commas
IRPTOW     DBMS_UTILITY                   PACKAGE             254   --  This is an overloaded version for supporting fully-qualified attribute
IRPTOW     DBMS_UTILITY                   PACKAGE             255   --  names.
IRPTOW     DBMS_UTILITY                   PACKAGE             256
IRPTOW     DBMS_UTILITY                   PACKAGE             257   PROCEDURE table_to_comma( tab    IN  uncl_array,
IRPTOW     DBMS_UTILITY                   PACKAGE             258                             tablen OUT BINARY_INTEGER,
IRPTOW     DBMS_UTILITY                   PACKAGE             259                             list   OUT VARCHAR2);
IRPTOW     DBMS_UTILITY                   PACKAGE             260   --  Convert a PL/SQL table of names into a comma-separated list of names
IRPTOW     DBMS_UTILITY                   PACKAGE             261
IRPTOW     DBMS_UTILITY                   PACKAGE             262   PROCEDURE table_to_comma( tab    IN  lname_array,
IRPTOW     DBMS_UTILITY                   PACKAGE             263                             tablen OUT BINARY_INTEGER,
IRPTOW     DBMS_UTILITY                   PACKAGE             264                             list   OUT VARCHAR2);
IRPTOW     DBMS_UTILITY                   PACKAGE             265   --  Convert a PL/SQL table of names into a comma-separated list of names
IRPTOW     DBMS_UTILITY                   PACKAGE             266   --  This is an overloaded version for supporting fully-qualified attribute
IRPTOW     DBMS_UTILITY                   PACKAGE             267   --  names.
IRPTOW     DBMS_UTILITY                   PACKAGE             268
IRPTOW     DBMS_UTILITY                   PACKAGE             269   FUNCTION port_string RETURN VARCHAR2;
IRPTOW     DBMS_UTILITY                   PACKAGE             270   PRAGMA RESTRICT_REFERENCES(port_string, WNDS, RNDS, WNPS, RNPS);
IRPTOW     DBMS_UTILITY                   PACKAGE             271   --  Return a string that uniquely identifies the port (operating system)
IRPTOW     DBMS_UTILITY                   PACKAGE             272   --  and the two task protocol version of Oracle.  EG "VAX/VMX-7.1.0.0"
IRPTOW     DBMS_UTILITY                   PACKAGE             273   --  "SVR4-be-8.1.0" (SVR4-b(ig)e(ndian)-8.1.0)
IRPTOW     DBMS_UTILITY                   PACKAGE             274   --  maximum length is port specific.
IRPTOW     DBMS_UTILITY                   PACKAGE             275
IRPTOW     DBMS_UTILITY                   PACKAGE             276   PROCEDURE db_version(version       OUT VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             277                        compatibility OUT VARCHAR2);
IRPTOW     DBMS_UTILITY                   PACKAGE             278   -- Return version information for the database:
IRPTOW     DBMS_UTILITY                   PACKAGE             279   -- version -> A string which represents the internal software version
IRPTOW     DBMS_UTILITY                   PACKAGE             280   --            of the database (e.g., 7.1.0.0.0). The length of this string
IRPTOW     DBMS_UTILITY                   PACKAGE             281   --            is variable and is determined by the database version.
IRPTOW     DBMS_UTILITY                   PACKAGE             282   -- compatibility -> The compatibility setting of the database determined by
IRPTOW     DBMS_UTILITY                   PACKAGE             283   --                  the "compatible" init.ora parameter. If the parameter
IRPTOW     DBMS_UTILITY                   PACKAGE             284   --                  is not specified in the init.ora file, NULL is returned.
IRPTOW     DBMS_UTILITY                   PACKAGE             285
IRPTOW     DBMS_UTILITY                   PACKAGE             286   function make_data_block_address(file number, block number) return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             287   PRAGMA RESTRICT_REFERENCES(make_data_block_address, WNDS, RNDS, WNPS, RNPS);
IRPTOW     DBMS_UTILITY                   PACKAGE             288   --  Creates a data block address given a file# and a block#.  A data block
IRPTOW     DBMS_UTILITY                   PACKAGE             289   --  address is the internal structure used to identify a block in the
IRPTOW     DBMS_UTILITY                   PACKAGE             290   --  database.  This is function useful when accessing certain fixed tables
IRPTOW     DBMS_UTILITY                   PACKAGE             291   --  that contain data block addresses.
IRPTOW     DBMS_UTILITY                   PACKAGE             292   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             293   --    file  - the file that contains the block
IRPTOW     DBMS_UTILITY                   PACKAGE             294   --    block - the offset of the block within the file in terms of block
IRPTOW     DBMS_UTILITY                   PACKAGE             295   --            increments
IRPTOW     DBMS_UTILITY                   PACKAGE             296   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             297   --    dba   - the data block address
IRPTOW     DBMS_UTILITY                   PACKAGE             298   function data_block_address_file(dba number) return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             299   PRAGMA RESTRICT_REFERENCES(data_block_address_file, WNDS, RNDS, WNPS, RNPS);
IRPTOW     DBMS_UTILITY                   PACKAGE             300   --  Get the file number part of a data block address
IRPTOW     DBMS_UTILITY                   PACKAGE             301   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             302   --    dba   - a data block address
IRPTOW     DBMS_UTILITY                   PACKAGE             303   --  Output Arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             304   --    file  - the file that contains the block
IRPTOW     DBMS_UTILITY                   PACKAGE             305   function data_block_address_block(dba number) return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             306   PRAGMA RESTRICT_REFERENCES(data_block_address_block, WNDS, RNDS, WNPS, RNPS);
IRPTOW     DBMS_UTILITY                   PACKAGE             307   --  Get the block number part of a data block address
IRPTOW     DBMS_UTILITY                   PACKAGE             308   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             309   --    dba   - a data block address
IRPTOW     DBMS_UTILITY                   PACKAGE             310   --  Output Arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             311   --    block  - the block offset of the block
IRPTOW     DBMS_UTILITY                   PACKAGE             312   function get_hash_value(name varchar2, base number, hash_size number)
IRPTOW     DBMS_UTILITY                   PACKAGE             313     return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             314   PRAGMA RESTRICT_REFERENCES(get_hash_value, WNDS, RNDS, WNPS, RNPS);
IRPTOW     DBMS_UTILITY                   PACKAGE             315   --  Compute a hash value for the given string
IRPTOW     DBMS_UTILITY                   PACKAGE             316   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             317   --    name  - The string to be hashed.
IRPTOW     DBMS_UTILITY                   PACKAGE             318   --    base  - A base value for the returned hash value to start at.
IRPTOW     DBMS_UTILITY                   PACKAGE             319   --    hash_size -  The desired size of the hash table.
IRPTOW     DBMS_UTILITY                   PACKAGE             320   --  Returns:
IRPTOW     DBMS_UTILITY                   PACKAGE             321   --    A hash value based on the input string.
IRPTOW     DBMS_UTILITY                   PACKAGE             322   --    For example, to get a hash value on a string where the hash value
IRPTOW     DBMS_UTILITY                   PACKAGE             323   --    should be between 1000 and 3047, use 1000 as the base value and
IRPTOW     DBMS_UTILITY                   PACKAGE             324   --    2048 as the hash_size value.  Using a power of 2 for the hash_size
IRPTOW     DBMS_UTILITY                   PACKAGE             325   --    parameter works best.
IRPTOW     DBMS_UTILITY                   PACKAGE             326 procedure analyze_part_object
IRPTOW     DBMS_UTILITY                   PACKAGE             327    (schema in varchar2 default null,
IRPTOW     DBMS_UTILITY                   PACKAGE             328     object_name in varchar2 default null,
IRPTOW     DBMS_UTILITY                   PACKAGE             329     object_type in char default 'T',
IRPTOW     DBMS_UTILITY                   PACKAGE             330     command_type in char default 'E',
IRPTOW     DBMS_UTILITY                   PACKAGE             331     command_opt in varchar2 default null,
IRPTOW     DBMS_UTILITY                   PACKAGE             332     sample_clause in varchar2 default 'sample 5 percent');
IRPTOW     DBMS_UTILITY                   PACKAGE             333   --  Equivalent to SQL "ANALYZE TABLE|INDEX [<schema>.]<object_name>
IRPTOW     DBMS_UTILITY                   PACKAGE             334   --    PARTITION <pname> [<command_type>] [<command_opt>] [<sample_clause>]
IRPTOW     DBMS_UTILITY                   PACKAGE             335   --  for each partition of the object, run in parallel using job queues.
IRPTOW     DBMS_UTILITY                   PACKAGE             336   --  The package will submit a job for each partition
IRPTOW     DBMS_UTILITY                   PACKAGE             337   --  It is the users responsibilty to control the number of concurrent
IRPTOW     DBMS_UTILITY                   PACKAGE             338   --  jobs by setting the INIT parameter JOB_QUEUE_PROCESSES correctly
IRPTOW     DBMS_UTILITY                   PACKAGE             339   --  There is minimal error checking for correct syntax.  Any error will be

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE             340   --  reported in SNP trace files.
IRPTOW     DBMS_UTILITY                   PACKAGE             341   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             342   --  schema
IRPTOW     DBMS_UTILITY                   PACKAGE             343   --    schema of the object_name
IRPTOW     DBMS_UTILITY                   PACKAGE             344   --  object_name
IRPTOW     DBMS_UTILITY                   PACKAGE             345   --    name of object to be analyzed, must be partitioned
IRPTOW     DBMS_UTILITY                   PACKAGE             346   --  object_type
IRPTOW     DBMS_UTILITY                   PACKAGE             347   --    type of object, must be T(able) or I(ndex)
IRPTOW     DBMS_UTILITY                   PACKAGE             348   --  command_type
IRPTOW     DBMS_UTILITY                   PACKAGE             349   --    must be one of the following
IRPTOW     DBMS_UTILITY                   PACKAGE             350   --      - C(omput statistics)
IRPTOW     DBMS_UTILITY                   PACKAGE             351   --      - E(stimate statistics)
IRPTOW     DBMS_UTILITY                   PACKAGE             352   --      - D(elete statistics)
IRPTOW     DBMS_UTILITY                   PACKAGE             353   --      - V(alidate structure)
IRPTOW     DBMS_UTILITY                   PACKAGE             354   --  command_opt
IRPTOW     DBMS_UTILITY                   PACKAGE             355   --    Other options for the command type.
IRPTOW     DBMS_UTILITY                   PACKAGE             356   --    For C, E it can be FOR table, FOR all LOCAL indexes, FOR all columns or
IRPTOW     DBMS_UTILITY                   PACKAGE             357   --    combination of some of the 'for' options of analyze statistics (table)
IRPTOW     DBMS_UTILITY                   PACKAGE             358   --    For V, it can be 'CASCADE' when object_type is T
IRPTOW     DBMS_UTILITY                   PACKAGE             359   --  sample_clause
IRPTOW     DBMS_UTILITY                   PACKAGE             360   --    Specifies the sample clause to use when command_type is 'E'
IRPTOW     DBMS_UTILITY                   PACKAGE             361 procedure exec_ddl_statement(parse_string in varchar2);
IRPTOW     DBMS_UTILITY                   PACKAGE             362   -- Will execute the DDL statement in parse_string
IRPTOW     DBMS_UTILITY                   PACKAGE             363   --  parse_string
IRPTOW     DBMS_UTILITY                   PACKAGE             364   --    DDL statement to be executed
IRPTOW     DBMS_UTILITY                   PACKAGE             365
IRPTOW     DBMS_UTILITY                   PACKAGE             366 function current_instance return number;
IRPTOW     DBMS_UTILITY                   PACKAGE             367   -- Return the current connected instance number
IRPTOW     DBMS_UTILITY                   PACKAGE             368   -- Return NULL when connected instance is down
IRPTOW     DBMS_UTILITY                   PACKAGE             369
IRPTOW     DBMS_UTILITY                   PACKAGE             370 procedure  active_instances(instance_table   OUT instance_table,
IRPTOW     DBMS_UTILITY                   PACKAGE             371 			    instance_count   OUT number);
IRPTOW     DBMS_UTILITY                   PACKAGE             372   -- instance_table contains a list of the active instance numbers and names
IRPTOW     DBMS_UTILITY                   PACKAGE             373   -- When no instance is up ( or non-OPS setting), the list is empty
IRPTOW     DBMS_UTILITY                   PACKAGE             374   -- instance_count is  the number of active instances, 0 under non-ops setting
IRPTOW     DBMS_UTILITY                   PACKAGE             375
IRPTOW     DBMS_UTILITY                   PACKAGE             376 procedure get_dependency (type   IN VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             377 			  schema IN VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             378                           name   IN VARCHAR2);
IRPTOW     DBMS_UTILITY                   PACKAGE             379  -- This procedure will show all the dependencies on the object passed in.
IRPTOW     DBMS_UTILITY                   PACKAGE             380  -- The inputs are
IRPTOW     DBMS_UTILITY                   PACKAGE             381  --   type: The type of the object, for example if the object is a table
IRPTOW     DBMS_UTILITY                   PACKAGE             382  --         give the type as 'TABLE'.
IRPTOW     DBMS_UTILITY                   PACKAGE             383  --   schema: The schema name of the object.
IRPTOW     DBMS_UTILITY                   PACKAGE             384  --   name: The name of the object.
IRPTOW     DBMS_UTILITY                   PACKAGE             385
IRPTOW     DBMS_UTILITY                   PACKAGE             386
IRPTOW     DBMS_UTILITY                   PACKAGE             387 procedure create_alter_type_error_table ( schema_name IN VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             388                                           table_name  IN VARCHAR2);
IRPTOW     DBMS_UTILITY                   PACKAGE             389  -- This procedure will create an error table to be used in the EXCEPTION
IRPTOW     DBMS_UTILITY                   PACKAGE             390  -- clause of ALTER TYPE statement. An error will be returned if the table
IRPTOW     DBMS_UTILITY                   PACKAGE             391  -- already exists.
IRPTOW     DBMS_UTILITY                   PACKAGE             392  -- The inputs are:
IRPTOW     DBMS_UTILITY                   PACKAGE             393  --   schema: The schema name
IRPTOW     DBMS_UTILITY                   PACKAGE             394  --   table: The name of the table to be created.
IRPTOW     DBMS_UTILITY                   PACKAGE             395
IRPTOW     DBMS_UTILITY                   PACKAGE             396 procedure canonicalize(name           IN   VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             397                        canon_name     OUT  VARCHAR2,
IRPTOW     DBMS_UTILITY                   PACKAGE             398                        canon_len      IN   BINARY_INTEGER);
IRPTOW     DBMS_UTILITY                   PACKAGE             399   -- canonicalize the given string
IRPTOW     DBMS_UTILITY                   PACKAGE             400   -- if name is NULL, canon_name becomes NULL
IRPTOW     DBMS_UTILITY                   PACKAGE             401   -- if name is not a dotted name,
IRPTOW     DBMS_UTILITY                   PACKAGE             402   --    if name begins and ends with a double quote, remove both
IRPTOW     DBMS_UTILITY                   PACKAGE             403   --    otherwise, convert to upper case with NLS_UPPER
IRPTOW     DBMS_UTILITY                   PACKAGE             404   --    Note that this case does not include a name with special
IRPTOW     DBMS_UTILITY                   PACKAGE             405   --    characters, e.g., space, but is not doubly quoted.
IRPTOW     DBMS_UTILITY                   PACKAGE             406   -- if name is a dotted name, e.g., a."b".c,
IRPTOW     DBMS_UTILITY                   PACKAGE             407   --    for each component in the dotted name,
IRPTOW     DBMS_UTILITY                   PACKAGE             408   --      if the component begins and ends with a double quote,
IRPTOW     DBMS_UTILITY                   PACKAGE             409   --        no transformation will be done in this component
IRPTOW     DBMS_UTILITY                   PACKAGE             410   --      else
IRPTOW     DBMS_UTILITY                   PACKAGE             411   --        this component will be capitalized with NLS_UPPER and
IRPTOW     DBMS_UTILITY                   PACKAGE             412   --        a begin and end double quotes will be applied to the
IRPTOW     DBMS_UTILITY                   PACKAGE             413   --        capitalized form of this component.
IRPTOW     DBMS_UTILITY                   PACKAGE             414   --    each canonicalized component will be concatenated together in
IRPTOW     DBMS_UTILITY                   PACKAGE             415   --    the input position, separated by ".".
IRPTOW     DBMS_UTILITY                   PACKAGE             416   -- return the first canon_len bytes in canon_name
IRPTOW     DBMS_UTILITY                   PACKAGE             417   --
IRPTOW     DBMS_UTILITY                   PACKAGE             418   -- Any other character after a[.b]* will be ignored.
IRPTOW     DBMS_UTILITY                   PACKAGE             419   --
IRPTOW     DBMS_UTILITY                   PACKAGE             420   -- NOTES:
IRPTOW     DBMS_UTILITY                   PACKAGE             421   --   1. It does not handle cases like 'A B';
IRPTOW     DBMS_UTILITY                   PACKAGE             422   --   2. It handles a single reserved/key word, e.g., 'table';
IRPTOW     DBMS_UTILITY                   PACKAGE             423   --   3. It strips off white spaces for a single identifier, e.g., ' table '
IRPTOW     DBMS_UTILITY                   PACKAGE             424   --      becomes TABLE.
IRPTOW     DBMS_UTILITY                   PACKAGE             425   --
IRPTOW     DBMS_UTILITY                   PACKAGE             426   -- Examples:
IRPTOW     DBMS_UTILITY                   PACKAGE             427   --   a becomes A
IRPTOW     DBMS_UTILITY                   PACKAGE             428   --   "a" becomes a
IRPTOW     DBMS_UTILITY                   PACKAGE             429   --   "a".b becomes "a"."B"
IRPTOW     DBMS_UTILITY                   PACKAGE             430   --   "a".b,c.f becomes "a"."B", ",c.f" is ignored.
IRPTOW     DBMS_UTILITY                   PACKAGE             431   --
IRPTOW     DBMS_UTILITY                   PACKAGE             432
IRPTOW     DBMS_UTILITY                   PACKAGE             433 FUNCTION is_bit_set(r                 IN  RAW,
IRPTOW     DBMS_UTILITY                   PACKAGE             434                  n                 IN  NUMBER)
IRPTOW     DBMS_UTILITY                   PACKAGE             435   RETURN NUMBER;
IRPTOW     DBMS_UTILITY                   PACKAGE             436   PRAGMA RESTRICT_REFERENCES(is_bit_set, RNPS, WNPS, RNDS, WNDS);

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_UTILITY                   PACKAGE             437   --  Return 1 if bit n in raw r is set.  Bits are numbered high to low
IRPTOW     DBMS_UTILITY                   PACKAGE             438   --  with the lowest bit being bit number 1.  This is a utility to assist
IRPTOW     DBMS_UTILITY                   PACKAGE             439   --  the view DBA_PENDING_TRANSACTION.
IRPTOW     DBMS_UTILITY                   PACKAGE             440
IRPTOW     DBMS_UTILITY                   PACKAGE             441
IRPTOW     DBMS_UTILITY                   PACKAGE             442 procedure get_tz_transitions(regionid number,transitions OUT maxraw);
IRPTOW     DBMS_UTILITY                   PACKAGE             443
IRPTOW     DBMS_UTILITY                   PACKAGE             444
IRPTOW     DBMS_UTILITY                   PACKAGE             445   --  Get timezeone transitions from the timezone.dat file
IRPTOW     DBMS_UTILITY                   PACKAGE             446   --  Input arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             447   --    regionid
IRPTOW     DBMS_UTILITY                   PACKAGE             448   --      Number corresponding to the region
IRPTOW     DBMS_UTILITY                   PACKAGE             449   --  Output arguments:
IRPTOW     DBMS_UTILITY                   PACKAGE             450   --    transitions
IRPTOW     DBMS_UTILITY                   PACKAGE             451   --      The raw bytes from the timezone.dat file
IRPTOW     DBMS_UTILITY                   PACKAGE             452
IRPTOW     DBMS_UTILITY                   PACKAGE             453   --
IRPTOW     DBMS_UTILITY                   PACKAGE             454   -- The following two functions provide the pre-825066-fix behavior of
IRPTOW     DBMS_UTILITY                   PACKAGE             455   -- SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA') and
IRPTOW     DBMS_UTILITY                   PACKAGE             456   -- SYS_CONTEXT('USERENV', 'CURRENT_USER')
IRPTOW     DBMS_UTILITY                   PACKAGE             457   --                  These functions are temporarily provided for
IRPTOW     DBMS_UTILITY                   PACKAGE             458   -- *** Warning ***: backward compatibility and will be removed in
IRPTOW     DBMS_UTILITY                   PACKAGE             459   --                  near future.
IRPTOW     DBMS_UTILITY                   PACKAGE             460   --
IRPTOW     DBMS_UTILITY                   PACKAGE             461   function old_current_schema return varchar2;
IRPTOW     DBMS_UTILITY                   PACKAGE             462   function old_current_user   return varchar2;
IRPTOW     DBMS_UTILITY                   PACKAGE             463 end;
IRPTOW     DBMS_XPLAN                     PACKAGE               1 package dbms_xplan AUTHID CURRENT_USER as
IRPTOW     DBMS_XPLAN                     PACKAGE               2   --- ------------------------------------------------------------------------
IRPTOW     DBMS_XPLAN                     PACKAGE               3   ---
IRPTOW     DBMS_XPLAN                     PACKAGE               4   --- OVERVIEW
IRPTOW     DBMS_XPLAN                     PACKAGE               5   ---
IRPTOW     DBMS_XPLAN                     PACKAGE               6   ---   This package defines the table function 'display' which can be used to
IRPTOW     DBMS_XPLAN                     PACKAGE               7   ---   display the result of the last explain plan command.
IRPTOW     DBMS_XPLAN                     PACKAGE               8   ---
IRPTOW     DBMS_XPLAN                     PACKAGE               9   ---   For example:
IRPTOW     DBMS_XPLAN                     PACKAGE              10   ---     explain plan for select ename, deptno
IRPTOW     DBMS_XPLAN                     PACKAGE              11   ---                      from emp e, dept d
IRPTOW     DBMS_XPLAN                     PACKAGE              12   ---                      where e.deptno = d.deptno;
IRPTOW     DBMS_XPLAN                     PACKAGE              13   ---     select * from table(dbms_xplan.display);
IRPTOW     DBMS_XPLAN                     PACKAGE              14   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              15   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              16   --- SECURITY
IRPTOW     DBMS_XPLAN                     PACKAGE              17   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              18   ---   The execution privilege is granted to PUBLIC. The procedure
IRPTOW     DBMS_XPLAN                     PACKAGE              19   ---   display in this package runs under the caller security.
IRPTOW     DBMS_XPLAN                     PACKAGE              20   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              21   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              22   --- PROCEDURES AND FUNCTIONS
IRPTOW     DBMS_XPLAN                     PACKAGE              23   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              24   ---   function display (table_name   varchar2 default 'PLAN_TABLE',
IRPTOW     DBMS_XPLAN                     PACKAGE              25   ---                     statement_id varchar2 default null,
IRPTOW     DBMS_XPLAN                     PACKAGE              26   ---                     format       varchar2 default 'TYPICAL')
IRPTOW     DBMS_XPLAN                     PACKAGE              27   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              28   ---   - table_name:
IRPTOW     DBMS_XPLAN                     PACKAGE              29   ---        specifies the table name where the plan is stored. This
IRPTOW     DBMS_XPLAN                     PACKAGE              30   ---        parameter defaults to "PLAN_TABLE" which is the default
IRPTOW     DBMS_XPLAN                     PACKAGE              31   ---        plan table for the explain plan.
IRPTOW     DBMS_XPLAN                     PACKAGE              32   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              33   ---   - statement_id:
IRPTOW     DBMS_XPLAN                     PACKAGE              34   ---        specifies the statement id of the plan to display. This
IRPTOW     DBMS_XPLAN                     PACKAGE              35   ---        parameter defaults to NULL.
IRPTOW     DBMS_XPLAN                     PACKAGE              36   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              37   ---   - format:
IRPTOW     DBMS_XPLAN                     PACKAGE              38   ---        'BASIC':   Display only the minimum, i.e. the operation id,
IRPTOW     DBMS_XPLAN                     PACKAGE              39   ---                   the operation name and its option
IRPTOW     DBMS_XPLAN                     PACKAGE              40   ---        'TYPICAL': This is the default. Display most information
IRPTOW     DBMS_XPLAN                     PACKAGE              41   ---                   of the explain plan (operation id, name and option,
IRPTOW     DBMS_XPLAN                     PACKAGE              42   ---                   #rows, #bytes and optimizer cost. Pruning,
IRPTOW     DBMS_XPLAN                     PACKAGE              43   ---                   parallel and predicate information are only
IRPTOW     DBMS_XPLAN                     PACKAGE              44   ---                   displayed when applicable.
IRPTOW     DBMS_XPLAN                     PACKAGE              45   ---        'ALL':     Maximum level. Like typical with additional display
IRPTOW     DBMS_XPLAN                     PACKAGE              46   ---                   of the SQL statements generated for PX servers
IRPTOW     DBMS_XPLAN                     PACKAGE              47   ---                   (only if parallel).
IRPTOW     DBMS_XPLAN                     PACKAGE              48   ---        'SERIAL':  Like typical except that parallel information are
IRPTOW     DBMS_XPLAN                     PACKAGE              49   ---                   not displayed, even if the plan is parallel
IRPTOW     DBMS_XPLAN                     PACKAGE              50   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              51   --- Examples:
IRPTOW     DBMS_XPLAN                     PACKAGE              52   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              53   ---   1/ display the last explain plan stored in the plan table:
IRPTOW     DBMS_XPLAN                     PACKAGE              54   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              55   ---      set linesize 150
IRPTOW     DBMS_XPLAN                     PACKAGE              56   ---      set pagesize 2000
IRPTOW     DBMS_XPLAN                     PACKAGE              57   ---      select * from table(dbms_xplan.display);
IRPTOW     DBMS_XPLAN                     PACKAGE              58   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              59   ---   2/ display from the plan table "my_plan_table":
IRPTOW     DBMS_XPLAN                     PACKAGE              60   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              61   ---      set linesize 150
IRPTOW     DBMS_XPLAN                     PACKAGE              62   ---      set pagesize 2000
IRPTOW     DBMS_XPLAN                     PACKAGE              63   ---      select * from table(dbms_xplan.display('my_plan_table'));
IRPTOW     DBMS_XPLAN                     PACKAGE              64   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              65   ---   3/ display minimum plan table:
IRPTOW     DBMS_XPLAN                     PACKAGE              66   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              67   ---      set linesize 150
IRPTOW     DBMS_XPLAN                     PACKAGE              68   ---      set pagesize 2000
IRPTOW     DBMS_XPLAN                     PACKAGE              69   ---      select * from table(dbms_xplan.display('plan_table', null, 'basic'));
IRPTOW     DBMS_XPLAN                     PACKAGE              70   ---

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     DBMS_XPLAN                     PACKAGE              71   ---   4/ display the plan whose statement_id is 'foo':
IRPTOW     DBMS_XPLAN                     PACKAGE              72   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              73   ---      set linesize 150
IRPTOW     DBMS_XPLAN                     PACKAGE              74   ---      set pagesize 2000
IRPTOW     DBMS_XPLAN                     PACKAGE              75   ---      select * from table(dbms_xplan.display('plan_table', 'foo'));
IRPTOW     DBMS_XPLAN                     PACKAGE              76   ---
IRPTOW     DBMS_XPLAN                     PACKAGE              77   --- ------------------------------------------------------------------------
IRPTOW     DBMS_XPLAN                     PACKAGE              78   function display (table_name    varchar2 default 'PLAN_TABLE',
IRPTOW     DBMS_XPLAN                     PACKAGE              79                     statement_id  varchar2 default null,
IRPTOW     DBMS_XPLAN                     PACKAGE              80                     format        varchar2 default 'TYPICAL')
IRPTOW     DBMS_XPLAN                     PACKAGE              81   return dbms_xplan_type_table
IRPTOW     DBMS_XPLAN                     PACKAGE              82   pipelined;
IRPTOW     DBMS_XPLAN                     PACKAGE              83
IRPTOW     DBMS_XPLAN                     PACKAGE              84 end dbms_xplan;
IRPTOW     CORE                           PACKAGE BODY          1 Package Body CORE IS
IRPTOW     CORE                           PACKAGE BODY          2 -- Purpose:
IRPTOW     CORE                           PACKAGE BODY          3 -- Partition Management allows for the quick movement of data and
IRPTOW     CORE                           PACKAGE BODY          4 -- performance improvements inherent in Oracle's partitioning features
IRPTOW     CORE                           PACKAGE BODY          5
IRPTOW     CORE                           PACKAGE BODY          6 -- MODIFICATION HISTORY
IRPTOW     CORE                           PACKAGE BODY          7 -- Person      Date      Comments
IRPTOW     CORE                           PACKAGE BODY          8 -- ---------   --------  ------------------------------------------
IRPTOW     CORE                           PACKAGE BODY          9 -- DScott      8/1/00    Original version
IRPTOW     CORE                           PACKAGE BODY         10 -- DScott      8/18/00   Removed originals, added all new code.
IRPTOW     CORE                           PACKAGE BODY         11 -- DScott      4/18/03   add fn: version, modify proc: add_partition
IRPTOW     CORE                           PACKAGE BODY         12 -- Joel        1/18/05   Alterao na procedure ptn_drop ptn_dropindex
IRPTOW     CORE                           PACKAGE BODY         13 FUNCTION version
IRPTOW     CORE                           PACKAGE BODY         14     RETURN  VARCHAR2
IRPTOW     CORE                           PACKAGE BODY         15 IS
IRPTOW     CORE                           PACKAGE BODY         16    version_info varchar2(200) := ('Inter-mediatE Reporting CORE version 1.01, (c) 2003 Intec Telecom Systems');
IRPTOW     CORE                           PACKAGE BODY         17 BEGIN
IRPTOW     CORE                           PACKAGE BODY         18    RETURN version_info;
IRPTOW     CORE                           PACKAGE BODY         19 END version;
IRPTOW     CORE                           PACKAGE BODY         20
IRPTOW     CORE                           PACKAGE BODY         21 PROCEDURE add_partition
IRPTOW     CORE                           PACKAGE BODY         22         ( p_tbl         IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY         23           p_basedt      IN DATE      DEFAULT NULL,
IRPTOW     CORE                           PACKAGE BODY         24           p_nbr_periods IN NUMBER    DEFAULT NULL,
IRPTOW     CORE                           PACKAGE BODY         25           p_targetdt    IN DATE      DEFAULT NULL )
IRPTOW     CORE                           PACKAGE BODY         26 IS
IRPTOW     CORE                           PACKAGE BODY         27     -- tbl is the table to be partitioned
IRPTOW     CORE                           PACKAGE BODY         28     -- basedate is the date to create the partition for
IRPTOW     CORE                           PACKAGE BODY         29     -- use NEXT_DAY and other date functions to pass in dates
IRPTOW     CORE                           PACKAGE BODY         30     -- p_targetdt is the date to create partitions through
IRPTOW     CORE                           PACKAGE BODY         31     -- p_basedate, p_nbr_periods are mutually exclusive to p_targetdt
IRPTOW     CORE                           PACKAGE BODY         32
IRPTOW     CORE                           PACKAGE BODY         33     -- character value of base date
IRPTOW     CORE                           PACKAGE BODY         34     std       VARCHAR2(50);
IRPTOW     CORE                           PACKAGE BODY         35     -- partition's lower and upper bound and text
IRPTOW     CORE                           PACKAGE BODY         36     startperiod DATE;
IRPTOW     CORE                           PACKAGE BODY         37     endperiod   DATE;
IRPTOW     CORE                           PACKAGE BODY         38     maxval      VARCHAR2(100);
IRPTOW     CORE                           PACKAGE BODY         39
IRPTOW     CORE                           PACKAGE BODY         40     -- DAY|WEEK|MONTH building block for window
IRPTOW     CORE                           PACKAGE BODY         41     period    VARCHAR2(32) := upper(CORE.SYSPARM_STR('CORE.RETENTION','PERIOD'));
IRPTOW     CORE                           PACKAGE BODY         42     -- how many periods to use for entry grain
IRPTOW     CORE                           PACKAGE BODY         43     grain     NUMBER;
IRPTOW     CORE                           PACKAGE BODY         44
IRPTOW     CORE                           PACKAGE BODY         45     -- date mask to make ptn names
IRPTOW     CORE                           PACKAGE BODY         46     mask      VARCHAR2(40) := CORE.SYSPARM_STR('CORE.PTN','MASK');
IRPTOW     CORE                           PACKAGE BODY         47     -- separator character in ts naming convention
IRPTOW     CORE                           PACKAGE BODY         48     sep       VARCHAR2(50) := CORE.SYSPARM_STR('CORE.TS','TS_SEPARATOR');
IRPTOW     CORE                           PACKAGE BODY         49     -- generated partition name
IRPTOW     CORE                           PACKAGE BODY         50     ptnname   VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY         51     -- 'lowest' empty tablespace for naming convention
IRPTOW     CORE                           PACKAGE BODY         52     next_usable_tbs VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY         53
IRPTOW     CORE                           PACKAGE BODY         54     -- find max ptn date (not MAXVALUE)
IRPTOW     CORE                           PACKAGE BODY         55     basedt DATE;
IRPTOW     CORE                           PACKAGE BODY         56     nbr_periods integer;
IRPTOW     CORE                           PACKAGE BODY         57 BEGIN
IRPTOW     CORE                           PACKAGE BODY         58     -- check inputs to make sure all is well
IRPTOW     CORE                           PACKAGE BODY         59     IF p_basedt IS NULL and p_nbr_periods IS NULL and p_targetdt IS NULL THEN
IRPTOW     CORE                           PACKAGE BODY         60         dbms_output.PUT_LINE('ERROR: core.add_partition: Invalid inputs.');
IRPTOW     CORE                           PACKAGE BODY         61         RAISE_APPLICATION_ERROR(-20001,'ERROR core.add_partition: Invalid inputs.');
IRPTOW     CORE                           PACKAGE BODY         62     END IF;
IRPTOW     CORE                           PACKAGE BODY         63
IRPTOW     CORE                           PACKAGE BODY         64     IF p_targetdt IS NOT NULL THEN
IRPTOW     CORE                           PACKAGE BODY         65     -- using a target date is higher priority than # of partitions
IRPTOW     CORE                           PACKAGE BODY         66         select (to_date(core.last_word(max(partition_name),'_'),'YYYYMMDD') +1)
IRPTOW     CORE                           PACKAGE BODY         67           into basedt
IRPTOW     CORE                           PACKAGE BODY         68           from all_tab_partitions
IRPTOW     CORE                           PACKAGE BODY         69          where table_name = p_tbl
IRPTOW     CORE                           PACKAGE BODY         70            and partition_name not like '%MAXVALUE'
IRPTOW     CORE                           PACKAGE BODY         71            and table_owner = 'IRPTOW';
IRPTOW     CORE                           PACKAGE BODY         72
IRPTOW     CORE                           PACKAGE BODY         73         IF basedt IS NULL THEN
IRPTOW     CORE                           PACKAGE BODY         74           DBMS_OUTPUT.PUT_LINE('ERROR: No partition for date calculation.');
IRPTOW     CORE                           PACKAGE BODY         75           RAISE_APPLICATION_ERROR(-20001,'ERROR in add_partition: No partition for date calculation.');
IRPTOW     CORE                           PACKAGE BODY         76         END IF;
IRPTOW     CORE                           PACKAGE BODY         77
IRPTOW     CORE                           PACKAGE BODY         78         nbr_periods := trunc(p_targetdt - basedt);
IRPTOW     CORE                           PACKAGE BODY         79     ELSE
IRPTOW     CORE                           PACKAGE BODY         80     -- proceed based on number of partitions, starting with basedt
IRPTOW     CORE                           PACKAGE BODY         81         IF ( p_nbr_periods IS NULL or p_basedt IS NULL ) THEN
IRPTOW     CORE                           PACKAGE BODY         82           DBMS_OUTPUT.PUT_LINE('ERROR: No data for partition calculation.');
IRPTOW     CORE                           PACKAGE BODY         83           RAISE_APPLICATION_ERROR(-20001,'ERROR in add_partition: No data for partition calculation.');

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY         84         END IF;
IRPTOW     CORE                           PACKAGE BODY         85
IRPTOW     CORE                           PACKAGE BODY         86         nbr_periods := (p_nbr_periods - 1);
IRPTOW     CORE                           PACKAGE BODY         87         basedt := p_basedt;
IRPTOW     CORE                           PACKAGE BODY         88     END IF;
IRPTOW     CORE                           PACKAGE BODY         89     DBMS_OUTPUT.PUT_LINE('# periods= '||to_char(nbr_periods));
IRPTOW     CORE                           PACKAGE BODY         90
IRPTOW     CORE                           PACKAGE BODY         91     -- start with 0 to make math easier
IRPTOW     CORE                           PACKAGE BODY         92     FOR iteration in 0 .. nbr_periods
IRPTOW     CORE                           PACKAGE BODY         93     LOOP
IRPTOW     CORE                           PACKAGE BODY         94         -- setup the naming convention and other vars
IRPTOW     CORE                           PACKAGE BODY         95         IF period = 'DAY' THEN
IRPTOW     CORE                           PACKAGE BODY         96             grain       := 1;
IRPTOW     CORE                           PACKAGE BODY         97             mask        := nvl(mask,'YYYYMMDD');
IRPTOW     CORE                           PACKAGE BODY         98             startperiod := (basedt+iteration);
IRPTOW     CORE                           PACKAGE BODY         99             endperiod   := (basedt+iteration+grain);
IRPTOW     CORE                           PACKAGE BODY        100         ELSIF UPPER(period) = 'WEEK'  THEN
IRPTOW     CORE                           PACKAGE BODY        101             grain       := 7;
IRPTOW     CORE                           PACKAGE BODY        102             mask        := nvl(mask,'YYYYMMDD');
IRPTOW     CORE                           PACKAGE BODY        103             startperiod := (basedt+(iteration*grain));
IRPTOW     CORE                           PACKAGE BODY        104             endperiod   := (basedt+((iteration+1)*grain));
IRPTOW     CORE                           PACKAGE BODY        105         ELSIF period = 'MONTH' THEN
IRPTOW     CORE                           PACKAGE BODY        106             grain       := 1;
IRPTOW     CORE                           PACKAGE BODY        107             mask        := nvl(mask,'YYYYMM');
IRPTOW     CORE                           PACKAGE BODY        108             startperiod := (ADD_MONTHS(TRUNC(basedt,'MM'),iteration));
IRPTOW     CORE                           PACKAGE BODY        109             endperiod   := (ADD_MONTHS(TRUNC(basedt,'MM'),iteration+grain));
IRPTOW     CORE                           PACKAGE BODY        110         ELSE
IRPTOW     CORE                           PACKAGE BODY        111             -- add error trap? WARN
IRPTOW     CORE                           PACKAGE BODY        112             DBMS_OUTPUT.PUT_LINE('ERROR: Unknown retention period. SYSPARMS.PARM_STR must be either DAY, WEEK, or MONTH');
IRPTOW     CORE                           PACKAGE BODY        113             RAISE_APPLICATION_ERROR(-20001,'ERROR in add_partition: Unknown retention period.');
IRPTOW     CORE                           PACKAGE BODY        114         END IF;
IRPTOW     CORE                           PACKAGE BODY        115
IRPTOW     CORE                           PACKAGE BODY        116         maxval  := TO_CHAR(endperiod,mask);
IRPTOW     CORE                           PACKAGE BODY        117         -- gotta change std to reflect new date
IRPTOW     CORE                           PACKAGE BODY        118         -- std     := TO_CHAR(p_basedt+iteration,mask);
IRPTOW     CORE                           PACKAGE BODY        119         -- ptnname := (p_tbl||sep||std);         -- partition name
IRPTOW     CORE                           PACKAGE BODY        120
IRPTOW     CORE                           PACKAGE BODY        121         IF CORE.SYSPARM_STR('CORE','VERBOSE') = 'TRUE' THEN
IRPTOW     CORE                           PACKAGE BODY        122             -- show values for log file
IRPTOW     CORE                           PACKAGE BODY        123             DBMS_OUTPUT.PUT_LINE('===================================');
IRPTOW     CORE                           PACKAGE BODY        124             DBMS_OUTPUT.PUT_LINE('INPUTS...');
IRPTOW     CORE                           PACKAGE BODY        125             DBMS_OUTPUT.PUT_LINE('Partition Table        = '||upper(p_tbl));
IRPTOW     CORE                           PACKAGE BODY        126             DBMS_OUTPUT.PUT_LINE('Partition BaseDate     = '||to_char(basedt,'DD-MON-YYYY'));
IRPTOW     CORE                           PACKAGE BODY        127             DBMS_OUTPUT.PUT_LINE('Partition # Periods    = '||to_char(p_nbr_periods));
IRPTOW     CORE                           PACKAGE BODY        128             DBMS_OUTPUT.PUT_LINE('Partition TargetDate   = '||to_char(p_targetdt,'DD-MON-YYYY'));
IRPTOW     CORE                           PACKAGE BODY        129             DBMS_OUTPUT.PUT_LINE('CODED...');
IRPTOW     CORE                           PACKAGE BODY        130             DBMS_OUTPUT.PUT_LINE('Partition Period       = '||period);
IRPTOW     CORE                           PACKAGE BODY        131             DBMS_OUTPUT.PUT_LINE('CALCULATED...');
IRPTOW     CORE                           PACKAGE BODY        132             DBMS_OUTPUT.PUT_LINE('Partition Grain        = '||grain);
IRPTOW     CORE                           PACKAGE BODY        133             DBMS_OUTPUT.PUT_LINE('Partition Mask         = '||mask);
IRPTOW     CORE                           PACKAGE BODY        134             DBMS_OUTPUT.PUT_LINE('Partition Lower Bound  = '||to_char(startperiod,'DD-MON-YYYY'));
IRPTOW     CORE                           PACKAGE BODY        135             DBMS_OUTPUT.PUT_LINE('Partition Upper Bound  = '||to_char(endperiod,'DD-MON-YYYY'));
IRPTOW     CORE                           PACKAGE BODY        136             DBMS_OUTPUT.PUT_LINE('Partition MaxVal Str   = '||maxval);
IRPTOW     CORE                           PACKAGE BODY        137             DBMS_OUTPUT.PUT_LINE('Partition Name         = '||ptnname);
IRPTOW     CORE                           PACKAGE BODY        138         END IF;
IRPTOW     CORE                           PACKAGE BODY        139
IRPTOW     CORE                           PACKAGE BODY        140         -- create the new partition
IRPTOW     CORE                           PACKAGE BODY        141         -- find the next usable tablespace
IRPTOW     CORE                           PACKAGE BODY        142         next_usable_tbs :=  PTN_TBS_AVAILABLE(p_tbl);
IRPTOW     CORE                           PACKAGE BODY        143
IRPTOW     CORE                           PACKAGE BODY        144         IF next_usable_tbs IS NOT NULL THEN
IRPTOW     CORE                           PACKAGE BODY        145             -- either SPLIT a MAXVALUE partition, or ADD a new one
IRPTOW     CORE                           PACKAGE BODY        146             ptn_add_split(upper(p_tbl),startperiod,maxval,mask,next_usable_tbs);
IRPTOW     CORE                           PACKAGE BODY        147         ELSE
IRPTOW     CORE                           PACKAGE BODY        148             DBMS_OUTPUT.PUT_LINE('ERROR: No available tablespace for '||p_tbl||'.');
IRPTOW     CORE                           PACKAGE BODY        149         END IF;
IRPTOW     CORE                           PACKAGE BODY        150     END LOOP;
IRPTOW     CORE                           PACKAGE BODY        151 END add_partition;
IRPTOW     CORE                           PACKAGE BODY        152
IRPTOW     CORE                           PACKAGE BODY        153 PROCEDURE ptn_add_split
IRPTOW     CORE                           PACKAGE BODY        154     ( p_tbl    IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        155       p_basedt IN DATE,
IRPTOW     CORE                           PACKAGE BODY        156       p_maxval IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        157       p_mask   IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        158       p_tbs    IN VARCHAR2 )
IRPTOW     CORE                           PACKAGE BODY        159 IS
IRPTOW     CORE                           PACKAGE BODY        160     -- use NEXT_DAY and other date functions to pass in basedt!
IRPTOW     CORE                           PACKAGE BODY        161     sep       VARCHAR2(50)    := core.SYSPARM_STR('CORE.TS','TS_SEPARATOR');
IRPTOW     CORE                           PACKAGE BODY        162     std       VARCHAR2(50)    := to_char(p_basedt,p_mask);
IRPTOW     CORE                           PACKAGE BODY        163     -- leverage our partition naming standard
IRPTOW     CORE                           PACKAGE BODY        164     new_ptn   VARCHAR2(32)  := (p_tbl||sep||std);
IRPTOW     CORE                           PACKAGE BODY        165     max_tbl_ptn   VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY        166     max_ndx_ptn   VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY        167     maxtblspc     VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY        168     maxndxspc     VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY        169     ndxptnts      VARCHAR2(32);
IRPTOW     CORE                           PACKAGE BODY        170
IRPTOW     CORE                           PACKAGE BODY        171     tbl           VARCHAR2(31);
IRPTOW     CORE                           PACKAGE BODY        172     tbl_cmd       VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        173     ndx_cmd       VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        174     max_ndx_cmd   VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        175
IRPTOW     CORE                           PACKAGE BODY        176     -- the partition tablespace name will be the same as the
IRPTOW     CORE                           PACKAGE BODY        177     -- table tablespace name, but 'NDX' replaces 'DAT'
IRPTOW     CORE                           PACKAGE BODY        178     -- this is convention-dependent; values in SYSPARM table
IRPTOW     CORE                           PACKAGE BODY        179     ptn_tbs       VARCHAR2(32) :=  replace(p_tbs,core.SYSPARM_STR('CORE.TS','DATA_TS_SUFFIX'),core.SYSPARM_STR('CORE.TS','INDEX_TS_SUFFIX'));
IRPTOW     CORE                           PACKAGE BODY        180     tbl_ptn_count NUMBER(2) := 0;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY        181     ndx_ptn_count NUMBER(2) := 0;
IRPTOW     CORE                           PACKAGE BODY        182     ts_count      NUMBER(2) := 0;
IRPTOW     CORE                           PACKAGE BODY        183
IRPTOW     CORE                           PACKAGE BODY        184     -- this cursor identifies local indexes for a table
IRPTOW     CORE                           PACKAGE BODY        185     CURSOR index_ptn_cur(tbl IN VARCHAR2) IS
IRPTOW     CORE                           PACKAGE BODY        186         SELECT *
IRPTOW     CORE                           PACKAGE BODY        187          FROM user_part_indexes
IRPTOW     CORE                           PACKAGE BODY        188         WHERE table_name = tbl
IRPTOW     CORE                           PACKAGE BODY        189           AND LOCALITY = 'LOCAL';
IRPTOW     CORE                           PACKAGE BODY        190 BEGIN
IRPTOW     CORE                           PACKAGE BODY        191     -- add the partition to the specified table
IRPTOW     CORE                           PACKAGE BODY        192
IRPTOW     CORE                           PACKAGE BODY        193     -- check to see if a MAXVALUE partition exists for the table.
IRPTOW     CORE                           PACKAGE BODY        194     max_tbl_ptn := (core.max_ptn_name(p_tbl,'TABLE'));
IRPTOW     CORE                           PACKAGE BODY        195
IRPTOW     CORE                           PACKAGE BODY        196     -- don't run tbl_cmd until we've modified the index defaults
IRPTOW     CORE                           PACKAGE BODY        197     -- change the index partition default tablespaces BEFORE adding
IRPTOW     CORE                           PACKAGE BODY        198     -- a partition for the table - indexes will not need to be moved,
IRPTOW     CORE                           PACKAGE BODY        199     -- but this code CANNOT be run concurrently by multiple users
IRPTOW     CORE                           PACKAGE BODY        200     FOR index_ptn_rec in index_ptn_cur(p_tbl)
IRPTOW     CORE                           PACKAGE BODY        201     LOOP
IRPTOW     CORE                           PACKAGE BODY        202         ndx_cmd := 'alter index '||index_ptn_rec.index_name
IRPTOW     CORE                           PACKAGE BODY        203         ||' MODIFY DEFAULT ATTRIBUTES'
IRPTOW     CORE                           PACKAGE BODY        204         ||' TABLESPACE '||ptn_tbs;
IRPTOW     CORE                           PACKAGE BODY        205
IRPTOW     CORE                           PACKAGE BODY        206         dbms_output.put_line('ptn_add(index): '||ndx_cmd);
IRPTOW     CORE                           PACKAGE BODY        207         EXECUTE IMMEDIATE ndx_cmd;
IRPTOW     CORE                           PACKAGE BODY        208     END LOOP;
IRPTOW     CORE                           PACKAGE BODY        209
IRPTOW     CORE                           PACKAGE BODY        210     -- now that the indexes are ready, add the table partition.
IRPTOW     CORE                           PACKAGE BODY        211     IF max_tbl_ptn IS NULL THEN
IRPTOW     CORE                           PACKAGE BODY        212         -- add a partition
IRPTOW     CORE                           PACKAGE BODY        213         tbl_cmd := 'alter table '||p_tbl
IRPTOW     CORE                           PACKAGE BODY        214         ||' add partition '||new_ptn
IRPTOW     CORE                           PACKAGE BODY        215         ||' values less than (to_date('''||p_maxval||''','''||p_mask||'''))'
IRPTOW     CORE                           PACKAGE BODY        216         ||' TABLESPACE '||p_tbs ;
IRPTOW     CORE                           PACKAGE BODY        217         -- unneccessary to make ptn PARALLEL if index is defined PARALLEL.
IRPTOW     CORE                           PACKAGE BODY        218     ELSE
IRPTOW     CORE                           PACKAGE BODY        219         -- find the tablespace for the MAXVALUE partition
IRPTOW     CORE                           PACKAGE BODY        220         maxtblspc := (core.ptn_tbs(max_tbl_ptn));
IRPTOW     CORE                           PACKAGE BODY        221
IRPTOW     CORE                           PACKAGE BODY        222         -- split the partition
IRPTOW     CORE                           PACKAGE BODY        223         -- the MAXVALUE partition must come LAST, or things break.
IRPTOW     CORE                           PACKAGE BODY        224         tbl_cmd := 'alter table '||p_tbl
IRPTOW     CORE                           PACKAGE BODY        225         ||' split partition '||max_tbl_ptn
IRPTOW     CORE                           PACKAGE BODY        226         ||' at (to_date('''||p_maxval||''','''||p_mask||'''))'
IRPTOW     CORE                           PACKAGE BODY        227         ||' INTO ('
IRPTOW     CORE                           PACKAGE BODY        228         ||' PARTITION '||new_ptn||' TABLESPACE '||p_tbs||', '
IRPTOW     CORE                           PACKAGE BODY        229         ||' PARTITION '||max_tbl_ptn||' TABLESPACE '||maxtblspc
IRPTOW     CORE                           PACKAGE BODY        230         ||')';
IRPTOW     CORE                           PACKAGE BODY        231     END IF;
IRPTOW     CORE                           PACKAGE BODY        232
IRPTOW     CORE                           PACKAGE BODY        233     dbms_output.put_line('ptn_add(table): '||tbl_cmd);
IRPTOW     CORE                           PACKAGE BODY        234     EXECUTE IMMEDIATE tbl_cmd;
IRPTOW     CORE                           PACKAGE BODY        235
IRPTOW     CORE                           PACKAGE BODY        236     -- adjust the MAXVALUE partition tablespaces
IRPTOW     CORE                           PACKAGE BODY        237     -- re-using cursor rather than creating a new one.
IRPTOW     CORE                           PACKAGE BODY        238     FOR index_ptn_rec in index_ptn_cur(p_tbl)
IRPTOW     CORE                           PACKAGE BODY        239     LOOP
IRPTOW     CORE                           PACKAGE BODY        240         -- set the tablespace for the index MAXVALUE partition
IRPTOW     CORE                           PACKAGE BODY        241         --  to the ts corresponding to the table's MAXVALUE ptn
IRPTOW     CORE                           PACKAGE BODY        242         ndxptnts :=  replace(core.ptn_tbs(max_ptn_name(p_tbl,'TABLE'),'TABLE'),
IRPTOW     CORE                           PACKAGE BODY        243             core.SYSPARM_STR('CORE.TS','DATA_TS_SUFFIX'),
IRPTOW     CORE                           PACKAGE BODY        244             core.SYSPARM_STR('CORE.TS','INDEX_TS_SUFFIX'));
IRPTOW     CORE                           PACKAGE BODY        245
IRPTOW     CORE                           PACKAGE BODY        246         IF ndxptnts IS NOT NULL THEN
IRPTOW     CORE                           PACKAGE BODY        247             ndx_cmd := 'alter index '||index_ptn_rec.index_name||' REBUILD PARTITION '||max_ptn_name(index_ptn_rec.index_name,'INDEX')||' TABLESPACE '||ndxptnts;
IRPTOW     CORE                           PACKAGE BODY        248             dbms_output.put_line('ptn_add(index_maxptn): '||ndx_cmd);
IRPTOW     CORE                           PACKAGE BODY        249             EXECUTE IMMEDIATE ndx_cmd;
IRPTOW     CORE                           PACKAGE BODY        250
IRPTOW     CORE                           PACKAGE BODY        251             ndx_cmd := 'alter index '||index_ptn_rec.index_name||' REBUILD PARTITION '||p_tbl||'_'||to_char((to_date(p_maxval,'yyyymmdd')-1),'yyyymmdd')||' TABLESPACE '||ptn_tbs;
IRPTOW     CORE                           PACKAGE BODY        252             dbms_output.put_line('ptn_add(index_maxptn): '||ndx_cmd);
IRPTOW     CORE                           PACKAGE BODY        253             EXECUTE IMMEDIATE ndx_cmd;
IRPTOW     CORE                           PACKAGE BODY        254
IRPTOW     CORE                           PACKAGE BODY        255         END IF;
IRPTOW     CORE                           PACKAGE BODY        256     END LOOP;
IRPTOW     CORE                           PACKAGE BODY        257 END ptn_add_split;
IRPTOW     CORE                           PACKAGE BODY        258
IRPTOW     CORE                           PACKAGE BODY        259 PROCEDURE ptn_drop
IRPTOW     CORE                           PACKAGE BODY        260     ( tbl        IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        261       p_dropdate IN DATE )
IRPTOW     CORE                           PACKAGE BODY        262 IS
IRPTOW     CORE                           PACKAGE BODY        263     -- the cursor prevents dropping "TBL_MAXVALUE" partition
IRPTOW     CORE                           PACKAGE BODY        264     CURSOR prtn_cur(v_dropdate IN DATE) IS
IRPTOW     CORE                           PACKAGE BODY        265         SELECT min(PARTITION_NAME) PARTITION_NAME,
IRPTOW     CORE                           PACKAGE BODY        266                count(*)            QTDE_PARTITION
IRPTOW     CORE                           PACKAGE BODY        267           FROM USER_TAB_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        268          WHERE TABLE_NAME = tbl
IRPTOW     CORE                           PACKAGE BODY        269            AND PARTITION_NAME NOT LIKE ('%MAXVALUE');
IRPTOW     CORE                           PACKAGE BODY        270         --SELECT *
IRPTOW     CORE                           PACKAGE BODY        271         --  FROM USER_TAB_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        272         -- WHERE TABLE_NAME = tbl
IRPTOW     CORE                           PACKAGE BODY        273         --   AND PARTITION_NAME NOT LIKE ('%MAXVALUE')
IRPTOW     CORE                           PACKAGE BODY        274         --   AND last_word(partition_name,'_')
IRPTOW     CORE                           PACKAGE BODY        275         --        < to_char(v_dropdate,'YYYYMMDD')
IRPTOW     CORE                           PACKAGE BODY        276         --        -- investigate using mask, not YYYYMMDD
IRPTOW     CORE                           PACKAGE BODY        277         --        -- pull from SYSPARMS.

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY        278         -- ORDER BY partition_position;
IRPTOW     CORE                           PACKAGE BODY        279         prtn_rec                prtn_cur%ROWTYPE;
IRPTOW     CORE                           PACKAGE BODY        280         cmd     VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        281         pname   VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        282     BEGIN
IRPTOW     CORE                           PACKAGE BODY        283     FOR prtn_rec IN prtn_cur(p_dropdate)
IRPTOW     CORE                           PACKAGE BODY        284         LOOP
IRPTOW     CORE                           PACKAGE BODY        285         	IF prtn_rec.QTDE_PARTITION >= 90 THEN
IRPTOW     CORE                           PACKAGE BODY        286         		cmd := 'alter table '||tbl||
IRPTOW     CORE                           PACKAGE BODY        287             		' drop partition '||prtn_rec.partition_name;
IRPTOW     CORE                           PACKAGE BODY        288
IRPTOW     CORE                           PACKAGE BODY        289 	        	DBMS_OUTPUT.PUT_LINE('ptn_drop: '||cmd);
IRPTOW     CORE                           PACKAGE BODY        290  	       		EXECUTE IMMEDIATE cmd;
IRPTOW     CORE                           PACKAGE BODY        291         	END IF;
IRPTOW     CORE                           PACKAGE BODY        292     END LOOP;
IRPTOW     CORE                           PACKAGE BODY        293 END ptn_drop;
IRPTOW     CORE                           PACKAGE BODY        294
IRPTOW     CORE                           PACKAGE BODY        295 PROCEDURE ptn_drop_index
IRPTOW     CORE                           PACKAGE BODY        296     ( tbl        IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        297       p_dropdate IN DATE )
IRPTOW     CORE                           PACKAGE BODY        298 IS
IRPTOW     CORE                           PACKAGE BODY        299     -- the cursor prevents dropping "IDX_MAXVALUE" partition
IRPTOW     CORE                           PACKAGE BODY        300     CURSOR prtidx_cur(v_dropdate IN DATE) IS
IRPTOW     CORE                           PACKAGE BODY        301         SELECT INDEX_NAME,
IRPTOW     CORE                           PACKAGE BODY        302                MIN(PARTITION_NAME) PARTITION_NAME,
IRPTOW     CORE                           PACKAGE BODY        303                COUNT(*) QTDE_PARTITION
IRPTOW     CORE                           PACKAGE BODY        304           FROM USER_IND_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        305          WHERE PARTITION_NAME like tbl||'_________'
IRPTOW     CORE                           PACKAGE BODY        306            AND PARTITION_NAME NOT LIKE ('%MAXVALUE')
IRPTOW     CORE                           PACKAGE BODY        307          GROUP BY INDEX_NAME;
IRPTOW     CORE                           PACKAGE BODY        308         --SELECT *
IRPTOW     CORE                           PACKAGE BODY        309         --  FROM USER_IND_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        310         -- WHERE INDEX_NAME like tbl||'_%'
IRPTOW     CORE                           PACKAGE BODY        311         --   AND PARTITION_NAME NOT LIKE ('%MAXVALUE')
IRPTOW     CORE                           PACKAGE BODY        312         --   AND last_word(partition_name,'_')
IRPTOW     CORE                           PACKAGE BODY        313         --        < to_char(v_dropdate,'YYYYMMDD')
IRPTOW     CORE                           PACKAGE BODY        314         --        -- investigate using mask, not YYYYMMDD
IRPTOW     CORE                           PACKAGE BODY        315         --        -- pull from SYSPARMS.
IRPTOW     CORE                           PACKAGE BODY        316         -- ORDER BY partition_position;
IRPTOW     CORE                           PACKAGE BODY        317         prtidx_rec                prtidx_cur%ROWTYPE;
IRPTOW     CORE                           PACKAGE BODY        318         cmd     VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        319         pname   VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        320     BEGIN
IRPTOW     CORE                           PACKAGE BODY        321     FOR prtidx_rec IN prtidx_cur(p_dropdate)
IRPTOW     CORE                           PACKAGE BODY        322         LOOP
IRPTOW     CORE                           PACKAGE BODY        323         	IF prtidx_rec.QTDE_PARTITION >= 90 THEN
IRPTOW     CORE                           PACKAGE BODY        324         		cmd := 'alter index '||prtidx_rec.index_name||
IRPTOW     CORE                           PACKAGE BODY        325             		' drop partition '||prtidx_rec.partition_name;
IRPTOW     CORE                           PACKAGE BODY        326
IRPTOW     CORE                           PACKAGE BODY        327         		DBMS_OUTPUT.PUT_LINE('ptn_drop_index: '||cmd);
IRPTOW     CORE                           PACKAGE BODY        328         		EXECUTE IMMEDIATE cmd;
IRPTOW     CORE                           PACKAGE BODY        329         	END IF;
IRPTOW     CORE                           PACKAGE BODY        330     END LOOP;
IRPTOW     CORE                           PACKAGE BODY        331 END ptn_drop_index;
IRPTOW     CORE                           PACKAGE BODY        332
IRPTOW     CORE                           PACKAGE BODY        333 PROCEDURE ptn_exchange
IRPTOW     CORE                           PACKAGE BODY        334   ( source_tbl IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        335     target_tbl IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        336     target_ptn IN VARCHAR2)
IRPTOW     CORE                           PACKAGE BODY        337 IS
IRPTOW     CORE                           PACKAGE BODY        338     cmd     VARCHAR2(2000);
IRPTOW     CORE                           PACKAGE BODY        339 BEGIN
IRPTOW     CORE                           PACKAGE BODY        340     cmd := 'ALTER TABLE '||target_tbl||
IRPTOW     CORE                           PACKAGE BODY        341            ' EXCHANGE PARTITION '||target_ptn||
IRPTOW     CORE                           PACKAGE BODY        342            ' WITH TABLE '||source_tbl||
IRPTOW     CORE                           PACKAGE BODY        343            ' INCLUDING INDEXES WITHOUT VALIDATION';
IRPTOW     CORE                           PACKAGE BODY        344
IRPTOW     CORE                           PACKAGE BODY        345     DBMS_OUTPUT.PUT_LINE('ptn_exchange: '||cmd);
IRPTOW     CORE                           PACKAGE BODY        346     EXECUTE IMMEDIATE cmd;
IRPTOW     CORE                           PACKAGE BODY        347 END ptn_exchange;
IRPTOW     CORE                           PACKAGE BODY        348
IRPTOW     CORE                           PACKAGE BODY        349 FUNCTION max_ptn_name ( obj IN VARCHAR2, obj_type IN VARCHAR2 DEFAULT 'TABLE' )
IRPTOW     CORE                           PACKAGE BODY        350 RETURN  VARCHAR2
IRPTOW     CORE                           PACKAGE BODY        351 IS
IRPTOW     CORE                           PACKAGE BODY        352 -- returns the MAXVALUE partition name, or null if there is none.
IRPTOW     CORE                           PACKAGE BODY        353     CURSOR tbl_ptn_cur IS
IRPTOW     CORE                           PACKAGE BODY        354         SELECT *
IRPTOW     CORE                           PACKAGE BODY        355           FROM USER_TAB_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        356          WHERE TABLE_NAME = UPPER(obj)
IRPTOW     CORE                           PACKAGE BODY        357          ORDER BY PARTITION_POSITION DESC;
IRPTOW     CORE                           PACKAGE BODY        358     tbl_ptn_rec     tbl_ptn_cur%ROWTYPE;
IRPTOW     CORE                           PACKAGE BODY        359
IRPTOW     CORE                           PACKAGE BODY        360     CURSOR ndx_ptn_cur IS
IRPTOW     CORE                           PACKAGE BODY        361         SELECT *
IRPTOW     CORE                           PACKAGE BODY        362           FROM USER_IND_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        363          WHERE INDEX_NAME = UPPER(obj)
IRPTOW     CORE                           PACKAGE BODY        364          ORDER BY PARTITION_POSITION DESC;
IRPTOW     CORE                           PACKAGE BODY        365     ndx_ptn_rec     ndx_ptn_cur%ROWTYPE;
IRPTOW     CORE                           PACKAGE BODY        366
IRPTOW     CORE                           PACKAGE BODY        367     ptn_name    VARCHAR2(32) := NULL;
IRPTOW     CORE                           PACKAGE BODY        368 BEGIN
IRPTOW     CORE                           PACKAGE BODY        369     IF upper(obj_type) = 'TABLE' THEN
IRPTOW     CORE                           PACKAGE BODY        370         -- we only need one row to see if it is MAXVALUE
IRPTOW     CORE                           PACKAGE BODY        371         OPEN tbl_ptn_cur;
IRPTOW     CORE                           PACKAGE BODY        372         FETCH tbl_ptn_cur INTO tbl_ptn_rec;
IRPTOW     CORE                           PACKAGE BODY        373         IF tbl_ptn_rec.HIGH_VALUE = 'MAXVALUE' THEN
IRPTOW     CORE                           PACKAGE BODY        374             ptn_name := tbl_ptn_rec.PARTITION_NAME;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY        375         ELSE
IRPTOW     CORE                           PACKAGE BODY        376             ptn_name := NULL;
IRPTOW     CORE                           PACKAGE BODY        377         END IF;
IRPTOW     CORE                           PACKAGE BODY        378         CLOSE tbl_ptn_cur;
IRPTOW     CORE                           PACKAGE BODY        379     ELSIF upper(obj_type) = 'INDEX' THEN
IRPTOW     CORE                           PACKAGE BODY        380         OPEN ndx_ptn_cur;
IRPTOW     CORE                           PACKAGE BODY        381         FETCH ndx_ptn_cur INTO ndx_ptn_rec;
IRPTOW     CORE                           PACKAGE BODY        382         IF ndx_ptn_rec.HIGH_VALUE = 'MAXVALUE' THEN
IRPTOW     CORE                           PACKAGE BODY        383             ptn_name := ndx_ptn_rec.PARTITION_NAME;
IRPTOW     CORE                           PACKAGE BODY        384         ELSE
IRPTOW     CORE                           PACKAGE BODY        385             ptn_name := NULL;
IRPTOW     CORE                           PACKAGE BODY        386         END IF;
IRPTOW     CORE                           PACKAGE BODY        387         CLOSE ndx_ptn_cur;
IRPTOW     CORE                           PACKAGE BODY        388     ELSE
IRPTOW     CORE                           PACKAGE BODY        389         -- somebody passed in something evil
IRPTOW     CORE                           PACKAGE BODY        390         dbms_output.PUT_LINE('ERROR in max_ptn_name: unknown object type '||obj_type||'.');
IRPTOW     CORE                           PACKAGE BODY        391         ptn_name := NULL;
IRPTOW     CORE                           PACKAGE BODY        392     END IF;
IRPTOW     CORE                           PACKAGE BODY        393
IRPTOW     CORE                           PACKAGE BODY        394     RETURN ptn_name;
IRPTOW     CORE                           PACKAGE BODY        395 END max_ptn_name;
IRPTOW     CORE                           PACKAGE BODY        396
IRPTOW     CORE                           PACKAGE BODY        397 FUNCTION ptn_tbs ( ptn IN VARCHAR2, obj_type IN VARCHAR2 DEFAULT 'TABLE' )
IRPTOW     CORE                           PACKAGE BODY        398     RETURN  VARCHAR2
IRPTOW     CORE                           PACKAGE BODY        399     IS
IRPTOW     CORE                           PACKAGE BODY        400         tbs   varchar2(32);
IRPTOW     CORE                           PACKAGE BODY        401     BEGIN
IRPTOW     CORE                           PACKAGE BODY        402         IF upper(obj_type) = 'TABLE' THEN
IRPTOW     CORE                           PACKAGE BODY        403             SELECT TABLESPACE_NAME
IRPTOW     CORE                           PACKAGE BODY        404               INTO tbs
IRPTOW     CORE                           PACKAGE BODY        405               FROM USER_TAB_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        406              WHERE PARTITION_NAME = ptn
IRPTOW     CORE                           PACKAGE BODY        407                AND ROWNUM = 1 ;
IRPTOW     CORE                           PACKAGE BODY        408         ELSIF upper(obj_type) = 'INDEX' THEN
IRPTOW     CORE                           PACKAGE BODY        409             SELECT TABLESPACE_NAME
IRPTOW     CORE                           PACKAGE BODY        410               INTO tbs
IRPTOW     CORE                           PACKAGE BODY        411               FROM USER_IND_PARTITIONS
IRPTOW     CORE                           PACKAGE BODY        412              WHERE PARTITION_NAME = ptn
IRPTOW     CORE                           PACKAGE BODY        413                AND ROWNUM = 1 ;
IRPTOW     CORE                           PACKAGE BODY        414         ELSE
IRPTOW     CORE                           PACKAGE BODY        415             -- somebody passed in something evil
IRPTOW     CORE                           PACKAGE BODY        416             dbms_output.PUT_LINE('ERROR in ptn_tbs: unknown object type '||obj_type||'.');
IRPTOW     CORE                           PACKAGE BODY        417             tbs := NULL;
IRPTOW     CORE                           PACKAGE BODY        418         END IF;
IRPTOW     CORE                           PACKAGE BODY        419         RETURN tbs;
IRPTOW     CORE                           PACKAGE BODY        420 EXCEPTION
IRPTOW     CORE                           PACKAGE BODY        421     WHEN NO_DATA_FOUND THEN
IRPTOW     CORE                           PACKAGE BODY        422         DBMS_OUTPUT.PUT_LINE('ERROR: ptn_tbs: No tablespace for '||obj_type||
IRPTOW     CORE                           PACKAGE BODY        423           ' partition '||ptn||'.');
IRPTOW     CORE                           PACKAGE BODY        424         RETURN NULL;
IRPTOW     CORE                           PACKAGE BODY        425     WHEN OTHERS THEN
IRPTOW     CORE                           PACKAGE BODY        426         dbms_output.put_line('ERROR: '||SQLERRM);
IRPTOW     CORE                           PACKAGE BODY        427         RETURN NULL;
IRPTOW     CORE                           PACKAGE BODY        428 END ptn_tbs;
IRPTOW     CORE                           PACKAGE BODY        429
IRPTOW     CORE                           PACKAGE BODY        430 FUNCTION ptn_tbs_available ( tbl IN VARCHAR2 )
IRPTOW     CORE                           PACKAGE BODY        431 RETURN  VARCHAR2
IRPTOW     CORE                           PACKAGE BODY        432 IS
IRPTOW     CORE                           PACKAGE BODY        433 -- return the 'lowest' tablespace available for the input table's partitions
IRPTOW     CORE                           PACKAGE BODY        434 -- the 'number' in the ts should be the same for index partitions
IRPTOW     CORE                           PACKAGE BODY        435
IRPTOW     CORE                           PACKAGE BODY        436     available_tbs   VARCHAR2(32) := NULL;
IRPTOW     CORE                           PACKAGE BODY        437     -- create tablspace name matching patterns
IRPTOW     CORE                           PACKAGE BODY        438     tbl_ts_prefix       VARCHAR2(32) := TRIM(UPPER(nvl(CORE.SYSPARM_STR('CORE.TS',tbl||'.DPREFIX'),CORE.SYSPARM_STR('CORE.TS','DEFAULT.DPREFIX'))));
IRPTOW     CORE                           PACKAGE BODY        439     tbl_ts_suffix       VARCHAR2(32) := TRIM(UPPER(CORE.SYSPARM_STR('CORE.TS','DATA_TS_SUFFIX')));
IRPTOW     CORE                           PACKAGE BODY        440     tbl_ts_pattern      VARCHAR2(32) := TRIM(tbl_ts_prefix||tbl_ts_suffix||'%');
IRPTOW     CORE                           PACKAGE BODY        441
IRPTOW     CORE                           PACKAGE BODY        442     sep                 VARCHAR2(32) := TRIM(UPPER(CORE.SYSPARM_STR('CORE.TS','TS_SEPARATOR')));
IRPTOW     CORE                           PACKAGE BODY        443     ndx_ts_suffix       VARCHAR2(32) := TRIM(UPPER(CORE.SYSPARM_STR('CORE.TS','INDEX_TS_SUFFIX'))) || '%';
IRPTOW     CORE                           PACKAGE BODY        444     index_ts_available  VARCHAR2(4);  -- just checking for whether rows exist.
IRPTOW     CORE                           PACKAGE BODY        445 BEGIN
IRPTOW     CORE                           PACKAGE BODY        446     -- the 1st select distinct lists all ptns assigned to the tbl
IRPTOW     CORE                           PACKAGE BODY        447     -- the 2nd select distinct shows the ptns in use by the tbl
IRPTOW     CORE                           PACKAGE BODY        448     -- the minus returns the unused ptns
IRPTOW     CORE                           PACKAGE BODY        449     -- the min selects the 'lowest' name
IRPTOW     CORE                           PACKAGE BODY        450     SELECT MIN(tablespace_name)
IRPTOW     CORE                           PACKAGE BODY        451       INTO available_tbs
IRPTOW     CORE                           PACKAGE BODY        452       FROM
IRPTOW     CORE                           PACKAGE BODY        453            (SELECT DISTINCT tablespace_name
IRPTOW     CORE                           PACKAGE BODY        454               FROM user_tablespaces
IRPTOW     CORE                           PACKAGE BODY        455              WHERE tablespace_name LIKE (tbl_ts_pattern)
IRPTOW     CORE                           PACKAGE BODY        456              MINUS
IRPTOW     CORE                           PACKAGE BODY        457             SELECT DISTINCT tablespace_name
IRPTOW     CORE                           PACKAGE BODY        458               FROM user_tab_partitions
IRPTOW     CORE                           PACKAGE BODY        459              WHERE tablespace_name LIKE (tbl_ts_pattern)
IRPTOW     CORE                           PACKAGE BODY        460                AND table_name = tbl
IRPTOW     CORE                           PACKAGE BODY        461            ) tbslist;
IRPTOW     CORE                           PACKAGE BODY        462
IRPTOW     CORE                           PACKAGE BODY        463     -- check that the corresponding INDEX tablespace is avaialble
IRPTOW     CORE                           PACKAGE BODY        464     -- else return null
IRPTOW     CORE                           PACKAGE BODY        465     -- to force data and indexes to the same tablespace, adjust SYSPARMS
IRPTOW     CORE                           PACKAGE BODY        466     -- DATA_TS_SUFFIX = INDEX_TS_SUFFIX
IRPTOW     CORE                           PACKAGE BODY        467
IRPTOW     CORE                           PACKAGE BODY        468     IF core.sysparm_str('CORE','VERBOSE') = 'TRUE' THEN
IRPTOW     CORE                           PACKAGE BODY        469         DBMS_OUTPUT.PUT_LINE('Table TS pattern= '||tbl_ts_pattern);
IRPTOW     CORE                           PACKAGE BODY        470         DBMS_OUTPUT.PUT_LINE('  Found Table TS= '||available_tbs);
IRPTOW     CORE                           PACKAGE BODY        471         DBMS_OUTPUT.PUT_LINE(' Table TS suffix= '||tbl_ts_suffix);

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY        472         DBMS_OUTPUT.PUT_LINE(' Index TS suffix= '||ndx_ts_suffix);
IRPTOW     CORE                           PACKAGE BODY        473         DBMS_OUTPUT.PUT_LINE(' Search Index TS= '||ndx_ts_suffix);
IRPTOW     CORE                           PACKAGE BODY        474     END IF;
IRPTOW     CORE                           PACKAGE BODY        475
IRPTOW     CORE                           PACKAGE BODY        476
IRPTOW     CORE                           PACKAGE BODY        477 --    SELECT 'X'
IRPTOW     CORE                           PACKAGE BODY        478 --      INTO index_ts_available
IRPTOW     CORE                           PACKAGE BODY        479 --      FROM user_tablespaces
IRPTOW     CORE                           PACKAGE BODY        480 --     WHERE tablespace_name = replace(available_tbs,sep||tbl_ts_suffix,sep||ndx_ts_suffix);
IRPTOW     CORE                           PACKAGE BODY        481
IRPTOW     CORE                           PACKAGE BODY        482 --    IF index_ts_available IS NOT NULL THEN
IRPTOW     CORE                           PACKAGE BODY        483         RETURN available_tbs ;
IRPTOW     CORE                           PACKAGE BODY        484 --    ELSE
IRPTOW     CORE                           PACKAGE BODY        485 --        RETURN NULL;
IRPTOW     CORE                           PACKAGE BODY        486 --    END IF;
IRPTOW     CORE                           PACKAGE BODY        487 EXCEPTION
IRPTOW     CORE                           PACKAGE BODY        488     WHEN NO_DATA_FOUND THEN
IRPTOW     CORE                           PACKAGE BODY        489         DBMS_OUTPUT.PUT_LINE('ERROR: ptn_tbs_available: All tablespaces appear to be assigned. '||
IRPTOW     CORE                           PACKAGE BODY        490           'Remove excess partitions before proceeding.');
IRPTOW     CORE                           PACKAGE BODY        491         RETURN NULL;
IRPTOW     CORE                           PACKAGE BODY        492     WHEN OTHERS THEN
IRPTOW     CORE                           PACKAGE BODY        493         dbms_output.put_line('ERROR: '||SQLERRM);
IRPTOW     CORE                           PACKAGE BODY        494         RETURN NULL;
IRPTOW     CORE                           PACKAGE BODY        495 END;
IRPTOW     CORE                           PACKAGE BODY        496
IRPTOW     CORE                           PACKAGE BODY        497 FUNCTION safe_drop_date
IRPTOW     CORE                           PACKAGE BODY        498     ( p_basedate     IN DATE,
IRPTOW     CORE                           PACKAGE BODY        499       p_period_count IN NUMBER,
IRPTOW     CORE                           PACKAGE BODY        500       p_period       IN VARCHAR2,
IRPTOW     CORE                           PACKAGE BODY        501       p_strategy     IN VARCHAR2 DEFAULT 'DEFERRED' )
IRPTOW     CORE                           PACKAGE BODY        502 RETURN date
IRPTOW     CORE                           PACKAGE BODY        503 IS
IRPTOW     CORE                           PACKAGE BODY        504 -- returns the latest date that is safe to kill
IRPTOW     CORE                           PACKAGE BODY        505    safedate date;
IRPTOW     CORE                           PACKAGE BODY        506 BEGIN
IRPTOW     CORE                           PACKAGE BODY        507     -- add other business rules as ELSIF statements
IRPTOW     CORE                           PACKAGE BODY        508     IF    UPPER(p_strategy) = 'DEFERRED' AND UPPER(p_period) = 'MONTH' THEN
IRPTOW     CORE                           PACKAGE BODY        509         safedate := last_day(add_months(p_basedate,-1*(p_period_count+1)))+1;
IRPTOW     CORE                           PACKAGE BODY        510     ELSIF UPPER(p_strategy) = 'EXACT'    AND UPPER(p_period) = 'DAY'   THEN
IRPTOW     CORE                           PACKAGE BODY        511         safedate := p_basedate - 1;
IRPTOW     CORE                           PACKAGE BODY        512     ELSIF UPPER(p_strategy) = 'DEFERRED' AND UPPER(p_period) = 'DAY'   THEN
IRPTOW     CORE                           PACKAGE BODY        513         safedate := p_basedate - p_period_count - 1;
IRPTOW     CORE                           PACKAGE BODY        514     ELSE  -- does not abide by business rules...
IRPTOW     CORE                           PACKAGE BODY        515         safedate :=  NULL;
IRPTOW     CORE                           PACKAGE BODY        516     END IF;
IRPTOW     CORE                           PACKAGE BODY        517     RETURN safedate;
IRPTOW     CORE                           PACKAGE BODY        518 END safe_drop_date;
IRPTOW     CORE                           PACKAGE BODY        519
IRPTOW     CORE                           PACKAGE BODY        520 FUNCTION      sysparm_dt
IRPTOW     CORE                           PACKAGE BODY        521     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE BODY        522      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE BODY        523 RETURN  date
IRPTOW     CORE                           PACKAGE BODY        524 IS
IRPTOW     CORE                           PACKAGE BODY        525     v_parm date;
IRPTOW     CORE                           PACKAGE BODY        526 BEGIN
IRPTOW     CORE                           PACKAGE BODY        527 -- PGAO Created 7/24/2000.
IRPTOW     CORE                           PACKAGE BODY        528 -- Function to retrieve parm_date from sysparms returning date.
IRPTOW     CORE                           PACKAGE BODY        529     select PARM_DATE
IRPTOW     CORE                           PACKAGE BODY        530       into v_parm
IRPTOW     CORE                           PACKAGE BODY        531           from IRPTOW.SYSPARMS
IRPTOW     CORE                           PACKAGE BODY        532          where PARM_GROUP = p_parm_group
IRPTOW     CORE                           PACKAGE BODY        533        and PARM_NAME = p_parm_name
IRPTOW     CORE                           PACKAGE BODY        534        and rownum = 1;
IRPTOW     CORE                           PACKAGE BODY        535     RETURN v_parm;
IRPTOW     CORE                           PACKAGE BODY        536 EXCEPTION
IRPTOW     CORE                           PACKAGE BODY        537     WHEN NO_DATA_FOUND THEN
IRPTOW     CORE                           PACKAGE BODY        538          return null;
IRPTOW     CORE                           PACKAGE BODY        539     WHEN others THEN
IRPTOW     CORE                           PACKAGE BODY        540          dbms_output.put_line('ERROR: '||SQLERRM);
IRPTOW     CORE                           PACKAGE BODY        541         return null;
IRPTOW     CORE                           PACKAGE BODY        542 END; -- Function SYSPARM_DT
IRPTOW     CORE                           PACKAGE BODY        543
IRPTOW     CORE                           PACKAGE BODY        544 FUNCTION      sysparm_nbr
IRPTOW     CORE                           PACKAGE BODY        545     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE BODY        546      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE BODY        547     RETURN  number
IRPTOW     CORE                           PACKAGE BODY        548     IS
IRPTOW     CORE                           PACKAGE BODY        549         v_parm number;
IRPTOW     CORE                           PACKAGE BODY        550     BEGIN
IRPTOW     CORE                           PACKAGE BODY        551     -- PGAO Created 7/24/2000.
IRPTOW     CORE                           PACKAGE BODY        552     -- Function to retrieve parm_nbr from sysparms returning number.
IRPTOW     CORE                           PACKAGE BODY        553
IRPTOW     CORE                           PACKAGE BODY        554         select PARM_NBR
IRPTOW     CORE                           PACKAGE BODY        555           into v_parm
IRPTOW     CORE                           PACKAGE BODY        556           from IRPTOW.SYSPARMS
IRPTOW     CORE                           PACKAGE BODY        557          where PARM_GROUP = p_parm_group
IRPTOW     CORE                           PACKAGE BODY        558            and PARM_NAME = p_parm_name
IRPTOW     CORE                           PACKAGE BODY        559            and rownum = 1;
IRPTOW     CORE                           PACKAGE BODY        560     RETURN v_parm;
IRPTOW     CORE                           PACKAGE BODY        561 EXCEPTION
IRPTOW     CORE                           PACKAGE BODY        562     WHEN NO_DATA_FOUND THEN
IRPTOW     CORE                           PACKAGE BODY        563          return null;
IRPTOW     CORE                           PACKAGE BODY        564     WHEN others THEN
IRPTOW     CORE                           PACKAGE BODY        565          dbms_output.put_line('ERROR: '||TO_CHAR(SQLCODE)||' '||SQLERRM);
IRPTOW     CORE                           PACKAGE BODY        566         return null;
IRPTOW     CORE                           PACKAGE BODY        567 END; -- Function SYSPARM_NBR
IRPTOW     CORE                           PACKAGE BODY        568

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     CORE                           PACKAGE BODY        569 FUNCTION      sysparm_str
IRPTOW     CORE                           PACKAGE BODY        570     (p_parm_group varchar2,
IRPTOW     CORE                           PACKAGE BODY        571      p_parm_name varchar2)
IRPTOW     CORE                           PACKAGE BODY        572     RETURN  varchar2
IRPTOW     CORE                           PACKAGE BODY        573     IS
IRPTOW     CORE                           PACKAGE BODY        574         v_parm varchar2 (2000);
IRPTOW     CORE                           PACKAGE BODY        575     BEGIN
IRPTOW     CORE                           PACKAGE BODY        576     -- PGAO Created 7/24/2000.
IRPTOW     CORE                           PACKAGE BODY        577     -- Function to retrieve parm_str from sysparms returning varchar2.
IRPTOW     CORE                           PACKAGE BODY        578
IRPTOW     CORE                           PACKAGE BODY        579         select nvl(PARM_STR,' ')
IRPTOW     CORE                           PACKAGE BODY        580           into v_parm
IRPTOW     CORE                           PACKAGE BODY        581           from IRPTOW.SYSPARMS
IRPTOW     CORE                           PACKAGE BODY        582          where PARM_GROUP = p_parm_group
IRPTOW     CORE                           PACKAGE BODY        583            and PARM_NAME = p_parm_name
IRPTOW     CORE                           PACKAGE BODY        584            and rownum = 1;
IRPTOW     CORE                           PACKAGE BODY        585
IRPTOW     CORE                           PACKAGE BODY        586         RETURN v_parm;
IRPTOW     CORE                           PACKAGE BODY        587     EXCEPTION
IRPTOW     CORE                           PACKAGE BODY        588         WHEN NO_DATA_FOUND THEN
IRPTOW     CORE                           PACKAGE BODY        589              return NULL;
IRPTOW     CORE                           PACKAGE BODY        590         WHEN others THEN
IRPTOW     CORE                           PACKAGE BODY        591              dbms_output.put_line('ERROR: '||TO_CHAR(SQLCODE)||' '||SQLERRM);
IRPTOW     CORE                           PACKAGE BODY        592              return NULL;
IRPTOW     CORE                           PACKAGE BODY        593 END SYSPARM_STR;
IRPTOW     CORE                           PACKAGE BODY        594
IRPTOW     CORE                           PACKAGE BODY        595 FUNCTION last_word ( str IN VARCHAR2, delim IN VARCHAR2 )
IRPTOW     CORE                           PACKAGE BODY        596     RETURN  VARCHAR2
IRPTOW     CORE                           PACKAGE BODY        597     IS
IRPTOW     CORE                           PACKAGE BODY        598         -- this use of substr returns remainder of string
IRPTOW     CORE                           PACKAGE BODY        599         lastword varchar2(200) := substr(str,(instr(str,delim,-1)+1));
IRPTOW     CORE                           PACKAGE BODY        600     BEGIN
IRPTOW     CORE                           PACKAGE BODY        601        RETURN lastword;
IRPTOW     CORE                           PACKAGE BODY        602 END last_word;
IRPTOW     CORE                           PACKAGE BODY        603
IRPTOW     CORE                           PACKAGE BODY        604 END CORE;
IRPTOW     ENVIAEMAIL                     PROCEDURE             1 procedure enviaemail is
IRPTOW     ENVIAEMAIL                     PROCEDURE             2 BEGIN
IRPTOW     ENVIAEMAIL                     PROCEDURE             3  DBMS_OUTPUT.PUT_LINE('REGIONAL ELEMENTO REDE   DATA DO EVENTO ETAPA STATUS QTDE MEDIA TOL.ACIMA TOL.ABAIXO QTDE REAL');
IRPTOW     ENVIAEMAIL                     PROCEDURE             4  DBMS_OUTPUT.PUT_LINE('-------- --------------- -------------- ----- ------ ---------- --------- ---------- ---------');
IRPTOW     ENVIAEMAIL                     PROCEDURE             5  FOR X IN (select * from alarm order by regional,data_hr_evento,elemento_rede,etapa,status) LOOP
IRPTOW     ENVIAEMAIL                     PROCEDURE             6    DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,8,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE             7                         RPAD(X.ELEMENTO_REDE,15,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE             8                         RPAD(SUBSTR(X.DATA_HR_EVENTO,7,2)||'/'||SUBSTR(X.DATA_HR_EVENTO,5,2)||'/'||SUBSTR(X.DATA_HR_EVENTO,1,4),14,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE             9                         RPAD(X.ETAPA,5,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE            10                         RPAD(X.STATUS,6,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE            11                         LPAD(X.QTDE_MEDIA,10,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE            12                         LPAD(X.TOLERANCIA_ACIMA,9,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE            13                         LPAD(X.TOLERANCIA_ABAIXO,10,' ')||' '||
IRPTOW     ENVIAEMAIL                     PROCEDURE            14                         LPAD(X.QTDE_REAL,9,' '));
IRPTOW     ENVIAEMAIL                     PROCEDURE            15  END LOOP;
IRPTOW     ENVIAEMAIL                     PROCEDURE            16 END enviaemail;
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             1 procedure ENVIA_MAIL_SUMMARY is
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             2  DtIni varchar2(10) := to_char(sysdate-8,'yyyy/mm/dd');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             3  DtFim varchar2(10) := to_char(sysdate-1,'yyyy/mm/dd');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             4 BEGIN
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             5  DBMS_OUTPUT.PUT_LINE('Periodo: '||DtIni||' a '||DtFim);
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             6  DBMS_OUTPUT.PUT_LINE('Regional ALL corresponde a toda Rede Vivo');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             7  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             8  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE             9  DBMS_OUTPUT.PUT_LINE('Cluster Online: Input de CDRs de Voz');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            10  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            11  DBMS_OUTPUT.PUT_LINE('REG CALL_DATE  TOTAL_CDRS');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            12  DBMS_OUTPUT.PUT_LINE('--- ---------- ----------');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            13  FOR X IN (select REGIONAL,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            14                   CALL_DATE,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            15                   CDRS
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            16                   from VW_SUMMARY_INPUT_VOZ_ONLINE
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            17                   order by regional,call_date) LOOP
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            18    DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            19                         RPAD(X.CALL_DATE,10,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            20                         LPAD(X.CDRS,10,' '));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            21  END LOOP;
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            22  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            23  DBMS_OUTPUT.PUT_LINE('Cluster Online: Input de CDRs de Terceiros');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            24  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            25  DBMS_OUTPUT.PUT_LINE('REG CALL_DATE  TOTAL_CDRS');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            26  DBMS_OUTPUT.PUT_LINE('--- ---------- ----------');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            27  FOR X IN (select REGIONAL,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            28                   CALL_DATE,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            29                   CDRS
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            30                   from VW_SUMMARY_INPUT_TERC_ONLINE
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            31                   order by regional,call_date) LOOP
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            32    DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            33                         RPAD(X.CALL_DATE,10,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            34                         LPAD(X.CDRS,10,' '));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            35  END LOOP;
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            36  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            37  DBMS_OUTPUT.PUT_LINE('Cluster Batch: Input de CDRs de Voz');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            38  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            39  DBMS_OUTPUT.PUT_LINE('REG CALL_DATE  TOTAL_CDRS');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            40  DBMS_OUTPUT.PUT_LINE('--- ---------- ----------');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            41  FOR X IN (select REGIONAL,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            42                   CALL_DATE,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            43                   CDRS
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            44                   from VW_SUMMARY_INPUT_VOZ_BATCH
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            45                   order by regional,call_date) LOOP

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            46    DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            47                         RPAD(X.CALL_DATE,10,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            48                         LPAD(X.CDRS,10,' '));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            49  END LOOP;
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            50  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            51  DBMS_OUTPUT.PUT_LINE('Cluster Batch: Input de CDRs de Dados');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            52  DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            53  DBMS_OUTPUT.PUT_LINE('REG CALL_DATE  TOTAL_CDRS');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            54  DBMS_OUTPUT.PUT_LINE('--- ---------- ----------');
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            55  FOR X IN (select REGIONAL,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            56                   CALL_DATE,
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            57                   CDRS
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            58                   from VW_SUMMARY_INPUT_DADOS_BATCH
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            59                   order by regional,call_date) LOOP
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            60    DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            61                         RPAD(X.CALL_DATE,10,' ')||' '||
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            62                         LPAD(X.CDRS,10,' '));
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            63  END LOOP;
IRPTOW     ENVIA_MAIL_SUMMARY             PROCEDURE            64 END ENVIA_MAIL_SUMMARY;
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             1 procedure PRC_ATUALIZA_TABELAS is
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             2 BEGIN
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             3  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR REGIONAL');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             4  -- Tabela Regional
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             5  insert into regional
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             6  select distinct i.regional from input_records i
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             7   where i.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             8     and i.regional not in (select r.regional
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE             9                              from regional r
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            10                             where r.regional = i.regional);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            11
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            12  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR ELEMENTO_REDE');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            13  -- Tabela Elemento_rede
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            14  insert into elemento_rede
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            15  select distinct p.elemento_rede from process_records p
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            16   where p.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            17     and p.elemento_rede not in (select e.elemento_rede
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            18                                   from elemento_rede e
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            19                                  where e.elemento_rede = p.elemento_rede);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            20
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            21  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR ETAPA');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            22  -- Tabela Etapa
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            23  insert into etapa
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            24  select distinct p.etapa from process_records p
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            25   where p.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            26     and p.etapa not in ( select e.etapa
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            27                            from etapa e
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            28                           where e.etapa = p.etapa);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            29
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            30  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR ORIGEM');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            31  -- Tabela Origem
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            32  insert into origem
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            33  select distinct p.origem from process_records p
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            34   where p.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            35     and p.origem not in ( select o.origem
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            36                             from origem o
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            37                            where o.origem = p.origem);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            38
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            39  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR STATUS');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            40  -- Tabela Status
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            41  insert into status
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            42  select distinct p.status from process_records p
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            43   where p.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            44     and p.status not in ( select s.status
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            45                             from status s
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            46                            where s.status = p.status);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            47
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            48  DBMS_OUTPUT.PUT_LINE('ATUALIZANDO TABELA POR DESTINO');
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            49  -- Tabela Destino
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            50  insert into destino
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            51  select distinct o.destino from output_records o
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            52   where o.call_date = trunc(sysdate-1)
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            53     and o.destino not in ( select d.destino
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            54                             from destino d
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            55                            where d.destino = o.destino);
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            56
IRPTOW     PRC_ATUALIZA_TABELAS           PROCEDURE            57 END PRC_ATUALIZA_TABELAS;
IRPTOW     PRC_COBILLING                  PROCEDURE             1 PROCEDURE PRC_COBILLING IS
IRPTOW     PRC_COBILLING                  PROCEDURE             2 BEGIN
IRPTOW     PRC_COBILLING                  PROCEDURE             3 DECLARE
IRPTOW     PRC_COBILLING                  PROCEDURE             4 	V_LINHA		   	NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE             5 	V_PROXIMO               NUMBER(1);
IRPTOW     PRC_COBILLING                  PROCEDURE             6 	V_DATA_INCLUSAO 	VARCHAR2(8);
IRPTOW     PRC_COBILLING                  PROCEDURE             7 	V_REGIONAL      	VARCHAR2(2);
IRPTOW     PRC_COBILLING                  PROCEDURE             8 	V_ARQUIVO_ENTRADA 	VARCHAR2(60);
IRPTOW     PRC_COBILLING                  PROCEDURE             9 	V_REM_ARQUIVO_SAIDA	VARCHAR2(60);
IRPTOW     PRC_COBILLING                  PROCEDURE            10 	V_CDRS_RECEBIDOS	NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            11 	V_CDRS_PROCESSADOS	NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            12 	V_CDRS_EPS		NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            13 	V_CDRS_CRITICAS		NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            14 	V_REM_CDRS_ENTREGUES	NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            15 	V_BIL_ARQUIVO_SAIDA	VARCHAR2(60);
IRPTOW     PRC_COBILLING                  PROCEDURE            16 	V_BIL_CDRS_ENTREGUES	NUMBER(10);
IRPTOW     PRC_COBILLING                  PROCEDURE            17 	V_ARQUIVO		VARCHAR2(222);
IRPTOW     PRC_COBILLING                  PROCEDURE            18
IRPTOW     PRC_COBILLING                  PROCEDURE            19 	BEGIN
IRPTOW     PRC_COBILLING                  PROCEDURE            20 		-- Inicializando variaveis
IRPTOW     PRC_COBILLING                  PROCEDURE            21 		V_LINHA   		:= 0;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_COBILLING                  PROCEDURE            22 		V_PROXIMO               := 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            23 		V_DATA_INCLUSAO 	:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            24 		V_REGIONAL      	:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            25 		V_ARQUIVO_ENTRADA 	:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            26 		V_REM_ARQUIVO_SAIDA	:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            27 		V_CDRS_RECEBIDOS	:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            28 		V_CDRS_PROCESSADOS	:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            29 		V_CDRS_EPS		:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            30 		V_CDRS_CRITICAS		:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            31 		V_REM_CDRS_ENTREGUES	:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            32 		V_BIL_ARQUIVO_SAIDA	:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            33 		V_BIL_CDRS_ENTREGUES	:= 0;
IRPTOW     PRC_COBILLING                  PROCEDURE            34 		V_ARQUIVO		:= NULL;
IRPTOW     PRC_COBILLING                  PROCEDURE            35
IRPTOW     PRC_COBILLING                  PROCEDURE            36 		delete FROM TB_RELAT_COBILLING
IRPTOW     PRC_COBILLING                  PROCEDURE            37 		WHERE DATA_INCLUSAO BETWEEN TO_CHAR(SYSDATE-1,'YYYYMMDD') AND TO_CHAR(SYSDATE,'YYYYMMDD');
IRPTOW     PRC_COBILLING                  PROCEDURE            38
IRPTOW     PRC_COBILLING                  PROCEDURE            39 		DBMS_OUTPUT.PUT_LINE('DATA    ;REGIONAL;ARQUIVO RECEBIDO                             ;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            40 		                     'ARQUIVO ENVIADO AO COBILLING                 ;  RECEBIDO;PROCESSADO;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            41 		                     '       EPS;   CRITICA;  ENTREGUE;ARQUIVO ENVIADO AO ATLYS                     ;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            42 		                     '  ENTREGUE');
IRPTOW     PRC_COBILLING                  PROCEDURE            43 		DBMS_OUTPUT.PUT_LINE('--------;--------;---------------------------------------------;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            44 		                     '---------------------------------------------;----------;----------;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            45 		                     '----------;----------;----------;---------------------------------------------;'||
IRPTOW     PRC_COBILLING                  PROCEDURE            46 		                     '----------');
IRPTOW     PRC_COBILLING                  PROCEDURE            47  		FOR X IN (SELECT TO_CHAR(DATA_INCLUSAO,'YYYYMMDD') DATA_INCLUSAO,
IRPTOW     PRC_COBILLING                  PROCEDURE            48 			 	 REGIONAL,
IRPTOW     PRC_COBILLING                  PROCEDURE            49 			  	 ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING                  PROCEDURE            50 				 DECODE(STATUS,'RETORNO',ARQUIVO_SAIDA,'NO H ARQUIVO') REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE            51 				 DECODE(STATUS,'BILLING',ARQUIVO_SAIDA,'NO H ARQUIVO') BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE            52 				 MAX(CDRS_RECEBIDOS)   CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING                  PROCEDURE            53 				 MAX(CDRS_EPS)         CDRS_EPS,
IRPTOW     PRC_COBILLING                  PROCEDURE            54 				 MAX(CDRS_PROCESSADOS) CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING                  PROCEDURE            55 				 MAX(CDRS_CRITICAS)    CDRS_CRITICAS,
IRPTOW     PRC_COBILLING                  PROCEDURE            56 				 MAX(DECODE(STATUS,'RETORNO',CDRS_ENTREGUES,0)) REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING                  PROCEDURE            57 				 MAX(DECODE(STATUS,'BILLING',CDRS_ENTREGUES,0)) BIL_CDRS_ENTREGUES
IRPTOW     PRC_COBILLING                  PROCEDURE            58 			    FROM VW_COBILLING_IRPT
IRPTOW     PRC_COBILLING                  PROCEDURE            59 			GROUP BY TO_CHAR(DATA_INCLUSAO,'YYYYMMDD'),
IRPTOW     PRC_COBILLING                  PROCEDURE            60 			 	 REGIONAL,
IRPTOW     PRC_COBILLING                  PROCEDURE            61 			  	 ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING                  PROCEDURE            62 				 DECODE(STATUS,'RETORNO',ARQUIVO_SAIDA,'NO H ARQUIVO'),
IRPTOW     PRC_COBILLING                  PROCEDURE            63 				 DECODE(STATUS,'BILLING',ARQUIVO_SAIDA,'NO H ARQUIVO')
IRPTOW     PRC_COBILLING                  PROCEDURE            64 			ORDER BY 1,2,3,4 DESC
IRPTOW     PRC_COBILLING                  PROCEDURE            65 			) LOOP
IRPTOW     PRC_COBILLING                  PROCEDURE            66
IRPTOW     PRC_COBILLING                  PROCEDURE            67 			IF V_LINHA = 0 THEN
IRPTOW     PRC_COBILLING                  PROCEDURE            68 				V_ARQUIVO		:= RPAD(X.DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            69    		   				     	   RPAD(X.REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            70                         			     	   RPAD(X.ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            71                         			     	   RPAD(X.REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            72                         			     	   LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            73                         			     	   LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            74                         			     	   LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            75                         			     	   LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            76                         			     	   LPAD(X.REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            77                         			     	   RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE            78                         			     	   LPAD(X.BIL_CDRS_ENTREGUES,10,' ');
IRPTOW     PRC_COBILLING                  PROCEDURE            79 				DBMS_OUTPUT.PUT_LINE(V_ARQUIVO);
IRPTOW     PRC_COBILLING                  PROCEDURE            80 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING                  PROCEDURE            81 					X.DATA_INCLUSAO,
IRPTOW     PRC_COBILLING                  PROCEDURE            82 					X.REGIONAL,
IRPTOW     PRC_COBILLING                  PROCEDURE            83 					X.ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING                  PROCEDURE            84 					X.REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE            85 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING                  PROCEDURE            86 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING                  PROCEDURE            87 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING                  PROCEDURE            88 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING                  PROCEDURE            89 					X.REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING                  PROCEDURE            90 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE            91 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING                  PROCEDURE            92
IRPTOW     PRC_COBILLING                  PROCEDURE            93
IRPTOW     PRC_COBILLING                  PROCEDURE            94 			ELSIF SUBSTR(X.REM_ARQUIVO_SAIDA,1,3) = 'REM' THEN
IRPTOW     PRC_COBILLING                  PROCEDURE            95 				V_DATA_INCLUSAO 	:=  X.DATA_INCLUSAO;
IRPTOW     PRC_COBILLING                  PROCEDURE            96 				V_REGIONAL      	:=  X.REGIONAL;
IRPTOW     PRC_COBILLING                  PROCEDURE            97 				V_ARQUIVO_ENTRADA 	:=  X.ARQUIVO_ENTRADA;
IRPTOW     PRC_COBILLING                  PROCEDURE            98 				V_REM_ARQUIVO_SAIDA	:=  X.REM_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING                  PROCEDURE            99 				V_CDRS_RECEBIDOS	:=  X.CDRS_RECEBIDOS;
IRPTOW     PRC_COBILLING                  PROCEDURE           100 				V_CDRS_PROCESSADOS	:=  X.CDRS_PROCESSADOS;
IRPTOW     PRC_COBILLING                  PROCEDURE           101 				V_CDRS_EPS		:=  X.CDRS_EPS;
IRPTOW     PRC_COBILLING                  PROCEDURE           102 				V_CDRS_CRITICAS		:=  X.CDRS_CRITICAS;
IRPTOW     PRC_COBILLING                  PROCEDURE           103 				V_REM_CDRS_ENTREGUES	:=  X.REM_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING                  PROCEDURE           104 				V_BIL_ARQUIVO_SAIDA	:=  X.BIL_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING                  PROCEDURE           105 				V_BIL_CDRS_ENTREGUES	:=  X.BIL_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING                  PROCEDURE           106 				V_PROXIMO               := 1;
IRPTOW     PRC_COBILLING                  PROCEDURE           107 			ELSIF X.ARQUIVO_ENTRADA  =  V_ARQUIVO_ENTRADA AND V_PROXIMO =  1 THEN
IRPTOW     PRC_COBILLING                  PROCEDURE           108 				V_ARQUIVO		:= RPAD(V_DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           109    		   				     	   RPAD(V_REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           110                         			     	   RPAD(V_ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           111                         			     	   RPAD(V_REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           112                         			     	   LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           113                         			     	   LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           114                         			     	   LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           115                         			     	   LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           116                         			     	   LPAD(V_REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           117                         			     	   RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           118                         			     	   LPAD(X.BIL_CDRS_ENTREGUES,10,' ');

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_COBILLING                  PROCEDURE           119 				DBMS_OUTPUT.PUT_LINE(V_ARQUIVO);
IRPTOW     PRC_COBILLING                  PROCEDURE           120 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING                  PROCEDURE           121 					V_DATA_INCLUSAO,
IRPTOW     PRC_COBILLING                  PROCEDURE           122 					V_REGIONAL,
IRPTOW     PRC_COBILLING                  PROCEDURE           123 					V_ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING                  PROCEDURE           124 					V_REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE           125 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING                  PROCEDURE           126 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING                  PROCEDURE           127 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING                  PROCEDURE           128 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING                  PROCEDURE           129 					V_REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING                  PROCEDURE           130 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE           131 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING                  PROCEDURE           132 				V_PROXIMO := 0;
IRPTOW     PRC_COBILLING                  PROCEDURE           133 			ELSE
IRPTOW     PRC_COBILLING                  PROCEDURE           134 				DBMS_OUTPUT.PUT_LINE(RPAD(X.DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           135    		   				     RPAD(X.REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           136                         			     RPAD(X.ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           137                         			     RPAD(X.REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           138                         			     LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           139                         			     LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           140                         			     LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           141                         			     LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           142                         			     LPAD(X.REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           143                         			     RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING                  PROCEDURE           144                         			     LPAD(X.BIL_CDRS_ENTREGUES,10,' '));
IRPTOW     PRC_COBILLING                  PROCEDURE           145 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING                  PROCEDURE           146 					X.DATA_INCLUSAO,
IRPTOW     PRC_COBILLING                  PROCEDURE           147 					X.REGIONAL,
IRPTOW     PRC_COBILLING                  PROCEDURE           148 					X.ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING                  PROCEDURE           149 					X.REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE           150 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING                  PROCEDURE           151 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING                  PROCEDURE           152 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING                  PROCEDURE           153 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING                  PROCEDURE           154 					X.REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING                  PROCEDURE           155 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING                  PROCEDURE           156 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING                  PROCEDURE           157 				V_PROXIMO := 0;
IRPTOW     PRC_COBILLING                  PROCEDURE           158 			END IF;
IRPTOW     PRC_COBILLING                  PROCEDURE           159
IRPTOW     PRC_COBILLING                  PROCEDURE           160 			IF V_PROXIMO = 0 THEN
IRPTOW     PRC_COBILLING                  PROCEDURE           161 				V_DATA_INCLUSAO 	:=  X.DATA_INCLUSAO;
IRPTOW     PRC_COBILLING                  PROCEDURE           162 				V_REGIONAL      	:=  X.REGIONAL;
IRPTOW     PRC_COBILLING                  PROCEDURE           163 				V_ARQUIVO_ENTRADA 	:=  X.ARQUIVO_ENTRADA;
IRPTOW     PRC_COBILLING                  PROCEDURE           164 				V_REM_ARQUIVO_SAIDA	:=  X.REM_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING                  PROCEDURE           165 				V_CDRS_RECEBIDOS	:=  X.CDRS_RECEBIDOS;
IRPTOW     PRC_COBILLING                  PROCEDURE           166 				V_CDRS_PROCESSADOS	:=  X.CDRS_PROCESSADOS;
IRPTOW     PRC_COBILLING                  PROCEDURE           167 				V_CDRS_EPS		:=  X.CDRS_EPS;
IRPTOW     PRC_COBILLING                  PROCEDURE           168 				V_CDRS_CRITICAS		:=  X.CDRS_CRITICAS;
IRPTOW     PRC_COBILLING                  PROCEDURE           169 				V_REM_CDRS_ENTREGUES	:=  X.REM_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING                  PROCEDURE           170 				V_BIL_ARQUIVO_SAIDA	:=  X.BIL_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING                  PROCEDURE           171 				V_BIL_CDRS_ENTREGUES	:=  X.BIL_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING                  PROCEDURE           172 			END IF;
IRPTOW     PRC_COBILLING                  PROCEDURE           173
IRPTOW     PRC_COBILLING                  PROCEDURE           174 			V_LINHA   := V_LINHA + 1;
IRPTOW     PRC_COBILLING                  PROCEDURE           175
IRPTOW     PRC_COBILLING                  PROCEDURE           176  		END LOOP;
IRPTOW     PRC_COBILLING                  PROCEDURE           177  	END;
IRPTOW     PRC_COBILLING                  PROCEDURE           178  	COMMIT;
IRPTOW     PRC_COBILLING                  PROCEDURE           179 END;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             1 PROCEDURE PRC_COBILLING_ALL IS
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             2 BEGIN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             3 DECLARE
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             4 	V_LINHA		   	NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             5 	V_PROXIMO               NUMBER(1);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             6 	V_DATA_INCLUSAO 	VARCHAR2(8);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             7 	V_REGIONAL      	VARCHAR2(2);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             8 	V_ARQUIVO_ENTRADA 	VARCHAR2(60);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE             9 	V_REM_ARQUIVO_SAIDA	VARCHAR2(60);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            10 	V_CDRS_RECEBIDOS	NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            11 	V_CDRS_PROCESSADOS	NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            12 	V_CDRS_EPS		NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            13 	V_CDRS_CRITICAS		NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            14 	V_REM_CDRS_ENTREGUES	NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            15 	V_BIL_ARQUIVO_SAIDA	VARCHAR2(60);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            16 	V_BIL_CDRS_ENTREGUES	NUMBER(10);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            17 	V_ARQUIVO		VARCHAR2(222);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            18
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            19 	BEGIN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            20 		-- Inicializando variaveis
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            21 		V_LINHA   		:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            22 		V_PROXIMO               := 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            23 		V_DATA_INCLUSAO 	:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            24 		V_REGIONAL      	:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            25 		V_ARQUIVO_ENTRADA 	:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            26 		V_REM_ARQUIVO_SAIDA	:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            27 		V_CDRS_RECEBIDOS	:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            28 		V_CDRS_PROCESSADOS	:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            29 		V_CDRS_EPS		:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            30 		V_CDRS_CRITICAS		:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            31 		V_REM_CDRS_ENTREGUES	:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            32 		V_BIL_ARQUIVO_SAIDA	:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            33 		V_BIL_CDRS_ENTREGUES	:= 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            34 		V_ARQUIVO		:= NULL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            35
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            36 		delete FROM TB_RELAT_COBILLING

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            37                  WHERE DATA_INCLUSAO BETWEEN TO_CHAR(SYSDATE-90,'YYYYMMDD')
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            38                                          AND TO_CHAR(SYSDATE-1, 'YYYYMMDD');
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            39
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            40 		--DBMS_OUTPUT.PUT_LINE('DATA    ;REGIONAL;ARQUIVO RECEBIDO                             ;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            41 		--                     'ARQUIVO ENVIADO AO COBILLING                 ;  RECEBIDO;PROCESSADO;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            42 		--                     '       EPS;   CRITICA;  ENTREGUE;ARQUIVO ENVIADO AO ATLYS                     ;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            43 		--                     '  ENTREGUE');
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            44 		--DBMS_OUTPUT.PUT_LINE('--------;--------;---------------------------------------------;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            45 		--                     '---------------------------------------------;----------;----------;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            46 		--                     '----------;----------;----------;---------------------------------------------;'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            47 		--                     '----------');
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            48  		FOR X IN (SELECT TO_CHAR(DATA_INCLUSAO,'YYYYMMDD') DATA_INCLUSAO,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            49 			 	 REGIONAL,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            50 			  	 ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            51 				 DECODE(STATUS,'RETORNO',ARQUIVO_SAIDA,'NO H ARQUIVO') REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            52 				 DECODE(STATUS,'BILLING',ARQUIVO_SAIDA,'NO H ARQUIVO') BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            53 				 MAX(CDRS_RECEBIDOS)   CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            54 				 MAX(CDRS_EPS)         CDRS_EPS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            55 				 MAX(CDRS_PROCESSADOS) CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            56 				 MAX(CDRS_CRITICAS)    CDRS_CRITICAS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            57 				 MAX(DECODE(STATUS,'RETORNO',CDRS_ENTREGUES,0)) REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            58 				 MAX(DECODE(STATUS,'BILLING',CDRS_ENTREGUES,0)) BIL_CDRS_ENTREGUES
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            59 			    FROM VW_COBILLING_IRPT_ALL
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            60 			GROUP BY TO_CHAR(DATA_INCLUSAO,'YYYYMMDD'),
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            61 			 	 REGIONAL,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            62 			  	 ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            63 				 DECODE(STATUS,'RETORNO',ARQUIVO_SAIDA,'NO H ARQUIVO'),
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            64 				 DECODE(STATUS,'BILLING',ARQUIVO_SAIDA,'NO H ARQUIVO')
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            65 			ORDER BY 1,2,3,4 DESC
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            66 			) LOOP
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            67
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            68 			IF V_LINHA = 0 THEN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            69 				V_ARQUIVO		:= RPAD(X.DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            70    		   				     	   RPAD(X.REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            71                         			     	   RPAD(X.ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            72                         			     	   RPAD(X.REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            73                         			     	   LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            74                         			     	   LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            75                         			     	   LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            76                         			     	   LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            77                         			     	   LPAD(X.REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            78                         			     	   RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            79                         			     	   LPAD(X.BIL_CDRS_ENTREGUES,10,' ');
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            80 				--DBMS_OUTPUT.PUT_LINE(V_ARQUIVO);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            81 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            82 					X.DATA_INCLUSAO,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            83 					X.REGIONAL,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            84 					X.ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            85 					X.REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            86 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            87 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            88 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            89 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            90 					X.REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            91 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            92 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            93
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            94
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            95 			ELSIF SUBSTR(X.REM_ARQUIVO_SAIDA,1,3) = 'REM' THEN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            96 				V_DATA_INCLUSAO 	:=  X.DATA_INCLUSAO;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            97 				V_REGIONAL      	:=  X.REGIONAL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            98 				V_ARQUIVO_ENTRADA 	:=  X.ARQUIVO_ENTRADA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE            99 				V_REM_ARQUIVO_SAIDA	:=  X.REM_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           100 				V_CDRS_RECEBIDOS	:=  X.CDRS_RECEBIDOS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           101 				V_CDRS_PROCESSADOS	:=  X.CDRS_PROCESSADOS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           102 				V_CDRS_EPS		:=  X.CDRS_EPS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           103 				V_CDRS_CRITICAS		:=  X.CDRS_CRITICAS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           104 				V_REM_CDRS_ENTREGUES	:=  X.REM_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           105 				V_BIL_ARQUIVO_SAIDA	:=  X.BIL_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           106 				V_BIL_CDRS_ENTREGUES	:=  X.BIL_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           107 				V_PROXIMO               := 1;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           108 			ELSIF X.ARQUIVO_ENTRADA  =  V_ARQUIVO_ENTRADA AND V_PROXIMO =  1 THEN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           109 				V_ARQUIVO		:= RPAD(V_DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           110    		   				     	   RPAD(V_REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           111                         			     	   RPAD(V_ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           112                         			     	   RPAD(V_REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           113                         			     	   LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           114                         			     	   LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           115                         			     	   LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           116                         			     	   LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           117                         			     	   LPAD(V_REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           118                         			     	   RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           119                         			     	   LPAD(X.BIL_CDRS_ENTREGUES,10,' ');
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           120 				--DBMS_OUTPUT.PUT_LINE(V_ARQUIVO);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           121 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           122 					V_DATA_INCLUSAO,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           123 					V_REGIONAL,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           124 					V_ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           125 					V_REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           126 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           127 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           128 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           129 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           130 					V_REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           131 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           132 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           133 				V_PROXIMO := 0;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           134 			ELSE
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           135 				--DBMS_OUTPUT.PUT_LINE(RPAD(X.DATA_INCLUSAO,8,' ')      ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           136    		   		--		     RPAD(X.REGIONAL,8,' ')           ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           137                         	--		     RPAD(X.ARQUIVO_ENTRADA,45,' ')   ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           138                         	--		     RPAD(X.REM_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           139                         	--		     LPAD(X.CDRS_RECEBIDOS,10,' ')    ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           140                         	--		     LPAD(X.CDRS_PROCESSADOS,10,' ')  ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           141                         	--		     LPAD(X.CDRS_EPS,10,' ')          ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           142                         	--		     LPAD(X.CDRS_CRITICAS,10,' ')     ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           143                         	--		     LPAD(X.REM_CDRS_ENTREGUES,10,' ')||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           144                         	--		     RPAD(X.BIL_ARQUIVO_SAIDA,45,' ') ||';'||
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           145                         	--		     LPAD(X.BIL_CDRS_ENTREGUES,10,' '));
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           146 				INSERT INTO IRPTOW.TB_RELAT_COBILLING VALUES (
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           147 					X.DATA_INCLUSAO,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           148 					X.REGIONAL,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           149 					X.ARQUIVO_ENTRADA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           150 					X.REM_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           151 					X.CDRS_RECEBIDOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           152 					X.CDRS_PROCESSADOS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           153 					X.CDRS_EPS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           154 					X.CDRS_CRITICAS,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           155 					X.REM_CDRS_ENTREGUES,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           156 					X.BIL_ARQUIVO_SAIDA,
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           157 					X.BIL_CDRS_ENTREGUES);
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           158 				V_PROXIMO := 0;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           159 			END IF;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           160
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           161 			IF V_PROXIMO = 0 THEN
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           162 				V_DATA_INCLUSAO 	:=  X.DATA_INCLUSAO;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           163 				V_REGIONAL      	:=  X.REGIONAL;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           164 				V_ARQUIVO_ENTRADA 	:=  X.ARQUIVO_ENTRADA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           165 				V_REM_ARQUIVO_SAIDA	:=  X.REM_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           166 				V_CDRS_RECEBIDOS	:=  X.CDRS_RECEBIDOS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           167 				V_CDRS_PROCESSADOS	:=  X.CDRS_PROCESSADOS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           168 				V_CDRS_EPS		:=  X.CDRS_EPS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           169 				V_CDRS_CRITICAS		:=  X.CDRS_CRITICAS;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           170 				V_REM_CDRS_ENTREGUES	:=  X.REM_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           171 				V_BIL_ARQUIVO_SAIDA	:=  X.BIL_ARQUIVO_SAIDA;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           172 				V_BIL_CDRS_ENTREGUES	:=  X.BIL_CDRS_ENTREGUES;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           173 			END IF;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           174
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           175 			V_LINHA   := V_LINHA + 1;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           176
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           177  		END LOOP;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           178  	END;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           179  	COMMIT;
IRPTOW     PRC_COBILLING_ALL              PROCEDURE           180 END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             1 PROCEDURE PRC_CRIA_PARTICAO (P_PARTICAO IN VARCHAR2) IS
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             2 BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             3  DECLARE
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             4  TblTmp        varchar2(2000) := NULL;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             5
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             6  BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             7  	if (P_PARTICAO IS NOT NULL) AND (SUBSTR(P_PARTICAO,1,2) = '20') THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             8   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE             9   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            10   		DBMS_OUTPUT.PUT_LINE('CRIAO DAS TABELAS TEMPORARIA COM A PARTITION :'||P_PARTICAO);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            11   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            12   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            13
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            14 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            15 			--INPUT_RECORDS
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            16   			TblTmp := 'DROP TABLE INPUT_RECORDS_TMP';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            17   			DBMS_OUTPUT.PUT_LINE('DROP :'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            18   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            19   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            20   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            21 			EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            22 				 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            23 				 DBMS_OUTPUT.PUT_LINE('ERROR AO DROP TABELA '||TblTmp||' CONTINUA O PROCESSO');
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            24 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            25
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            26 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            27   			TblTmp := 'CREATE TABLE INPUT_RECORDS_TMP TABLESPACE SNAPDAT AS SELECT * FROM INPUT_RECORDS PARTITION (INPUT_RECORDS_'||P_PARTICAO||')';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            28   			DBMS_OUTPUT.PUT_LINE('CREATE:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            29   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            30   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            31   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            32 				EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            33 					 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            34 					 RAISE_APPLICATION_ERROR(-20010,'ERRO AO CRIA TABELA '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            35 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            36
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            37 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            38   			TblTmp := 'CREATE INDEX IDX_INPUT_TMP_DT ON INPUT_RECORDS_TMP (DATA_HR_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            39   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            40   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            41   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            42   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            43 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            44 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            45 						 RAISE_APPLICATION_ERROR(-20015,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            46 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            47
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            48 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            49   			TblTmp := 'CREATE INDEX IDX_INPUT_TMP ON INPUT_RECORDS_TMP (REGIONAL,ELEMENTO_REDE,DATA_HR_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            50   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            51   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            52   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            53   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            54 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            55 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            56 						 RAISE_APPLICATION_ERROR(-20020,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            57 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            58
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            59 		--PROCESS_RECORDS
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            60 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            61   			TblTmp := 'DROP TABLE PROCESS_RECORDS_TMP';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            62   			DBMS_OUTPUT.PUT_LINE('DROP :'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            63   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            64   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            65   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            66 				EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            67 					 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            68 					 DBMS_OUTPUT.PUT_LINE('ERROR AO DROP TABELA '||TblTmp||' CONTINUA O PROCESSO');
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            69 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            70
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            71 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            72   			TblTmp := 'CREATE TABLE PROCESS_RECORDS_TMP TABLESPACE SNAPDAT AS SELECT * FROM PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||P_PARTICAO||')';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            73   			DBMS_OUTPUT.PUT_LINE('CREATE:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            74   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            75   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            76   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            77 				EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            78 					 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            79 					 RAISE_APPLICATION_ERROR(-30010,'ERRO AO CRIA TABELA '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            80 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            81
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            82 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            83   			TblTmp := 'CREATE INDEX IDX_PROCESS_TMP_DT ON PROCESS_RECORDS_TMP (DATA_HR_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            84   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            85   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            86   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            87   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            88 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            89 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            90 						 RAISE_APPLICATION_ERROR(-30015,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            91 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            92
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            93 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            94   			TblTmp := 'CREATE INDEX IDX_PROCESS_TMP ON PROCESS_RECORDS_TMP (REGIONAL,ELEMENTO_REDE,DATA_HR_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            95   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            96   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            97   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            98   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE            99 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           100 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           101 						 RAISE_APPLICATION_ERROR(-30020,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           102 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           103
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           104 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           105   			TblTmp := 'CREATE INDEX IDX_PROCESS_TMP_ET ON PROCESS_RECORDS_TMP (ETAPA) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           106   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           107   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           108   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           109   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           110 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           111 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           112 						 RAISE_APPLICATION_ERROR(-30035,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           113 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           114
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           115 		--OUTPUT_RECORDS
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           116 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           117   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           118   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           119   			TblTmp := 'DROP TABLE OUTPUT_RECORDS_TMP';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           120   			DBMS_OUTPUT.PUT_LINE('DROP :'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           121   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           122   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           123   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           124 				EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           125 					 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           126 					 DBMS_OUTPUT.PUT_LINE('ERROR AO DROP TABELA '||TblTmp||' CONTINUA O PROCESSO');
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           127 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           128
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           129 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           130   			TblTmp := 'CREATE TABLE OUTPUT_RECORDS_TMP TABLESPACE SNAPDAT AS SELECT * FROM OUTPUT_RECORDS PARTITION (OUTPUT_RECORDS_'||P_PARTICAO||')';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           131   			DBMS_OUTPUT.PUT_LINE('CREATE:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           132   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           133   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           134   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           135 				EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           136 					 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           137 					 RAISE_APPLICATION_ERROR(-40010,'ERRO AO CRIA TABELA '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           138 		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           139
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           140 		BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           141   			TblTmp := 'CREATE INDEX IDX_OUTPUT_TMP_DT ON OUTPUT_RECORDS_TMP (DATA_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           142   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           143   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           144   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           145   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           146 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           147 						 WHEN OTHERS THEN

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           148 						 RAISE_APPLICATION_ERROR(-40015,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           149                 END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           150
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           151                 BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           152   			TblTmp := 'CREATE INDEX IDX_OUTPUT_TMP_DE ON OUTPUT_RECORDS_TMP (DATA_ENTREGA) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           153   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           154   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           155   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           156   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           157 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           158 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           159 						 RAISE_APPLICATION_ERROR(-40020,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           160                 END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           161
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           162                 BEGIN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           163   			TblTmp := 'CREATE INDEX IDX_OUTPUT_TMP ON OUTPUT_RECORDS_TMP (REGIONAL,ELEMENTO_REDE,DATA_EVENTO) TABLESPACE SNAPIDX';
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           164   			DBMS_OUTPUT.PUT_LINE('INDEX DT:'||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           165   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           166   			DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           167   			EXECUTE IMMEDIATE TblTmp;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           168 					EXCEPTION
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           169 						 WHEN OTHERS THEN
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           170 						 RAISE_APPLICATION_ERROR(-40025,'ERRO AO CRIA INDEX '||TblTmp);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           171   		END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           172 	ELSE
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           173   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           174  		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           175   		DBMS_OUTPUT.PUT_LINE('PARTICAO INVALIDA '||P_PARTICAO);
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           176   	END IF;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           177   END;
IRPTOW     PRC_CRIA_PARTICAO              PROCEDURE           178 END;
IRPTOW     PRC_DEL_PRO                    PROCEDURE             1 PROCEDURE PRC_DEL_PRO IS
IRPTOW     PRC_DEL_PRO                    PROCEDURE             2 BEGIN
IRPTOW     PRC_DEL_PRO                    PROCEDURE             3 DECLARE
IRPTOW     PRC_DEL_PRO                    PROCEDURE             4
IRPTOW     PRC_DEL_PRO                    PROCEDURE             5  	BEGIN
IRPTOW     PRC_DEL_PRO                    PROCEDURE             6 		FOR X IN (SELECT ENDERECO
IRPTOW     PRC_DEL_PRO                    PROCEDURE             7         	            FROM TB_ENDERECO) LOOP
IRPTOW     PRC_DEL_PRO                    PROCEDURE             8
IRPTOW     PRC_DEL_PRO                    PROCEDURE             9      		BEGIN
IRPTOW     PRC_DEL_PRO                    PROCEDURE            10        			DELETE FROM PROCESS_RECORDS
IRPTOW     PRC_DEL_PRO                    PROCEDURE            11           		 WHERE ROWID = X.ENDERECO;
IRPTOW     PRC_DEL_PRO                    PROCEDURE            12          			EXCEPTION
IRPTOW     PRC_DEL_PRO                    PROCEDURE            13          			 WHEN OTHERS THEN
IRPTOW     PRC_DEL_PRO                    PROCEDURE            14          			  DBMS_OUTPUT.PUT_LINE('ROWID NAO ENCONTRADO');
IRPTOW     PRC_DEL_PRO                    PROCEDURE            15          	END;
IRPTOW     PRC_DEL_PRO                    PROCEDURE            16    		END LOOP;
IRPTOW     PRC_DEL_PRO                    PROCEDURE            17    	END;
IRPTOW     PRC_DEL_PRO                    PROCEDURE            18    	COMMIT;
IRPTOW     PRC_DEL_PRO                    PROCEDURE            19 END;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             1 PROCEDURE PRC_GAR_BILL_PRE_SMS( p_regional  	   		    IN 		VARCHAR2,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             2 	   	  		  								  p_dt_entrega_inicial   	IN		DATE,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             3 												  p_dt_entrega_final   	    IN		DATE )
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             4 IS
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             5
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             6 CURSOR c_cursor_sms( pc_regional	VARCHAR2,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             7 	   				 pc_dt_inicio   VARCHAR2,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             8 					 pc_dt_fim      VARCHAR2 )
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE             9 IS
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            10   SELECT regional,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            11   		 data_envio,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            12 		 nome_arquivo,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            13 		 data_chamada,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            14 		 tipo_assinante,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            15 		 qtd_chamadas,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            16 		 qtd_minutos
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            17     FROM vw_gar_bill_pre_sms
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            18    WHERE regional = pc_regional
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            19      AND data_envio >= pc_dt_inicio
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            20 	 AND data_envio <= pc_dt_fim;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            21
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            22 r_sms	 gar_bill_pre_sms%ROWTYPE;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            23
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            24
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            25 vc_dt_inicio		VARCHAR2(8)   := '';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            26 vc_dt_fim    		VARCHAR2(8)   := '';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            27 vc_parametros		VARCHAR2(100) := '';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            28 vc_desc_erro		VARCHAR2(3000) := '';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            29 nb_seq_processo     NUMBER(20)    := 0;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            30 icont				PLS_INTEGER   := 0;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            31
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            32
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            33 BEGIN
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            34 	   EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_FORMAT = '||''''||'DD/MM/YYYY HH24:MI:SS'||'''';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            35
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            36 	   vc_parametros:= p_regional ||','|| p_dt_entrega_inicial||','|| p_dt_entrega_final;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            37
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            38 	   SELECT gar_seq_bill_pre_sms.NEXTVAL
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            39 	     INTO nb_seq_processo
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            40 		 FROM DUAL;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            41
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            42 	   INSERT INTO gar_log_processo
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            43 	        VALUES( nb_seq_processo,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            44 			        'PRC_GAR_BILL_PRE_SMS',
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            45 					vc_parametros,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            46 					TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS'),
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            47 					NULL,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            48 					NULL);
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            49 	   COMMIT;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            50
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            51 	   EXECUTE IMMEDIATE 'TRUNCATE TABLE gar_bill_pre_sms';
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            52
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            53 	   vc_dt_inicio:= TO_CHAR(p_dt_entrega_inicial, 'YYYYMMDD');
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            54 	   vc_dt_fim   := TO_CHAR(p_dt_entrega_final,   'YYYYMMDD');
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            55
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            56 	   FOR r_sms IN c_cursor_sms( p_regional, vc_dt_inicio, vc_dt_fim )
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            57 	   LOOP
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            58 	   	   		INSERT INTO gar_bill_pre_sms
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            59 				     VALUES ( r_sms.regional,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            60 					  	      r_sms.data_envio,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            61 							  r_sms.nome_arquivo,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            62 							  r_sms.data_chamada,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            63 							  r_sms.tipo_assinante,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            64 							  r_sms.qtd_chamadas,
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            65 							  r_sms.qtd_minutos );
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            66
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            67 				icont:= icont + 1;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            68 				IF icont >= 5000 THEN
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            69
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            70 				   		 icont:= 0;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            71 						 COMMIT;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            72 				END IF;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            73
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            74 	   END LOOP;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            75
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            76 	   UPDATE gar_log_processo
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            77 	      SET data_fim = TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS'),
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            78 		      status = 'OK'
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            79 	    WHERE seq_processo = nb_seq_processo;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            80
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            81 	   COMMIT;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            82
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            83 EXCEPTION
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            84 		 WHEN OTHERS THEN
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            85
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            86 		 	  vc_desc_erro:= sqlerrm;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            87
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            88 		 	  UPDATE gar_log_processo
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            89  	          SET data_fim = TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS'),
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            90 		          status = vc_desc_erro
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            91 	          WHERE seq_processo = nb_seq_processo;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            92
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            93 			  COMMIT;
IRPTOW     PRC_GAR_BILL_PRE_SMS           PROCEDURE            94 END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             1 PROCEDURE PRC_GAR_PROC_OUT IS
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             2 BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             3  DECLARE
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             4  V_DATA  	VARCHAR2(20)   := NULL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             5  TrunTbl        varchar2(2000) := NULL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             6
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             7  BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             8
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE             9 	FOR X IN (SELECT TO_CHAR(DIA_PROCESSO,'YYYYMMDD') DT_PROCESSO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            10 		         mod(to_number(to_char(DIA_PROCESSO,'J'),'9999999'),3) DT_JULIANA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            11                     FROM TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            12                    WHERE DIA_PROCESSO <= TRUNC(SYSDATE-1)
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            13                      AND FLAG_PROCESSO = 'N'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            14                      ORDER BY DIA_PROCESSO DESC) LOOP
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            15
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            16   		-- Limpa as tabela TB_GAR_OUTPUT e TB_GAR_PROCESS;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            17   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            18   		DBMS_OUTPUT.PUT_LINE('INICIO EM    :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            19   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            20   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            21
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            22   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            23   		DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_OUTPUT  INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            24
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            25   		TrunTbl := 'alter table TB_GAR_OUTPUT TRUNCATE PARTITION TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            26   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            27   		DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            28   		EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            29
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            30   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            31   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            32   		DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_PROCESS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            33
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            34   		TrunTbl := 'alter table TB_GAR_PROCESS TRUNCATE PARTITION TB_GAR_PROCESS_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            35   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            36   		DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            37   		EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            38
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            39   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            40   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            41   		DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_COL_CRI_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            42
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            43   		TrunTbl := 'alter table TB_GAR_COL_CRI_REC TRUNCATE PARTITION TB_GAR_COL_CRI_REC_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            44   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            45   		DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            46   		EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            47
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            48   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            49   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            50   		DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_INPUT_SMS_VOZ INICIO EM :'||V_DATA);

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            51
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            52   		TrunTbl := 'alter table TB_GAR_INPUT_SMS_VOZ TRUNCATE PARTITION TB_GAR_INPUT_SMS_VOZ_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            53   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            54   		DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            55   		EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            56
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            57   		-- Inicializando variaveis
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            58   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            59   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            60   		DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_OUTPUT  INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            61
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            62   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            63
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            64   			TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_OUTPUT
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            65   			 SELECT TO_DATE(O.DATA_EVENTO,''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            66   			        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            67   			        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ) ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            68   			        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            69   			        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            70   			        D.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            71   			        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            72   			        SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            73   			   FROM IRPTOW.OUTPUT_RECORDS PARTITION (OUTPUT_RECORDS_'||X.DT_PROCESSO||') O,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            74   			        IRPTOW.GAR_DESTINO_OUTPUT_GARANTIA D
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            75   			  WHERE O.DATA_ENTREGA = '||X.DT_PROCESSO||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            76   			    AND O.REGIONAL     = D.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            77   			    AND O.DESTINO      = D.DESTINO
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            78   			    AND D.SISTEMA      IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            79   			    AND D.TRAFEGO      IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            80   			    AND O.FILE_REGISTRY_ID IS NOT NULL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            81 		       GROUP BY TO_DATE(O.DATA_EVENTO,''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            82   			        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            83   			        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            84   			        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            85   			        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            86   			        D.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            87   			        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            88   			        SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            89
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            90 			--DBMS_OUTPUT.PUT_LINE('INSERT INTO IRPTOW.TB_GAR_OUTPUT): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            91 			--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            92 			--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            93 			--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            94 			--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            95 			--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            96 			--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            97 			--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            98 			--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE            99 			--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           100 			--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           101 			--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           102 			--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           103 			--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           104 			--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           105 			--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           106 			--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           107 			--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           108 			--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           109 			--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           110
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           111 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           112   		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           113
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           114   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           115   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           116   		DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           117
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           118   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           119   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           120   			 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           121   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           122   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           123   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           124 				 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           125   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           126 				 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           127 				 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           128 				 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           129   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           130   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           131   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           132   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           133   			         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           134   			         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           135   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           136   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           137   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           138   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           139   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           140   			         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           141   			    FROM TB_GAR_OUTPUT    PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           142   			         GAR_PROCESS_REC  PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           143   			         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           144   			   WHERE O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           145   			     AND O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           146   			     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           147   			     AND P.ETAPA          = E.ETAPA

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           148   			     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           149   			     AND E.SISTEMA        IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           150   			     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           151   			     AND E.TRAFEGO        IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           152   			     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           153   		        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           154   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           155   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           156 				 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           157   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           158 				 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           159 				 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           160 				 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           161   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           162   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           163   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           164   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           165   			         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           166   			         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           167   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           168   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           169   			         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           170
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           171 			--DBMS_OUTPUT.PUT_LINE('INSERT INTO IRPTOW.TB_GAR_PROCESS): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           172 			--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           173 			--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           174 			--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           175 			--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           176 			--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           177 			--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           178 			--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           179 			--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           180 			--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           181 			--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           182 			--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           183 			--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           184 			--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           185 			--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           186 			--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           187 			--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           188 			--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           189 			--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           190 			--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           191
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           192 			 EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           193
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           194 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           195   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           196   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           197
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           198   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           199   			 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           200   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           201   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           202   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           203   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           204   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           205   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           206   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           207   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           208   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           209   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           210   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           211   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           212   			         NULL  FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           213   			         NULL  DIREACAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           214   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           215   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           216   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           217   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           218   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           219   			         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           220   			    FROM TB_GAR_OUTPUT   PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           221   			         PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           222   			         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           223   			   WHERE O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           224   			     AND O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           225   			     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           226   			     AND P.ETAPA          = E.ETAPA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           227   			     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           228   			     AND E.SISTEMA        = ''FAT_PRE''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           229   			     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           230   			     AND E.TRAFEGO        = ''SMS''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           231   			     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           232   		        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           233   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           234   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           235   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           236   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           237   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           238   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           239   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           240   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           241   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           242   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           243   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           244   			         NULL,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           245   			         NULL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           246   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           247   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           248   			         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           249
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           250 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           251
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           252 		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           253
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           254 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           255 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           256   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           257   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           258   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           259   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           260   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           261   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           262   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           263   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           264   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           265   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           266   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           267   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           268   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           269   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           270   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           271   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           272   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           273   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           274   			    FROM PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           275   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           276   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           277                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           278   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           279 			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           280   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           281   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           282   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           283   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           284   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           285   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           286   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           287   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           288   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           289   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           290   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           291
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           292 			--DBMS_OUTPUT.PUT_LINE('INSERT INTO TB_GAR_COL_CRI_REC): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           293 			--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           294 			--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           295 			--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           296 			--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           297 			--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           298 			--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           299 			--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           300 			--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           301 			--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           302 			--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           303 			--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           304 			--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           305 			--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           306 			--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           307 			--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           308 			--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           309 			--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           310 			--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           311 			--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           312
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           313 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           314 		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           315
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           316 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           317 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           318   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           319   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           320   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           321   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           322   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           323   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           324   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           325   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           326   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           327   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           328   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           329   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           330   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           331   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           332   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           333   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           334   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           335   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           336   			    FROM GAR_PROCESS_REC PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           337   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           338   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           339                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           340   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           341 			         E.RELATORIO,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           342   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           343   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           344   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           345   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           346   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           347   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           348   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           349   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           350   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           351   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           352   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           353
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           354 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           355 		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           356
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           357 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           358 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           359   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           360   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_INPUT_SMS_VOZ X INPUT_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           361   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_INPUT_SMS_VOZ
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           362   			 SELECT  I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           363   			         E.RELATORIO           SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           364   			         SUM(I.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           365   			         SUM(I.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           366  			         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           367   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           368   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           369   			    FROM INPUT_RECORDS PARTITION (INPUT_RECORDS_'||X.DT_PROCESSO||')  I,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           370   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           371   			   WHERE I.ELEMENTO_REDE NOT LIKE ''FCDR|%''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           372 	                     AND I.ELEMENTO_REDE NOT LIKE ''F_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           373 	 		     AND I.ELEMENTO_REDE NOT LIKE ''MCDR|%''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           374 	                     AND I.ELEMENTO_REDE NOT LIKE ''M_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           375                              AND I.ELEMENTO_REDE || I.REGIONAL = E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           376                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           377   			GROUP BY I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           378   			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           379   			         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           380   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           381   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           382
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           383 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           384 		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           385
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           386   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           387   		   UPDATE TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           388   		      SET FLAG_PROCESSO = 'S',
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           389   		          DT_EXECUCAO   = SYSDATE
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           390   		    WHERE DIA_PROCESSO  = TO_DATE(X.DT_PROCESSO,'YYYYMMDD');
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           391   		  exception
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           392   		    when others then
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           393   		       RAISE_APPLICATION_ERROR(-21000,'ERRO AO ATUALIZAR O FLAG NA DATA PROCESSADA');
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           394   		END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           395
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           396   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           397   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           398   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           399   		DBMS_OUTPUT.PUT_LINE('FINALIZOU EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           400   		COMMIT;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           401 	END LOOP;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           402   END;
IRPTOW     PRC_GAR_PROC_OUT               PROCEDURE           403 END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             1 PROCEDURE PRC_GAR_PROC_OUT_MANUAL IS
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             2 BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             3  DECLARE
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             4  V_DATA  	VARCHAR2(20)   := NULL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             5  TrunTbl        varchar2(2000) := NULL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             6
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             7  BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             8
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE             9 	FOR X IN (SELECT TO_CHAR(DIA_PROCESSO,'YYYYMMDD') DT_PROCESSO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            10 		         mod(to_number(to_char(DIA_PROCESSO,'J'),'9999999'),3) DT_JULIANA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            11                     FROM TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            12                    WHERE DIA_PROCESSO <= TRUNC(SYSDATE-1)
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            13                      AND FLAG_PROCESSO = 'N'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            14                      ORDER BY DIA_PROCESSO DESC) LOOP
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            15
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            16   		-- Limpa as tabela TB_GAR_OUTPUT e TB_GAR_PROCESS;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            17   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            18   		DBMS_OUTPUT.PUT_LINE('INICIO EM    :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            19   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            20   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            21
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            22   		-- Inicializando variaveis
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            23   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            24   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            25   		DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_OUTPUT  INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            26
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            27   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            28
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            29   			TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_OUTPUT
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            30   			 SELECT TO_DATE(O.DATA_EVENTO,''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            31   			        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            32   			        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ) ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            33   			        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            34   			        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            35   			        D.SISTEMA,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            36   			        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            37   			        SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            38   			   FROM IRPTOW.OUTPUT_RECORDS PARTITION (OUTPUT_RECORDS_'||X.DT_PROCESSO||') O,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            39   			        IRPTOW.GAR_DESTINO_OUTPUT_GARANTIA D
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            40   			  WHERE O.DATA_ENTREGA = '||X.DT_PROCESSO||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            41   			    AND O.REGIONAL     = D.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            42   			    AND O.DESTINO      = D.DESTINO
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            43   			    AND D.SISTEMA      IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            44   			    AND D.TRAFEGO      IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            45   			    AND O.FILE_REGISTRY_ID IS NOT NULL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            46 		       GROUP BY TO_DATE(O.DATA_EVENTO,''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            47   			        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            48   			        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            49   			        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            50   			        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            51   			        D.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            52   			        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            53   			        SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            54
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            55 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            56   		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            57
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            58   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            59   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            60   		DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            61
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            62   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            63   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            64   			 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            65   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            66   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            67   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            68 				 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            69   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            70 				 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            71 				 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            72 				 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            73   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            74   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            75   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            76   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            77   			         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            78   			         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            79   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            80   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            81   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            82   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            83   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            84   			         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            85   			    FROM TB_GAR_OUTPUT    PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            86   			         GAR_PROCESS_REC  PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            87   			         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            88   			   WHERE O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            89   			     AND O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            90   			     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            91   			     AND P.ETAPA          = E.ETAPA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            92   			     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            93   			     AND E.SISTEMA        IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            94   			     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            95   			     AND E.TRAFEGO        IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            96   			     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            97   		        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            98   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE            99   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           100 				 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           101   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           102 				 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           103 				 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           104 				 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           105   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           106   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           107   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           108   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           109   			         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           110   			         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           111   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           112   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           113   			         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           114
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           115 			 EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           116
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           117 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           118   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           119   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           120
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           121   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           122   			 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           123   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           124   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           125   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           126   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           127   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           128   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           129   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           130   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           131   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           132   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           133   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           134   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           135   			         NULL  FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           136   			         NULL  DIREACAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           137   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           138   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           139   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           140   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           141   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           142   			         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           143   			    FROM TB_GAR_OUTPUT   PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           144   			         PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           145   			         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           146   			   WHERE O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           147   			     AND O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           148   			     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           149   			     AND P.ETAPA          = E.ETAPA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           150   			     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           151   			     AND E.SISTEMA        = ''FAT_PRE''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           152   			     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           153   			     AND E.TRAFEGO        = ''SMS''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           154   			     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           155   		        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           156   			         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           157   			         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           158   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           159   			         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           160   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           161   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           162   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           163   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           164   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           165   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           166   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           167   			         NULL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           168   			         NULL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           169   			         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           170   			         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           171   			         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           172
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           173 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           174
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           175 		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           176
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           177 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           178 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           179   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           180   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           181   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           182   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           183   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           184   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           185   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           186   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           187   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           188   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           189   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           190   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           191   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           192   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           193   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           194   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           195   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           196   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           197   			    FROM PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           198   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           199   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           200                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           201   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           202 			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           203   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           204   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           205   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           206   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           207   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           208   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           209   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           210   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           211   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           212   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           213   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           214
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           215 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           216 		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           217
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           218 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           219 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           220   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           221   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           222   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           223   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           224   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           225   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           226   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           227   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           228   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           229   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           230   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           231   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           232   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           233   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           234   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           235   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           236   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           237   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           238   			    FROM GAR_PROCESS_REC PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           239   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           240   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           241                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           242   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           243 			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           244   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           245   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           246   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           247   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           248   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           249   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           250   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           251   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           252   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           253   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           254   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           255
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           256 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           257 		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           258
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           259 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           260 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           261   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           262   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_INPUT_SMS_VOZ X INPUT_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           263   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_INPUT_SMS_VOZ
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           264   			 SELECT  I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           265   			         E.RELATORIO           SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           266   			         SUM(I.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           267   			         SUM(I.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           268  			         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           269   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           270   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           271   			    FROM INPUT_RECORDS PARTITION (INPUT_RECORDS_'||X.DT_PROCESSO||')  I,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           272   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           273   			   WHERE I.ELEMENTO_REDE NOT LIKE ''FCDR|%''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           274 	                     AND I.ELEMENTO_REDE NOT LIKE ''F_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           275 	 		     AND I.ELEMENTO_REDE NOT LIKE ''MCDR|%''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           276 	                     AND I.ELEMENTO_REDE NOT LIKE ''M_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           277                              AND I.ELEMENTO_REDE || I.REGIONAL = E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           278                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           279   			GROUP BY I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           280   			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           281   			         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           282   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           283   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           284
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           285 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           286 		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           287
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           288   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           289   		   UPDATE TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           290   		      SET FLAG_PROCESSO = 'S',
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           291   		          DT_EXECUCAO   = SYSDATE
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           292   		    WHERE DIA_PROCESSO  = TO_DATE(X.DT_PROCESSO,'YYYYMMDD');
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           293   		  exception
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           294   		    when others then
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           295   		       RAISE_APPLICATION_ERROR(-21000,'ERRO AO ATUALIZAR O FLAG NA DATA PROCESSADA');
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           296   		END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           297
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           298   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           299   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           300   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           301   		DBMS_OUTPUT.PUT_LINE('FINALIZOU EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           302   		COMMIT;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           303 	END LOOP;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           304   END;
IRPTOW     PRC_GAR_PROC_OUT_MANUAL        PROCEDURE           305 END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             1 PROCEDURE PRC_GAR_PROC_OUT_TESTE IS
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             2 BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             3  DECLARE
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             4  V_DATA  	VARCHAR2(20)  := NULL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             5  TrunTbl        varchar2(2000) := NULL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             6
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             7  BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             8
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE             9 	FOR X IN (SELECT TO_CHAR(DIA_PROCESSO,'YYYYMMDD') DT_PROCESSO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            10 		         mod(to_number(to_char(DIA_PROCESSO,'J'),'9999999'),3) DT_JULIANA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            11                     FROM TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            12                    WHERE DIA_PROCESSO <= TRUNC(SYSDATE-1)
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            13                      AND FLAG_PROCESSO = 'N'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            14                      ORDER BY DIA_PROCESSO DESC) LOOP
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            15
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            16   		-- Limpa as tabela TB_GAR_OUTPUT e TB_GAR_PROCESS;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            17   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            18   		DBMS_OUTPUT.PUT_LINE('INICIO EM    :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            19   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            20   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            21

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            22   		--SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            23   		--DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_OUTPUT  INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            24                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            25   		--TrunTbl := 'alter table TB_GAR_OUTPUT TRUNCATE PARTITION TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            26   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            27   		--DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            28   		--EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            29                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            30   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            31   		--SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            32   		--DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_PROCESS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            33                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            34   		--TrunTbl := 'alter table TB_GAR_PROCESS TRUNCATE PARTITION TB_GAR_PROCESS_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            35   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            36   		--DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            37   		--EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            38
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            39   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            40   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            41   		DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_COL_CRI_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            42
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            43   		TrunTbl := 'alter table TB_GAR_COL_CRI_REC TRUNCATE PARTITION TB_GAR_COL_CRI_REC_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            44   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            45   		DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            46   		EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            47
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            48   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            49   		--SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            50   		--DBMS_OUTPUT.PUT_LINE('DELETE FROM IRPTOW.TB_GAR_INPUT_SMS_VOZ INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            51                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            52   		--TrunTbl := 'alter table TB_GAR_INPUT_SMS_VOZ TRUNCATE PARTITION TB_GAR_INPUT_SMS_VOZ_'||TO_CHAR(X.DT_JULIANA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            53   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            54   		--DBMS_OUTPUT.PUT_LINE('Truncate Parition: '||TrunTbl);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            55   		--EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            56                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            57   		---- Inicializando variaveis
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            58   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            59   		--SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            60   		--DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_OUTPUT  INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            61                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            62   		--BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            63                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            64   		--	TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_OUTPUT
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            65   		--	 SELECT TO_DATE(O.DATA_EVENTO,''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            66   		--	        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            67   		--	        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ) ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            68   		--	        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            69   		--	        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            70   		--	        D.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            71   		--	        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            72   		--	        SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            73   		--	   FROM IRPTOW.OUTPUT_RECORDS PARTITION (OUTPUT_RECORDS_'||X.DT_PROCESSO||') O,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            74   		--	        IRPTOW.GAR_DESTINO_OUTPUT_GARANTIA D
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            75   		--	  WHERE O.DATA_ENTREGA = '||X.DT_PROCESSO||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            76   		--	    AND O.REGIONAL     = D.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            77   		--	    AND O.DESTINO      = D.DESTINO
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            78   		--	    AND D.SISTEMA      IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            79   		--	    AND D.TRAFEGO      IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            80   		--	    AND O.FILE_REGISTRY_ID IS NOT NULL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            81 		--       GROUP BY TO_DATE(O.DATA_EVENTO,''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            82   		--	        O.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            83   		--	        SUBSTR( O.FILE_REGISTRY_ID, 1, INSTR( O.FILE_REGISTRY_ID, ''.'' ) - 1 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            84   		--	        O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            85   		--	        O.DATA_ENTREGA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            86   		--	        D.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            87   		--	        D.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            88   		--	        SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            89                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            90 		--	--DBMS_OUTPUT.PUT_LINE('INSERT INTO IRPTOW.TB_GAR_OUTPUT): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            91 		--	--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            92 		--	--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            93 		--	--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            94 		--	--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            95 		--	--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            96 		--	--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            97 		--	--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            98 		--	--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE            99 		--	--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           100 		--	--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           101 		--	--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           102 		--	--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           103 		--	--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           104 		--	--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           105 		--	--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           106 		--	--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           107 		--	--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           108 		--	--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           109 		--	--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           110                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           111 		--	EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           112   		--END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           113                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           114   		--DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           115   		--SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           116   		--DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           117                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           118   		--BEGIN

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           119   		--	 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           120   		--	 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           121   		--	         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           122   		--	         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           123   		--	         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           124 		--		 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           125   		--	         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           126 		--		 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           127 		--		 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           128 		--		 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           129   		--	         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           130   		--	         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           131   		--	         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           132   		--	         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           133   		--	         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           134   		--	         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           135   		--	         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           136   		--	         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           137   		--	         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           138   		--	         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           139   		--	         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           140   		--	         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           141   		--	    FROM TB_GAR_OUTPUT    PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           142   		--	         GAR_PROCESS_REC  PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           143   		--	         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           144   		--	   WHERE O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           145   		--	     AND O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           146   		--	     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           147   		--	     AND P.ETAPA          = E.ETAPA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           148   		--	     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           149   		--	     AND E.SISTEMA        IN (''ITX'',''FAT_POS'',''FAT_PRE'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           150   		--	     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           151   		--	     AND E.TRAFEGO        IN (''VOZ'',''SMS'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           152   		--	     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           153   		--        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           154   		--	         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           155   		--	         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           156 		--		 P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           157   		--	         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           158 		--		 P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           159 		--		 P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           160 		--		 P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           161   		--	         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           162   		--	         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           163   		--	         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           164   		--	         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           165   		--	         P.FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           166   		--	         P.DIRECAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           167   		--	         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           168   		--	         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           169   		--	         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           170                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           171 		--	--DBMS_OUTPUT.PUT_LINE('INSERT INTO IRPTOW.TB_GAR_PROCESS): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           172 		--	--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           173 		--	--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           174 		--	--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           175 		--	--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           176 		--	--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           177 		--	--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           178 		--	--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           179 		--	--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           180 		--	--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           181 		--	--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           182 		--	--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           183 		--	--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           184 		--	--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           185 		--	--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           186 		--	--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           187 		--	--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           188 		--	--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           189 		--	--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           190 		--	--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           191                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           192 		--	 EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           193                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           194 	  	--	 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           195   		--	 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           196   		--	 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_PROCESS X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           197                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           198   		--	 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_PROCESS
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           199   		--	 SELECT /*+ INDEX (O TB_GAR_OUTPUT_C_R_A)*/
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           200   		--	         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           201   		--	         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           202   		--	         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           203   		--	         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           204   		--	         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           205   		--	         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           206   		--	         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           207   		--	         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           208   		--	         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           209   		--	         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           210   		--	         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           211   		--	         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           212   		--	         NULL  FLAG_COBILLING,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           213   		--	         NULL  DIREACAO_CHAMADA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           214   		--	         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           215   		--	         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           216   		--	         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           217   		--	         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           218   		--	         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           219   		--	         SYSDATE,'||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           220   		--	    FROM TB_GAR_OUTPUT   PARTITION (TB_GAR_OUTPUT_'||TO_CHAR(X.DT_JULIANA)||') O,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           221   		--	         PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')       P,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           222   		--	         GAR_ETAPAS_PROCESS_GARANTIA E
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           223   		--	   WHERE O.REGIONAL       = P.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           224   		--	     AND O.CALL_DATE      = TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           225   		--	     AND O.ARQUIVO_MASTER = SUBSTR( P.file_registry_id, 1, INSTR( P.file_registry_id, ''.'' ) - 1 )
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           226   		--	     AND P.ETAPA          = E.ETAPA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           227   		--	     AND P.REGIONAL       = E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           228   		--	     AND E.SISTEMA        = ''FAT_PRE''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           229   		--	     AND E.SISTEMA        = O.SISTEMA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           230   		--	     AND E.TRAFEGO        = ''SMS''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           231   		--	     AND E.TRAFEGO        = O.TRAFEGO
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           232   		--        GROUP BY TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           233   		--	         P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           234   		--	         O.ARQUIVO_MASTER,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           235   		--	         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           236   		--	         O.ARQUIVO_SAIDA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           237   		--	         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           238   		--	         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           239   		--	         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           240   		--	         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           241   		--	         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           242   		--	         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           243   		--	         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           244   		--	         NULL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           245   		--	         NULL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           246   		--	         E.SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           247   		--	         E.TRAFEGO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           248   		--	         SYSDATE,'||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           249                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           250 		--	EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           251                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           252 		--END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           253
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           254 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           255 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           256   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           257   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X PROCESS_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           258   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           259   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           260   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           261   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           262   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           263   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           264   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           265   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           266   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           267   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           268   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           269   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           270   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           271   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           272   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           273   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           274   			    FROM PROCESS_RECORDS PARTITION (PROCESS_RECORDS_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           275   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           276   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           277                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           278   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           279 			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           280   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           281   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           282   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           283   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           284   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           285   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           286   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           287   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           288   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           289   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           290   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           291
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           292 			--DBMS_OUTPUT.PUT_LINE('INSERT INTO TB_GAR_COL_CRI_REC): '||substr(trunTbl,1,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           293 			--DBMS_OUTPUT.PUT_LINE('1): '||substr(trunTbl,100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           294 			--DBMS_OUTPUT.PUT_LINE('2): '||substr(trunTbl,200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           295 			--DBMS_OUTPUT.PUT_LINE('3): '||substr(trunTbl,300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           296 			--DBMS_OUTPUT.PUT_LINE('4): '||substr(trunTbl,400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           297 			--DBMS_OUTPUT.PUT_LINE('5): '||substr(trunTbl,500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           298 			--DBMS_OUTPUT.PUT_LINE('6): '||substr(trunTbl,600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           299 			--DBMS_OUTPUT.PUT_LINE('7): '||substr(trunTbl,700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           300 			--DBMS_OUTPUT.PUT_LINE('8): '||substr(trunTbl,800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           301 			--DBMS_OUTPUT.PUT_LINE('9): '||substr(trunTbl,900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           302 			--DBMS_OUTPUT.PUT_LINE('10): '||substr(trunTbl,1000,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           303 			--DBMS_OUTPUT.PUT_LINE('11): '||substr(trunTbl,1100,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           304 			--DBMS_OUTPUT.PUT_LINE('12): '||substr(trunTbl,1200,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           305 			--DBMS_OUTPUT.PUT_LINE('13): '||substr(trunTbl,1300,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           306 			--DBMS_OUTPUT.PUT_LINE('14): '||substr(trunTbl,1400,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           307 			--DBMS_OUTPUT.PUT_LINE('15): '||substr(trunTbl,1500,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           308 			--DBMS_OUTPUT.PUT_LINE('16): '||substr(trunTbl,1600,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           309 			--DBMS_OUTPUT.PUT_LINE('17): '||substr(trunTbl,1700,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           310 			--DBMS_OUTPUT.PUT_LINE('18): '||substr(trunTbl,1800,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           311 			--DBMS_OUTPUT.PUT_LINE('19): '||substr(trunTbl,1900,100));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           312

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           313 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           314 		END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           315
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           316 		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           317 	  		 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           318   			 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           319   			 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_COL_CRI_REC X GAR_PROCESS_REC INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           320   			 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_COL_CRI_REC
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           321   			 SELECT  P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           322   			         E.RELATORIO SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           323   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           324   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           325   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           326   			         SUBSTR( P.STATUS, 1, 1 ) AS COD_STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           327   			         SUBSTR( P.STATUS, 2, 3 ) AS COD_CRITICA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           328   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           329   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           330   			         SUM(P.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           331   			         SUM(P.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           332   			         SUM(P.TOTAL_BYTES)    TOTAL_BYTES,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           333   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           334   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           335   			         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           336   			    FROM GAR_PROCESS_REC PARTITION (GAR_PROCESS_REC_'||X.DT_PROCESSO||')  P,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           337   			         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           338   			   WHERE P.ELEMENTO_REDE || P.REGIONAL =  E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           339                              AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           340   			GROUP BY P.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           341 			         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           342   			         P.ELEMENTO_REDE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           343   			         P.ETAPA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           344   			         P.ORIGEM,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           345   			         P.STATUS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           346   			         SUBSTR( P.STATUS, 1, 1 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           347   			         SUBSTR( P.STATUS, 2, 3 ),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           348   			         P.TIPO_CDR,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           349   			         P.TIPO_ASSINANTE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           350   			         TO_DATE(SUBSTR(P.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           351   			         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           352   			         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           353
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           354 			EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           355 		END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           356
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           357 		--BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           358 	  	--	 DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           359   		--	 SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           360   		--	 DBMS_OUTPUT.PUT_LINE('INSERT IRPTOW.TB_GAR_INPUT_SMS_VOZ X INPUT_RECORDS INICIO EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           361   		--	 TrunTbl := 'INSERT INTO IRPTOW.TB_GAR_INPUT_SMS_VOZ
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           362   		--	 SELECT  I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           363   		--	         E.RELATORIO           SISTEMA,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           364   		--	         SUM(I.TOTAL_CDRS)     TOTAL_CDRS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           365   		--	         SUM(I.TOTAL_SEGUNDOS) TOTAL_SEGUNDOS,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           366  		--	         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD'') CALL_DATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           367   		--	         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           368   		--	         '||X.DT_JULIANA||'
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           369   		--	    FROM INPUT_RECORDS PARTITION (INPUT_RECORDS_'||X.DT_PROCESSO||')  I,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           370   		--	         ELEMENTO_IRPT E
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           371   		--	   WHERE I.ELEMENTO_REDE NOT LIKE ''FCDR|%''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           372 	        --             AND I.ELEMENTO_REDE NOT LIKE ''F_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           373 	 	--	     AND I.ELEMENTO_REDE NOT LIKE ''MCDR|%''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           374 	        --             AND I.ELEMENTO_REDE NOT LIKE ''M_FIS_I|%''
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           375                 --             AND I.ELEMENTO_REDE || I.REGIONAL = E.SYSTEM ||''|''|| E.PORTAL || E.REGIONAL
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           376                 --             AND E.RELATORIO IN (''SMS'',''VOZ'')
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           377   		--	GROUP BY I.REGIONAL,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           378   		--	         E.RELATORIO,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           379   		--	         TO_DATE(SUBSTR(I.DATA_HR_EVENTO,1,8),''YYYYMMDD''),
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           380   		--	         SYSDATE,
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           381   		--	         '||X.DT_JULIANA||'';
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           382                 --
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           383 		--	EXECUTE IMMEDIATE TrunTbl;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           384 		--END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           385
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           386   		BEGIN
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           387   		   UPDATE TB_CONTROLE_GARANTIA
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           388   		      SET FLAG_PROCESSO = 'S',
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           389   		          DT_EXECUCAO   = SYSDATE
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           390   		    WHERE DIA_PROCESSO  = TO_DATE(X.DT_PROCESSO,'YYYYMMDD');
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           391   		  exception
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           392   		    when others then
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           393   		       RAISE_APPLICATION_ERROR(-21000,'ERRO AO ATUALIZAR O FLAG NA DATA PROCESSADA');
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           394   		END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           395
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           396   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           397   		DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           398   		SELECT TO_CHAR(SYSDATE,'DD/MM/YYYY HH24:MI:SS')  INTO V_DATA FROM DUAL;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           399   		DBMS_OUTPUT.PUT_LINE('FINALIZOU EM :'||V_DATA);
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           400   		COMMIT;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           401 	END LOOP;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           402   END;
IRPTOW     PRC_GAR_PROC_OUT_TESTE         PROCEDURE           403 END;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             1 procedure PRC_INPUT_VS_OUTPUT is
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             2 iFlagExiste number := 0;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             3 BEGIN
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             4    DBMS_OUTPUT.PUT_LINE('Arquivos nao coletados pelo Plano de Normalizacao:');
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             5    DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             6    DBMS_OUTPUT.PUT_LINE('REG ARQUIVO_SAIDA                                                TOTAL_CDRS');

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             7    DBMS_OUTPUT.PUT_LINE('--- ------------------------------------------------------------ ----------');
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             8    FOR X IN (
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE             9       select REGIONAL,
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            10              ARQUIVO_SAIDA,
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            11              sum(TOTAL_CDRS) as CDRS
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            12       from OUTPUT_RECORDS
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            13       where CALL_DATE between trunc(sysdate-11,'dd') and trunc(sysdate-1,'dd')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            14       and (DESTINO = 'F_FIS_O|BA' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            15            DESTINO = 'F_FIS_O|CO' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            16            DESTINO = 'F_FIS_O|PR' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            17            DESTINO = 'F_FIS_O|RJ' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            18            DESTINO = 'F_FIS_O|RS' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            19            DESTINO = 'F_FIS_O|SP')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            20       group by REGIONAL,ARQUIVO_SAIDA
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            21    )
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            22    LOOP
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            23       select count(*) into iFlagExiste
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            24       from input_records
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            25       where CALL_DATE between trunc(sysdate-11,'dd') and trunc(sysdate-1,'dd')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            26       and REGIONAL = X.REGIONAL
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            27       and (ELEMENTO_REDE = 'F_FIS_I|BA' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            28            ELEMENTO_REDE = 'F_FIS_I|CO' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            29            ELEMENTO_REDE = 'F_FIS_I|PR' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            30            ELEMENTO_REDE = 'F_FIS_I|RJ' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            31            ELEMENTO_REDE = 'F_FIS_I|RS' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            32            ELEMENTO_REDE = 'F_FIS_I|SP')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            33       and ARQUIVO_ENTRADA = X.ARQUIVO_SAIDA;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            34
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            35       if iFlagExiste = 0 then
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            36          DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            37                               RPAD(X.ARQUIVO_SAIDA,60,' ')||' '||
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            38                               LPAD(X.CDRS,10,' '));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            39       else
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            40          iFlagExiste := 0;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            41       end if;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            42    END LOOP;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            43
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            44    DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            45    DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            46
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            47    DBMS_OUTPUT.PUT_LINE('Arquivos nao coletados pelo Plano Batch:');
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            48    DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            49    DBMS_OUTPUT.PUT_LINE('REG ARQUIVO_SAIDA                                                TOTAL_CDRS');
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            50    DBMS_OUTPUT.PUT_LINE('--- ------------------------------------------------------------ ----------');
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            51    FOR X IN (
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            52       select REGIONAL,
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            53              ARQUIVO_SAIDA,
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            54              sum(TOTAL_CDRS) as CDRS
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            55       from OUTPUT_RECORDS
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            56       where CALL_DATE between trunc(sysdate-11,'dd') and trunc(sysdate-1,'dd')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            57       and (DESTINO = 'FCDR_O|BA' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            58            DESTINO = 'FCDR_O|CO' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            59            DESTINO = 'FCDR_O|PR' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            60            DESTINO = 'FCDR_O|RJ' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            61            DESTINO = 'FCDR_O|RS' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            62            DESTINO = 'FCDR_O|SP')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            63       group by REGIONAL,ARQUIVO_SAIDA
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            64    )
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            65    LOOP
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            66       select count(*) into iFlagExiste
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            67       from input_records
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            68       where CALL_DATE between trunc(sysdate-11,'dd') and trunc(sysdate-1,'dd')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            69       and REGIONAL = X.REGIONAL
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            70       and (ELEMENTO_REDE like 'FCDR|BA%' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            71            ELEMENTO_REDE like 'FCDR|CO%' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            72            ELEMENTO_REDE like 'FCDR|PR%' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            73            ELEMENTO_REDE like 'FCDR|RJ%' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            74            ELEMENTO_REDE like 'FCDR|RS%' or
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            75            ELEMENTO_REDE like 'FCDR|SP%')
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            76       and ARQUIVO_ENTRADA = X.ARQUIVO_SAIDA;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            77
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            78       if iFlagExiste = 0 then
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            79          DBMS_OUTPUT.PUT_LINE(RPAD(X.REGIONAL,3,' ')||' '||
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            80                               RPAD(X.ARQUIVO_SAIDA,60,' ')||' '||
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            81                               LPAD(X.CDRS,10,' '));
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            82       else
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            83          iFlagExiste := 0;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            84       end if;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            85    END LOOP;
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            86
IRPTOW     PRC_INPUT_VS_OUTPUT            PROCEDURE            87 END PRC_INPUT_VS_OUTPUT;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             1 PROCEDURE PRC_PESQUISA_GAR_PROCESS IS
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             2 BEGIN
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             3 DECLARE
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             4  vSmt varchar2(2000) := NULL;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             5   BEGIN
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             6
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             7 ------RETIRANDO DUPLICADOS TB_GAR_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             8
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE             9    DELETE FROM TB_GAR_PROCESS_DUPL;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            10
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            11    FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            12               FROM ALL_TAB_PARTITIONS WHERE TABLE_NAME = 'GAR_PROCESS_REC'
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            13               ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            14
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            15   BEGIN
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            16

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            17
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            18
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            19     vSmt := 'INSERT INTO TB_GAR_PROCESS_DUPL SELECT REGIONAL, ETAPA, ELEMENTO_REDE, FILE_REGISTRY_ID, DATA_HR_EVENTO, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE, FLAG_COBILLING, DIRECAO_CHAMADA,COUNT(*)
                                                                   TOTAL

IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            20                FROM GAR_PROCESS_REC partition ('||X.PARTITION_NAME||')'||'
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            21            GROUP BY REGIONAL, ETAPA, ELEMENTO_REDE, FILE_REGISTRY_ID, DATA_HR_EVENTO, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE, FLAG_COBILLING, DIRECAO_CHAMADA HAVING COUNT(*) > 1';
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            22     --DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            23      DBMS_OUTPUT.PUT_LINE('Parition: '||X.PARTITION_NAME);
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            24    EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            25   END;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            26     END LOOP;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            27   END;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            28   COMMIT;
IRPTOW     PRC_PESQUISA_GAR_PROCESS       PROCEDURE            29 END;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             1 PROCEDURE PRC_PESQUISA_INPUT IS
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             2 BEGIN
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             3 DECLARE
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             4  vSmt varchar2(2000) := NULL;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             5   BEGIN
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             6
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             7 ------RETIRANDO DUPLICADOS TB_INPUT_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             8  --DELETE FROM TB_INPUT_DUPL2;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE             9
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            10    FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            11               FROM ALL_TAB_PARTITIONS WHERE TABLE_NAME = 'INPUT_RECORDS'
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            12               ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            13
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            14   BEGIN
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            15     --vSmt := 'INSERT INTO TB_INPUT_DUPL2 SELECT REGIONAL,ELEMENTO_REDE,ARQUIVO_ENTRADA,FILE_REGISTRY_ID,DATA_HR_EVENTO,DATA_COLETA,TIPO_CHAMADA,OPER_VISITADA,NATUREZA,CODIGO_REJEICAO,DATA_PROC_TERC,C
                                                                  OUNT(*) TOTAL

IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            16     --  FROM INPUT_RECORDS partition ('||X.PARTITION_NAME||')'||'
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            17      --                          GROUP BY REGIONAL,ELEMENTO_REDE,ARQUIVO_ENTRADA,FILE_REGISTRY_ID,DATA_HR_EVENTO,DATA_COLETA,TIPO_CHAMADA,OPER_VISITADA,NATUREZA,CODIGO_REJEICAO, DATA_PROC_TERC HAVING
                                                                  COUNT(*) > 1';

IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            18
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            19     --DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            20      DBMS_OUTPUT.PUT_LINE('Parition: '||X.PARTITION_NAME);
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            21    EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            22   END;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            23     END LOOP;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            24   END;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            25   COMMIT;
IRPTOW     PRC_PESQUISA_INPUT             PROCEDURE            26 END;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             1 PROCEDURE PRC_PESQUISA_OUTPUT IS
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             2 BEGIN
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             3 DECLARE
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             4  vSmt varchar2(2000) := NULL;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             5   BEGIN
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             6
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             7 ------RETIRANDO DUPLICADOS TB_OUTPUT_DUPL2 ----------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             8
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE             9    --DELETE FROM TB_OUTPUT_DUPL2;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            10
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            11    FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            12               FROM ALL_TAB_PARTITIONS WHERE TABLE_NAME = 'OUTPUT_RECORDS'
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            13               ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            14
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            15   BEGIN
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            16     --vSmt := 'INSERT INTO TB_OUTPUT_DUPL2 SELECT REGIONAL, ELEMENTO_REDE, FILE_REGISTRY_ID, DESTINO, DATA_ENTREGA, ARQUIVO_SAIDA, DATA_EVENTO, IDENT_REGISTRO, AREA_NUMERO_A,COUNT(*) TOTAL
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            17     --  FROM OUTPUT_RECORDS partition ('||X.PARTITION_NAME||')'||'
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            18     --                           GROUP BY REGIONAL, ELEMENTO_REDE, FILE_REGISTRY_ID, DESTINO, DATA_ENTREGA, ARQUIVO_SAIDA, DATA_EVENTO, IDENT_REGISTRO, AREA_NUMERO_A HAVING COUNT(*) > 1';
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            19     --DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            20      DBMS_OUTPUT.PUT_LINE('Parition: '||X.PARTITION_NAME);
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            21    EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            22   END;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            23     END LOOP;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            24   END;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            25   COMMIT;
IRPTOW     PRC_PESQUISA_OUTPUT            PROCEDURE            26 END;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             1 PROCEDURE PRC_PESQUISA_PROCESS IS
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             2 BEGIN
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             3 DECLARE
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             4  vSmt varchar2(2000) := NULL;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             5   BEGIN
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             6
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             7 ------RETIRANDO DUPLICADOS TB_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             8
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE             9    DELETE FROM TB_PROCESS_DUPL;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            10
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            11    FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            12               FROM ALL_TAB_PARTITIONS WHERE TABLE_NAME = 'PROCESS_RECORDS'
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            13               ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            14
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            15   BEGIN
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            16
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            17
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            18     vSmt := 'INSERT INTO TB_PROCESS_DUPL SELECT REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE,COUNT(*) TOTAL
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            19       FROM PROCESS_RECORDS partition ('||X.PARTITION_NAME||')'||'
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            20                                GROUP BY REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE HAVING COUNT(*) > 1';
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            21     --DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            22      DBMS_OUTPUT.PUT_LINE('Parition: '||X.PARTITION_NAME);
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            23    EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            24   END;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            25     END LOOP;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            26   END;

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            27   COMMIT;
IRPTOW     PRC_PESQUISA_PROCESS           PROCEDURE            28 END;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             1 PROCEDURE PRC_PESQUISA_PROCESS_AMALRIK IS
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             2 BEGIN
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             3 DECLARE
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             4  vSmt varchar2(2000) := NULL;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             5   BEGIN
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             6
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             7 ------RETIRANDO DUPLICADOS TB_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             8
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE             9    DELETE FROM TB_PROCESS_DUPL;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            10
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            11    FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            12               FROM ALL_TAB_PARTITIONS WHERE TABLE_NAME = 'PROCESS_RECORDS'
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            13               ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            14
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            15   BEGIN
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            16
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            17
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            18     vSmt := 'INSERT INTO TB_PROCESS_DUPL SELECT REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE,COUNT(*) TOTAL
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            19       FROM PROCESS_RECORDS partition ('||X.PARTITION_NAME||')'||'
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            20                                GROUP BY REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE HAVING COUNT(*) > 1';
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            21     --DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            22      DBMS_OUTPUT.PUT_LINE('Parition: '||X.PARTITION_NAME);
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            23    EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            24   END;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            25     END LOOP;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            26   END;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            27   COMMIT;
IRPTOW     PRC_PESQUISA_PROCESS_AMALRIK   PROCEDURE            28 END;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_GAR IS
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             3 DECLARE
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             4  V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             5  V_DATA     VARCHAR2(10) := NULL;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             6 BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             7
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             8 ------RETIRANDO DUPLICADOS TB_GAR_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE             9   FOR X IN (select
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            10             NVL(REGIONAL,' ')           REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            11             NVL(ETAPA,' ')        ETAPA,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            12             NVL(ELEMENTO_REDE,' ')      ELEMENTO_REDE,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            13             NVL(FILE_REGISTRY_ID,' ')   FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            14             NVL(DATA_HR_EVENTO,' ')     DATA_HR_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            15             NVL(ORIGEM,' ')             ORIGEM,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            16             NVL(STATUS,' ')             STATUS,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            17             NVL(TIPO_CDR,' ')           TIPO_CDR,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            18             NVL(TIPO_ASSINANTE,' ')     TIPO_ASSINANTE,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            19             NVL(FLAG_COBILLING,' ')     FLAG_COBILLING,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            20             NVL(DIRECAO_CHAMADA,' ')    DIRECAO_CHAMADA,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            21             TOTAL from TB_GAR_PROCESS_DUPL) LOOP
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            22
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            23     --DBMS_OUTPUT.PUT_LINE('REGISTRO=>'||X.DATA_HR_EVENTO||' '||X.REGIONAL||' '||X.ETAPA||' '||X.ELEMENTO_REDE||' '||X.FILE_REGISTRY_ID||' '||X.STATUS);
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            24
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            25     BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            26     FOR Y IN (SELECT T1.*,
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            27                 ROWID ENDERECO
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            28         FROM GAR_PROCESS_REC T1
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            29         WHERE T1.DATA_HR_EVENTO     = X.DATA_HR_EVENTO
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            30           AND T1.REGIONAL           = X.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            31           AND T1.ELEMENTO_REDE      = X.ELEMENTO_REDE
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            32           AND (T1.FILE_REGISTRY_ID  = X.FILE_REGISTRY_ID   OR T1.FILE_REGISTRY_ID    IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            33           AND (T1.ETAPA             = X.ETAPA          OR T1.ETAPA    IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            34           AND (T1.ORIGEM            = X.ORIGEM         OR T1.ORIGEM   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            35           AND (T1.STATUS            = X.STATUS         OR T1.STATUS   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            36           AND (T1.TIPO_CDR          = X.TIPO_CDR       OR T1.TIPO_CDR IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            37           AND (T1.TIPO_ASSINANTE    = X.TIPO_ASSINANTE OR T1.TIPO_ASSINANTE IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            38           AND (T1.FLAG_COBILLING    = X.FLAG_COBILLING OR T1.FLAG_COBILLING IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            39           AND (T1.DIRECAO_CHAMADA    = X.DIRECAO_CHAMADA OR T1.DIRECAO_CHAMADA IS NULL)
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            40           AND ROWNUM               <= (TO_NUMBER(X.TOTAL) -1)) LOOP
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            41
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            42     -- DBMS_OUTPUT.PUT_LINE('***ROWID=>'||Y.ENDERECO||' REGISTRO=>'||Y.DATA_HR_EVENTO||' '||Y.REGIONAL||' '||Y.ETAPA||' '||Y.FILE_REGISTRY_ID||' '||Y.STATUS);
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            43
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            44      BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            45        DELETE FROM GAR_PROCESS_REC
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            46           WHERE ROWID = Y.ENDERECO;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            47          EXCEPTION
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            48           WHEN OTHERS THEN
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            49            DBMS_OUTPUT.PUT_LINE('ROWID NAO ENCONTRADO');
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            50          END;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            51
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            52     END LOOP;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            53
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            54     END;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            55    END LOOP;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            56    COMMIT;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            57   END;
IRPTOW     PRC_RETIRA_DUPL_GAR            PROCEDURE            58 END;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_GAR_PART IS
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             3 DECLARE
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             4 	vSmt varchar2(2000) := NULL;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             5  	V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             6  	V_FLAG	   NUMBER(1)    := 0;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             7
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             8 --------RETIRANDO REGISTROS DUPLICADOS NA TABELA GAR_PROCESS_REC
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE             9  	BEGIN

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            10 		FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            11         	            FROM ALL_TAB_PARTITIONS
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            12         	           WHERE TABLE_NAME = 'GAR_PROCESS_REC'
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            13         	        ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            14
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            15 			delete FROM TB_GAR_DUPL;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            16
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            17 			BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            18      				vSmt := 'INSERT INTO TB_GAR_DUPL SELECT REGIONAL, ETAPA, ELEMENTO_REDE, FILE_REGISTRY_ID,DATA_HR_EVENTO, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE, FLAG_COBILLING, DIRECAO_CHAMADA,COUNT(*) TOT
                                                                  AL FROM GAR_PROCESS_REC partition ('||X.PARTITION_NAME||')'||' GROUP BY REGIONAL, ETAPA, ELEMENTO_REDE, FILE_REGISTRY_ID,DATA_HR_EVENTO, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE, FLAG_COBILLING, DIREC
                                                                  AO_CHAMADA HAVING COUNT(*) > 1';

IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            19      				DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            20     				DBMS_OUTPUT.PUT_LINE('Particao: '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            21     				DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,1,220));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            22      				EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            23
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            24 				V_FLAG :=0;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            25 				FOR Y IN (select
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            26 						NVL(REGIONAL,' ')            REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            27 						NVL(ETAPA,' ')               ETAPA,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            28 						NVL(ELEMENTO_REDE,' ')       ELEMENTO_REDE,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            29 						NVL(FILE_REGISTRY_ID,' ')    FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            30 						NVL(DATA_HR_EVENTO,' ')      DATA_HR_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            31 						NVL(ORIGEM,' ')              ORIGEM,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            32 						NVL(STATUS,' ')              STATUS,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            33 						NVL(TIPO_CDR,' ')            TIPO_CDR,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            34 						NVL(TIPO_ASSINANTE,' ')      TIPO_ASSINANTE,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            35 						NVL(FLAG_COBILLING,' ')      FLAG_COBILLING,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            36 						NVL(DIRECAO_CHAMADA,' ')     DIRECAO_CHAMADA,
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            37 						TOTAL
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            38 				           from TB_GAR_DUPL) LOOP
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            39
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            40
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            41 					BEGIN
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            42 					V_FLAG := 1;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            43 					vSmt  := 'DELETE FROM GAR_PROCESS_REC partition ('||X.PARTITION_NAME||')'
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            44 					         ||' WHERE DATA_HR_EVENTO = '''||Y.DATA_HR_EVENTO
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            45 					         ||''' AND REGIONAL = '''||Y.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            46 					         ||''' AND ELEMENTO_REDE = '''||Y.ELEMENTO_REDE
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            47 					         ||''' AND (FILE_REGISTRY_ID  = '''||Y.FILE_REGISTRY_ID
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            48 					         ||''' OR FILE_REGISTRY_ID IS NULL) AND (ETAPA = '''||Y.ETAPA
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            49 					         ||''' OR ETAPA    IS NULL) AND (ORIGEM = '''||Y.ORIGEM
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            50 					         ||''' OR ORIGEM   IS NULL) AND (STATUS = '''||Y.STATUS
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            51 					         ||''' OR STATUS   IS NULL) AND (TIPO_CDR = '''||Y.TIPO_CDR
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            52 					         ||''' OR TIPO_CDR IS NULL) AND (TIPO_ASSINANTE = '''||Y.TIPO_ASSINANTE
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            53 					         ||''' OR TIPO_ASSINANTE  IS NULL) AND (FLAG_COBILLING = '''||Y.FLAG_COBILLING
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            54 						 ||''' OR FLAG_COBILLING  IS NULL) AND (DIRECAO_CHAMADA = '''||Y.DIRECAO_CHAMADA
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            55  						 ||''' OR DIRECAO_CHAMADA IS NULL) AND ROWNUM <= (TO_NUMBER('||Y.TOTAL
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            56 					         ||') -1)';
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            57 	    				--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,1,200));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            58     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,200,200));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            59     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,300,200));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            60     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,500,200));
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            61 					EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            62 					END;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            63 					--DBMS_OUTPUT.PUT_LINE('deletou registro NA => '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            64         			END LOOP;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            65         			if V_FLAG = 0 THEN
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            66 					DBMS_OUTPUT.PUT_LINE('NAO H registro NA => '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            67 				END IF;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            68 			END;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            69    		END LOOP;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            70    	END;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            71    	COMMIT;
IRPTOW     PRC_RETIRA_DUPL_GAR_PART       PROCEDURE            72 END;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_INP IS
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             3 --DECLARE
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             4 -- V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             5 -- V_DATA     VARCHAR2(10) := NULL;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             6 --BEGIN
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             7
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             8 ------RETIRANDO DUPLICADOS TB_OUTPUT_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE             9   --FOR X IN (select
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            10   --NVL(REGIONAL,' ')               REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            11   --NVL(ELEMENTO_REDE,' ')          ELEMENTO_REDE,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            12   --NVL(FILE_REGISTRY_ID,' ')       FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            13   --NVL(DESTINO,' ')                DESTINO,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            14   --NVL(DATA_ENTREGA,' ')           DATA_ENTREGA,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            15   --NVL(ARQUIVO_SAIDA,' ')          ARQUIVO_SAIDA,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            16   --NVL(DATA_EVENTO,' ')            DATA_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            17   --NVL(IDENT_REGISTRO,' ')         IDENT_REGISTRO,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            18   --NVL(AREA_NUMERO_A,' ')          AREA_NUMERO_A,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            19   --TOTAL
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            20   --from TB_OUTPUT_DUPL2) LOOP
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            21   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            22   --  DBMS_OUTPUT.PUT_LINE('1-REGISTRO=>'||X.DATA_EVENTO||' '||X.REGIONAL||' '||X.ARQUIVO_SAIDA);
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            23   --  DBMS_OUTPUT.PUT_LINE('2-REGISTRO=>'||X.ELEMENTO_REDE||' '||X.FILE_REGISTRY_ID||' '||X.DESTINO);
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            24   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            25   --  BEGIN
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            26   --  FOR Y IN (SELECT T1.*,
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            27   --              ROWID ENDERECO
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            28   --      FROM OUTPUT_RECORDS T1
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            29   --      WHERE T1.DATA_EVENTO        = X.DATA_EVENTO
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            30   --        AND T1.REGIONAL           = X.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            31   --        AND T1.ELEMENTO_REDE      = X.ELEMENTO_REDE

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            32   -- AND T1.FILE_REGISTRY_ID   = X.FILE_REGISTRY_ID
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            33   -- AND T1.DESTINO            = X.DESTINO
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            34   -- AND T1.DATA_ENTREGA       = X.DATA_ENTREGA
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            35   -- AND T1.ARQUIVO_SAIDA      = X.ARQUIVO_SAIDA
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            36   -- AND (T1.IDENT_REGISTRO    = X.IDENT_REGISTRO OR T1.IDENT_REGISTRO   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            37   -- AND (T1.AREA_NUMERO_A     = X.AREA_NUMERO_A  OR T1.AREA_NUMERO_A        IS NULL)
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            38   -- AND ROWNUM             <= (TO_NUMBER(X.TOTAL) -1)) LOOP
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            39   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            40   --   DBMS_OUTPUT.PUT_LINE('***ROWID=>'||Y.ENDERECO||' REGISTRO=>'||Y.DATA_EVENTO||' '||Y.REGIONAL||' '||Y.ARQUIVO_SAIDA);
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            41   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            42   --   BEGIN
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            43   --     DELETE FROM OUTPUT_RECORDS
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            44   --        WHERE ROWID = Y.ENDERECO;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            45   --       EXCEPTION
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            46   --        WHEN OTHERS THEN
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            47   --         DBMS_OUTPUT.PUT_LINE('ROWID NAO ENCONTRADO');
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            48   --       END;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            49   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            50   --  END LOOP;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            51   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            52   --   END;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            53   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            54   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            55   --
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            56   -- END LOOP;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            57   --END;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            58   NULL;
IRPTOW     PRC_RETIRA_DUPL_INP            PROCEDURE            59 END;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_OUT IS
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             3 --DECLARE
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             4 -- V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             5 -- V_DATA     VARCHAR2(10) := NULL;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             6 --BEGIN
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             7 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             8 --------RETIRANDO DUPLICADOS TB_OUTPUT_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE             9 --  FOR X IN (select
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            10 --  NVL(REGIONAL,' ')               REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            11 --  NVL(ELEMENTO_REDE,' ')          ELEMENTO_REDE,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            12 --  NVL(FILE_REGISTRY_ID,' ')       FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            13 --  NVL(DESTINO,' ')                DESTINO,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            14 --  NVL(DATA_ENTREGA,' ')           DATA_ENTREGA,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            15 --  NVL(ARQUIVO_SAIDA,' ')          ARQUIVO_SAIDA,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            16 --  NVL(DATA_EVENTO,' ')            DATA_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            17 --  NVL(IDENT_REGISTRO,' ')         IDENT_REGISTRO,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            18 --  NVL(AREA_NUMERO_A,' ')          AREA_NUMERO_A,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            19 --  TOTAL
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            20 --  from TB_OUTPUT_DUPL2) LOOP
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            21 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            22 --    DBMS_OUTPUT.PUT_LINE('1-REGISTRO=>'||X.DATA_EVENTO||' '||X.REGIONAL||' '||X.ARQUIVO_SAIDA);
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            23 --    DBMS_OUTPUT.PUT_LINE('2-REGISTRO=>'||X.ELEMENTO_REDE||' '||X.FILE_REGISTRY_ID||' '||X.DESTINO);
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            24 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            25 --    BEGIN
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            26 --    FOR Y IN (SELECT T1.*,
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            27 --                ROWID ENDERECO
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            28 --        FROM OUTPUT_RECORDS T1
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            29 --        WHERE T1.DATA_EVENTO        = X.DATA_EVENTO
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            30 --          AND T1.REGIONAL           = X.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            31 --          AND T1.ELEMENTO_REDE      = X.ELEMENTO_REDE
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            32 --   AND T1.DESTINO            = X.DESTINO
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            33 --   AND T1.DATA_ENTREGA       = X.DATA_ENTREGA
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            34 --   AND T1.ARQUIVO_SAIDA      = X.ARQUIVO_SAIDA
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            35 --   AND (T1.FILE_REGISTRY_ID  = X.FILE_REGISTRY_ID OR T1.FILE_REGISTRY_ID IS NULL)
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            36 --   AND (T1.IDENT_REGISTRO    = X.IDENT_REGISTRO   OR T1.IDENT_REGISTRO   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            37 --   AND (T1.AREA_NUMERO_A     = X.AREA_NUMERO_A    OR T1.AREA_NUMERO_A    IS NULL)
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            38 --   AND ROWNUM             <= (TO_NUMBER(X.TOTAL) -1)) LOOP
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            39 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            40 --     DBMS_OUTPUT.PUT_LINE('***ROWID=>'||Y.ENDERECO||' REGISTRO=>'||Y.DATA_EVENTO||' '||Y.REGIONAL||' '||Y.ARQUIVO_SAIDA);
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            41 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            42 --     BEGIN
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            43 --       DELETE FROM OUTPUT_RECORDS
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            44 --          WHERE ROWID = Y.ENDERECO;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            45 --         EXCEPTION
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            46 --          WHEN OTHERS THEN
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            47 --           DBMS_OUTPUT.PUT_LINE('ROWID NAO ENCONTRADO');
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            48 --         END;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            49 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            50 --    END LOOP;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            51 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            52 --    END;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            53 --
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            54 --   END LOOP;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            55 --   COMMIT;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            56 --  END;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            57 NULL;
IRPTOW     PRC_RETIRA_DUPL_OUT            PROCEDURE            58 END;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_PRO IS
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             3 DECLARE
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             4  V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             5  V_DATA     VARCHAR2(10) := NULL;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             6 BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             7
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             8 ------RETIRANDO DUPLICADOS TB_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE             9   FOR X IN (select
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            10             NVL(REGIONAL,' ')            REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            11             NVL(ELEMENTO_REDE,' ')       ELEMENTO_REDE,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            12             NVL(DATA_HR_EVENTO,' ')      DATA_HR_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            13             NVL(FILE_REGISTRY_ID,' ')    FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            14             NVL(ETAPA,' ')               ETAPA,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            15             NVL(ORIGEM,' ')              ORIGEM,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            16             NVL(STATUS,' ')              STATUS,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            17             NVL(TIPO_CDR,' ')            TIPO_CDR,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            18             NVL(TIPO_ASSINANTE,' ')      TIPO_ASSINANTE,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            19             TOTAL from TB_PROCESS_DUPL) LOOP
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            20
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            21     --DBMS_OUTPUT.PUT_LINE('REGISTRO=>'||X.DATA_HR_EVENTO||' '||X.REGIONAL||' '||X.ETAPA||' '||X.ELEMENTO_REDE||' '||X.FILE_REGISTRY_ID||' '||X.STATUS);
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            22
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            23     BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            24     FOR Y IN (SELECT T1.*,
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            25                 ROWID ENDERECO
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            26         FROM PROCESS_RECORDS T1
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            27         WHERE T1.DATA_HR_EVENTO     = X.DATA_HR_EVENTO
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            28           AND T1.REGIONAL           = X.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            29           AND T1.ELEMENTO_REDE      = X.ELEMENTO_REDE
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            30           AND (T1.FILE_REGISTRY_ID  = X.FILE_REGISTRY_ID OR T1.FILE_REGISTRY_ID    IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            31           AND (T1.ETAPA             = X.ETAPA          OR T1.ETAPA    IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            32           AND (T1.ORIGEM            = X.ORIGEM         OR T1.ORIGEM   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            33           AND (T1.STATUS            = X.STATUS         OR T1.STATUS   IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            34           AND (T1.TIPO_CDR          = X.TIPO_CDR       OR T1.TIPO_CDR IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            35           AND (T1.TIPO_ASSINANTE    = X.TIPO_ASSINANTE OR T1.TIPO_ASSINANTE IS NULL)
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            36           AND ROWNUM               <= (TO_NUMBER(X.TOTAL) -1)) LOOP
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            37
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            38     -- DBMS_OUTPUT.PUT_LINE('***ROWID=>'||Y.ENDERECO||' REGISTRO=>'||Y.DATA_HR_EVENTO||' '||Y.REGIONAL||' '||Y.ETAPA||' '||Y.FILE_REGISTRY_ID||' '||Y.STATUS);
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            39
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            40      BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            41        DELETE FROM PROCESS_RECORDS
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            42           WHERE ROWID = Y.ENDERECO;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            43          EXCEPTION
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            44           WHEN OTHERS THEN
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            45            DBMS_OUTPUT.PUT_LINE('ROWID NAO ENCONTRADO');
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            46          END;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            47
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            48     END LOOP;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            49
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            50     END;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            51    END LOOP;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            52    COMMIT;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            53   END;
IRPTOW     PRC_RETIRA_DUPL_PRO            PROCEDURE            54 END;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             1 PROCEDURE PRC_RETIRA_DUPL_PRO_PART IS
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             2 BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             3 DECLARE
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             4 	vSmt varchar2(2000) := NULL;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             5  	V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             6  	V_FLAG	   NUMBER(1)    := 0;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             7
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             8 --------RETIRANDO REGISTROS DUPLICADOS NA TABELA PROCESS_RECORDS
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE             9  	BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            10 		FOR X IN (SELECT PARTITION_NAME
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            11         	            FROM ALL_TAB_PARTITIONS
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            12         	           WHERE TABLE_NAME = 'PROCESS_RECORDS'
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            13         	        ORDER BY PARTITION_NAME) LOOP
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            14
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            15 			delete FROM TB_PROCESS_DUPL1;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            16
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            17 			BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            18      				vSmt := 'INSERT INTO TB_PROCESS_DUPL1 SELECT REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE,COUNT(*) TOTAL FROM PROCESS_RECORDS par
                                                                  tition ('||X.PARTITION_NAME||')'||' GROUP BY REGIONAL, ELEMENTO_REDE, DATA_HR_EVENTO, FILE_REGISTRY_ID, ETAPA, ORIGEM, STATUS, TIPO_CDR, TIPO_ASSINANTE HAVING COUNT(*) > 1';

IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            19      				DBMS_OUTPUT.PUT_LINE(chr(0));
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            20     				DBMS_OUTPUT.PUT_LINE('Particao: '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            21     				DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,1,220));
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            22      				EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            23
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            24 				V_FLAG :=0;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            25 				FOR Y IN (select
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            26 				          NVL(REGIONAL,' ')            REGIONAL,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            27 				          NVL(ELEMENTO_REDE,' ')       ELEMENTO_REDE,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            28 				          NVL(DATA_HR_EVENTO,' ')      DATA_HR_EVENTO,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            29 				          NVL(FILE_REGISTRY_ID,' ')    FILE_REGISTRY_ID,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            30 				          NVL(ETAPA,' ')               ETAPA,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            31 				          NVL(ORIGEM,' ')              ORIGEM,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            32 				          NVL(STATUS,' ')              STATUS,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            33 				          NVL(TIPO_CDR,' ')            TIPO_CDR,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            34 				          NVL(TIPO_ASSINANTE,' ')      TIPO_ASSINANTE,
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            35 				          TOTAL from TB_PROCESS_DUPL1) LOOP
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            36
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            37
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            38 					BEGIN
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            39 					V_FLAG := 1;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            40 					vSmt  := 'DELETE FROM PROCESS_RECORDS partition ('||X.PARTITION_NAME||')'
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            41 					         ||' WHERE DATA_HR_EVENTO = '''||Y.DATA_HR_EVENTO
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            42 					         ||''' AND REGIONAL = '''||Y.REGIONAL
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            43 					         ||''' AND ELEMENTO_REDE = '''||Y.ELEMENTO_REDE
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            44 					         ||''' AND (FILE_REGISTRY_ID  = '''||Y.FILE_REGISTRY_ID
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            45 					         ||''' OR FILE_REGISTRY_ID IS NULL) AND (ETAPA = '''||Y.ETAPA
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            46 					         ||''' OR ETAPA    IS NULL) AND (ORIGEM = '''||Y.ORIGEM
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            47 					         ||''' OR ORIGEM   IS NULL) AND (STATUS = '''||Y.STATUS
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            48 					         ||''' OR STATUS   IS NULL) AND (TIPO_CDR = '''||Y.TIPO_CDR
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            49 					         ||''' OR TIPO_CDR IS NULL) AND (TIPO_ASSINANTE = '''||Y.TIPO_ASSINANTE
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            50 					         ||''' OR TIPO_ASSINANTE IS NULL) AND ROWNUM <= (TO_NUMBER('||Y.TOTAL
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            51 					         ||') -1)';
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            52 	    				--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,1,200));

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            53     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,200,200));
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            54     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,300,200));
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            55     					--DBMS_OUTPUT.PUT_LINE('vSmt: '||substr(vSmt,500,200));
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            56 					EXECUTE IMMEDIATE vSmt;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            57 					END;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            58 					--DBMS_OUTPUT.PUT_LINE('deletou registro NA => '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            59         			END LOOP;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            60         			if V_FLAG = 0 THEN
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            61 					DBMS_OUTPUT.PUT_LINE('NAO H registro NA => '||X.PARTITION_NAME);
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            62 				END IF;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            63 			END;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            64    		END LOOP;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            65    	END;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            66    	COMMIT;
IRPTOW     PRC_RETIRA_DUPL_PRO_PART       PROCEDURE            67 END;
IRPTOW     PRC_TESTE                      PROCEDURE             1 PROCEDURE PRC_TESTE IS
IRPTOW     PRC_TESTE                      PROCEDURE             2 BEGIN
IRPTOW     PRC_TESTE                      PROCEDURE             3 DECLARE
IRPTOW     PRC_TESTE                      PROCEDURE             4  V_ENDERECO VARCHAR2(18) := NULL;
IRPTOW     PRC_TESTE                      PROCEDURE             5  V_DATA     VARCHAR2(10) := NULL;
IRPTOW     PRC_TESTE                      PROCEDURE             6 BEGIN
IRPTOW     PRC_TESTE                      PROCEDURE             7
IRPTOW     PRC_TESTE                      PROCEDURE             8 ------RETIRANDO DUPLICADOS TB_PROCESS_DUPL ----------------------------------------------------------------------
IRPTOW     PRC_TESTE                      PROCEDURE             9   FOR X IN (select
IRPTOW     PRC_TESTE                      PROCEDURE            10             NVL(REGIONAL,' ')            REGIONAL,
IRPTOW     PRC_TESTE                      PROCEDURE            11             NVL(ELEMENTO_REDE,' ')       ELEMENTO_REDE,
IRPTOW     PRC_TESTE                      PROCEDURE            12             NVL(DATA_HR_EVENTO,' ')      DATA_HR_EVENTO,
IRPTOW     PRC_TESTE                      PROCEDURE            13             NVL(FILE_REGISTRY_ID,' ')    FILE_REGISTRY_ID,
IRPTOW     PRC_TESTE                      PROCEDURE            14             NVL(ETAPA,' ')               ETAPA,
IRPTOW     PRC_TESTE                      PROCEDURE            15             NVL(ORIGEM,' ')              ORIGEM,
IRPTOW     PRC_TESTE                      PROCEDURE            16             NVL(STATUS,' ')              STATUS,
IRPTOW     PRC_TESTE                      PROCEDURE            17             NVL(TIPO_CDR,' ')            TIPO_CDR,
IRPTOW     PRC_TESTE                      PROCEDURE            18             NVL(TIPO_ASSINANTE,' ')      TIPO_ASSINANTE,
IRPTOW     PRC_TESTE                      PROCEDURE            19             TOTAL from TB_PROCESS_DUPL) LOOP
IRPTOW     PRC_TESTE                      PROCEDURE            20
IRPTOW     PRC_TESTE                      PROCEDURE            21     --DBMS_OUTPUT.PUT_LINE('REGISTRO=>'||X.DATA_HR_EVENTO||' '||X.REGIONAL||' '||X.ETAPA||' '||X.ELEMENTO_REDE||' '||X.FILE_REGISTRY_ID||' '||X.STATUS);
IRPTOW     PRC_TESTE                      PROCEDURE            22
IRPTOW     PRC_TESTE                      PROCEDURE            23     BEGIN
IRPTOW     PRC_TESTE                      PROCEDURE            24     FOR Y IN (SELECT T1.*,
IRPTOW     PRC_TESTE                      PROCEDURE            25                 ROWID ENDERECO
IRPTOW     PRC_TESTE                      PROCEDURE            26         FROM PROCESS_RECORDS T1
IRPTOW     PRC_TESTE                      PROCEDURE            27         WHERE T1.DATA_HR_EVENTO     = X.DATA_HR_EVENTO
IRPTOW     PRC_TESTE                      PROCEDURE            28           AND T1.REGIONAL           = X.REGIONAL
IRPTOW     PRC_TESTE                      PROCEDURE            29           AND T1.ELEMENTO_REDE      = X.ELEMENTO_REDE
IRPTOW     PRC_TESTE                      PROCEDURE            30           AND (T1.FILE_REGISTRY_ID  = X.FILE_REGISTRY_ID OR T1.FILE_REGISTRY_ID    IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            31           AND (T1.ETAPA             = X.ETAPA          OR T1.ETAPA    IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            32           AND (T1.ORIGEM            = X.ORIGEM         OR T1.ORIGEM   IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            33           AND (T1.STATUS            = X.STATUS         OR T1.STATUS   IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            34           AND (T1.TIPO_CDR          = X.TIPO_CDR       OR T1.TIPO_CDR IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            35           AND (T1.TIPO_ASSINANTE    = X.TIPO_ASSINANTE OR T1.TIPO_ASSINANTE IS NULL)
IRPTOW     PRC_TESTE                      PROCEDURE            36           AND ROWNUM               <= (TO_NUMBER(X.TOTAL) -1)) LOOP
IRPTOW     PRC_TESTE                      PROCEDURE            37
IRPTOW     PRC_TESTE                      PROCEDURE            38     --DBMS_OUTPUT.PUT_LINE('***ROWID=>'||Y.ENDERECO||' REGISTRO=>'||Y.DATA_HR_EVENTO||' '||Y.REGIONAL||' '||Y.ETAPA||' '||Y.FILE_REGISTRY_ID||' '||Y.STATUS);
IRPTOW     PRC_TESTE                      PROCEDURE            39           INSERT INTO TB_ENDERECO VALUES (Y.ENDERECO);
IRPTOW     PRC_TESTE                      PROCEDURE            40     END LOOP;
IRPTOW     PRC_TESTE                      PROCEDURE            41     END;
IRPTOW     PRC_TESTE                      PROCEDURE            42    END LOOP;
IRPTOW     PRC_TESTE                      PROCEDURE            43   END;
IRPTOW     PRC_TESTE                      PROCEDURE            44   COMMIT;
IRPTOW     PRC_TESTE                      PROCEDURE            45 END;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               1 TRIGGER TRG_COBILLING_IRPT
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               2 AFTER INSERT ON INPUT_RECORDS
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               3 FOR EACH ROW
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               4 DECLARE
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               5 V_FILE           INPUT_RECORDS.FILE_REGISTRY_ID%TYPE := SUBSTR(:NEW.FILE_REGISTRY_ID,1,INSTR(:NEW.FILE_REGISTRY_ID,'.')-1);
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               6 V_ROWID   	 VARCHAR2(18) := NULL;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               7
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               8 BEGIN
IRPTOW     TRG_COBILLING_IRPT             TRIGGER               9 	IF INSERTING AND :NEW.ELEMENTO_REDE LIKE '%TER|CO_%' THEN
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              10
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              11 		BEGIN
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              12 			 SELECT	ROWID
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              13 		   	   INTO V_ROWID
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              14 		 	   FROM TB_COBILLING_IRPT
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              15 		 	   WHERE REGIONAL          = :NEW.REGIONAL
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              16 		   	     AND ELEMENTO_REDE     = :NEW.ELEMENTO_REDE
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              17 		   	     AND ARQUIVO_ENTRADA   = :NEW.ARQUIVO_ENTRADA
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              18 		   	     AND FILE_REGISTRY_ID  =  V_FILE
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              19  			     AND DATA_EVENTO       = SUBSTR(:NEW.DATA_HR_EVENTO,1,8);
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              20 	    		exception
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              21 				when others then
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              22 				V_ROWID          := NULL;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              23 		END;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              24
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              25                --- DBMS_OUTPUT.PUT_LINE('ROWID=>'||V_ROWID||' ELEMENTO => '||:NEW.ELEMENTO_REDE );
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              26
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              27 		IF V_ROWID IS NOT NULL THEN
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              28 	    		UPDATE TB_COBILLING_IRPT
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              29 	    		SET TOTAL_CDRS    =  TOTAL_CDRS + :NEW.TOTAL_CDRS,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              30 	    		    DATA_INCLUSAO = SYSDATE
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              31 	    		 WHERE ROWID = V_ROWID;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              32 		ELSE
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              33 		     INSERT INTO TB_COBILLING_IRPT  (REGIONAL,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              34         				   	ELEMENTO_REDE,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              35         				   	ARQUIVO_ENTRADA,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              36         				   	FILE_REGISTRY_ID,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              37         			   	   	DATA_EVENTO,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              38         			   	 	TOTAL_CDRS,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              39         			   		DATA_INCLUSAO)
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              40                                		VALUES (:NEW.REGIONAL,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              41                                	  		:NEW.ELEMENTO_REDE,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              42 						:NEW.ARQUIVO_ENTRADA,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              43        			           		V_FILE,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              44        			          		SUBSTR(:NEW.DATA_HR_EVENTO,1,8),
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              45        			          		:NEW.TOTAL_CDRS,
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              46        			          		SYSDATE);
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              47 		END IF;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              48
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              49 	END IF;
IRPTOW     TRG_COBILLING_IRPT             TRIGGER              50 END;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               1 TRIGGER TRG_IRPT_GNFCDR
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               2 BEFORE INSERT ON GNFCDR_TMP
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               3 FOR EACH ROW
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               4 DECLARE
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               5 iCursor         integer;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               6 iReturnValue    integer;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               7 V_DUR_FATURADA	 GNFCDR_TMP.DUR_FATURADA%TYPE;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               8 V_DUR_ATEND      GNFCDR_TMP.DUR_ATEND%TYPE;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER               9 V_QT_CHAMADAS    GNFCDR_TMP.QT_CHAMADAS%TYPE;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              10 V_ROWID   	 VARCHAR2(18) := NULL;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              11
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              12 BEGIN
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              13   IF INSERTING THEN
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              14 ---DBMS_OUTPUT.PUT_LINE('INSERTING NOME_ARQUIVO=>'||:NEW.NOME_ARQUIVO);
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              15 	BEGIN
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              16 		SELECT	ROWID,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              17 			NVL(DUR_FATURADA,0),
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              18 			NVL(DUR_ATEND,0),
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              19 			NVL(QT_CHAMADAS,0)
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              20 		   INTO V_ROWID,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              21 			V_DUR_FATURADA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              22 			V_DUR_ATEND,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              23 			V_QT_CHAMADAS
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              24 		  FROM GNFCDR
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              25 		 WHERE CALL_DATE         = :NEW.CALL_DATE
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              26 		   AND NOME_ARQUIVO      = :NEW.NOME_ARQUIVO
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              27 		   AND TP_CDR            = :NEW.TP_CDR
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              28 		   AND DT_ATENDIMENTO    = :NEW.DT_ATENDIMENTO
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              29 		   AND TP_NUMERO_A       = :NEW.TP_NUMERO_A
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              30 		   AND TP_NUMERO_B       = :NEW.TP_NUMERO_B
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              31 		   AND TP_NUMERO_C       = :NEW.TP_NUMERO_C
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              32 		   AND TP_TRAFEGO        = :NEW.TP_TRAFEGO
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              33 		   AND CD_PRESTADORA     = :NEW.CD_PRESTADORA
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              34 		   AND TP_TARIFA         = :NEW.TP_TARIFA
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              35 		   AND CLASS_DISTANCIA   = :NEW.CLASS_DISTANCIA
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              36 		   AND CD_OPERADORA      = :NEW.CD_OPERADORA
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              37 		   AND EOT_ROT_ENT       = :NEW.EOT_ROT_ENT
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              38 		   AND EOT_ROT_SAI       = :NEW.EOT_ROT_SAI
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              39 		   AND CD_OPER_ASS_A     = :NEW.CD_OPER_ASS_A
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              40 		   AND CD_OPER_ASS_B     = :NEW.CD_OPER_ASS_B
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              41 		   AND CD_OPER_ASS_C     = :NEW.CD_OPER_ASS_C
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              42 		   AND TP_VISITANTE      = :NEW.TP_VISITANTE;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              43 	    exception
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              44 		when others then
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              45 		V_ROWID          := NULL;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              46 		V_DUR_FATURADA   := 0;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              47 		V_DUR_ATEND      := 0;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              48 		V_QT_CHAMADAS    := 0;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              49 	END;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              50 --- DBMS_OUTPUT.PUT_LINE('ROWID=> '||V_ROWID);
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              51
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              52 	IF V_ROWID IS NULL THEN
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              53 --- Aqui e inserido os dados
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              54             INSERT INTO GNFCDR (NOME_ARQUIVO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              55         			TP_CDR,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              56         			DT_ATENDIMENTO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              57         			TP_NUMERO_A,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              58         			TP_NUMERO_B,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              59         			TP_NUMERO_C,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              60         			TP_TRAFEGO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              61         			CD_PRESTADORA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              62         			TP_TARIFA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              63         			CLASS_DISTANCIA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              64         			CD_OPERADORA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              65         			EOT_ROT_ENT,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              66         			EOT_ROT_SAI,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              67         			CD_OPER_ASS_A,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              68         			CD_OPER_ASS_B,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              69         			CD_OPER_ASS_C,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              70         			DUR_FATURADA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              71         			TP_VISITANTE,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              72         			DUR_ATEND,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              73         			QT_CHAMADAS,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              74         			CALL_DATE,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              75         			DATA_INCLUSAO)
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              76             		VALUES (:NEW.NOME_ARQUIVO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              77         			:NEW.TP_CDR,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              78         			:NEW.DT_ATENDIMENTO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              79         			:NEW.TP_NUMERO_A,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              80         			:NEW.TP_NUMERO_B,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              81         			:NEW.TP_NUMERO_C,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              82         			:NEW.TP_TRAFEGO,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              83         			:NEW.CD_PRESTADORA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              84         			:NEW.TP_TARIFA,

OWNER      NAME                           TYPE               LINE TEXT
---------- ------------------------------ ------------ ---------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              85         			:NEW.CLASS_DISTANCIA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              86         			:NEW.CD_OPERADORA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              87         			:NEW.EOT_ROT_ENT,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              88         			:NEW.EOT_ROT_SAI,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              89         			:NEW.CD_OPER_ASS_A,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              90         			:NEW.CD_OPER_ASS_B,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              91         			:NEW.CD_OPER_ASS_C,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              92         			:NEW.DUR_FATURADA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              93         			:NEW.TP_VISITANTE,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              94         			:NEW.DUR_ATEND,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              95         			:NEW.QT_CHAMADAS,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              96         			:NEW.CALL_DATE,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              97         			:NEW.DATA_INCLUSAO);
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              98 	ELSE
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER              99 --- Aqui e atualizado os dados
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             100 			 UPDATE GNFCDR
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             101 				SET DUR_FATURADA = :NEW.DUR_FATURADA,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             102 				    DUR_ATEND    = :NEW.DUR_ATEND,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             103 				    QT_CHAMADAS  = :NEW.QT_CHAMADAS,
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             104 				    DATA_INCLUSAO = SYSDATE
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             105 			  WHERE ROWID = V_ROWID;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             106
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             107 	END IF;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             108   END IF;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             109 ---Limpa a tabela temporaria
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             110 --DELETE FROM GNFCDR_TMP;
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             111 --  	DBMS_SQL.PARSE(iCursor,'TRUNCATE TABLE GNFCDR_TMP',DBMS_SQL.NATIVE);
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             112 --	iReturnValue := DBMS_SQL.EXECUTE(iCursor);
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             113
IRPTOW     TRG_IRPT_GNFCDR                TRIGGER             114 END;
